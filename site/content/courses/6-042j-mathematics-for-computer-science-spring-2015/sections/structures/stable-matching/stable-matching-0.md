---
about_this_resource_text: ''
embedded_media:
  - id: background-image-ocw-jpg
    parent_uid: 781e6bc86f7eeaec971e17bc4e037f96
    title: Background Image-OCW-JPG
    type: Background Image
    uid: d5fc47c1b34c31667845c1e75521b508
  - id: Video-iTunes U-MP4
    media_location: 'https://itunes.apple.com/us/itunes-u/id1077791636'
    parent_uid: 781e6bc86f7eeaec971e17bc4e037f96
    title: Video-iTunes U-MP4
    type: Video
    uid: b20f55e3242d51d64ee3afa4c30f673e
  - id: Video-YouTube-Stream
    media_location: RE5PmdGNgj0
    parent_uid: 781e6bc86f7eeaec971e17bc4e037f96
    title: Video-YouTube-Stream
    type: Video
    uid: 8d89faec6faa8d070961072b81042535
  - id: Thumbnail-YouTube-JPG
    media_location: 'https://img.youtube.com/vi/RE5PmdGNgj0/default.jpg'
    parent_uid: 781e6bc86f7eeaec971e17bc4e037f96
    title: Thumbnail-YouTube-JPG
    type: Thumbnail
    uid: 0817893fb7d233d532480d5826de7e89
  - id: 3Play-3Play YouTube id-Stream
    media_location: RE5PmdGNgj0
    parent_uid: 781e6bc86f7eeaec971e17bc4e037f96
    title: 3Play-3Play YouTube id
    type: 3Play
    uid: 750ee71a80352d8ce50e5b3f6439bc78
  - id: RE5PmdGNgj0.srt
    parent_uid: 781e6bc86f7eeaec971e17bc4e037f96
    technical_location: >-
      https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-042j-mathematics-for-computer-science-spring-2015/structures/stable-matching/stable-matching-0/RE5PmdGNgj0.srt
    title: 3play caption file
    type: null
    uid: b7aa8711ef220053b2028c52a7402536
  - id: RE5PmdGNgj0.pdf
    parent_uid: 781e6bc86f7eeaec971e17bc4e037f96
    technical_location: >-
      https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-042j-mathematics-for-computer-science-spring-2015/structures/stable-matching/stable-matching-0/RE5PmdGNgj0.pdf
    title: 3play pdf file
    type: null
    uid: 03c504efa6564817cf33c3e2d7b31605
  - id: Caption-3Play YouTube id-SRT
    parent_uid: 781e6bc86f7eeaec971e17bc4e037f96
    title: Caption-3Play YouTube id-SRT-English - US
    type: Caption
    uid: 8fcd2b8ec50fd1c1b6ab8a6c9bec714d
  - id: Transcript-3Play YouTube id-PDF
    parent_uid: 781e6bc86f7eeaec971e17bc4e037f96
    title: Transcript-3Play YouTube id-PDF-English - US
    type: Transcript
    uid: 62609c45ec5fce03a98974c7a19e2f23
  - id: Video-Internet Archive-MP4
    media_location: >-
      https://archive.org/download/MIT6.042JS15/MIT6_042JS15_stablematch_video2_ipod.mp4
    parent_uid: 781e6bc86f7eeaec971e17bc4e037f96
    title: Video-Internet Archive-MP4
    type: Video
    uid: c6d327ed18443518e31ae6333de3dea3
inline_embed_id: 87036519stablematching18039231
order_index: 1057
parent_uid: 47305688cc389e2f9dc3019a395b3b37
related_resources_text: ''
short_url: stable-matching-0
technical_location: >-
  https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-042j-mathematics-for-computer-science-spring-2015/structures/stable-matching/stable-matching-0
title: Stable Matching
transcript: >-
  <p><span m='1150'>We've</span> <span m='1340'>seen</span> <span
  m='3130'>graphs</span> <span m='3540'>involving</span> <span
  m='4250'>boys</span> <span m='4560'>and</span> <span m='4650'>girls</span>
  <span m='4920'>and</span> <span m='5020'>connections</span> <span
  m='5510'>between</span> <span m='5920'>them</span> <span m='6080'>in</span>
  <span m='6150'>the</span> <span m='6230'>context</span> <span
  m='6770'>of</span> <span m='7480'>our</span> <span m='7840'>sexual</span>
  <span m='8630'>demographics</span> <span m='9600'>calculation</span> <span
  m='9980'>and</span> <span m='10360'>study.</span> <span m='12320'>A</span>
  <span m='12410'>similar</span> <span m='13740'>problem</span> <span
  m='14110'>comes</span> <span m='14390'>up</span> <span m='15610'>in</span>
  <span m='15830'>terms</span> <span m='16300'>of</span> <span
  m='17470'>what</span> <span m='17650'>I</span> <span m='17700'>call</span>
  <span m='17860'>stable</span> <span m='18250'>matching,</span> <span
  m='18810'>which</span> <span m='19010'>is</span> <span m='19120'>again</span>
  <span m='19780'>the</span> <span m='19930'>issue</span> <span
  m='20260'>of</span> <span m='20370'>matching</span> <span m='20790'>up</span>
  <span m='21220'>boys</span> <span m='21550'>and</span> <span
  m='21670'>girls</span> <span m='22950'>in</span> <span m='23120'>a</span>
  <span m='23750'>special</span> <span m='24140'>way</span> <span
  m='24290'>according</span> <span m='24620'>to</span> <span
  m='24740'>some</span> <span m='24930'>constraints.</span> <span
  m='25480'>It</span> <span m='25590'>turns</span> <span m='25800'>out</span>
  <span m='26040'>to have a</span> <span m='26090'>lot</span> <span
  m='26300'>of</span> <span m='26400'>applications</span> <span
  m='27070'>which</span> <span m='27260'>we'll</span> <span
  m='27400'>discuss</span> <span m='28150'>toward</span> <span
  m='28390'>the</span> <span m='28530'>end.</span> </p><p><span
  m='29030'>Let's</span> <span m='29250'>just</span> <span m='29430'>look</span>
  <span m='29580'>at</span> <span m='29620'>what</span> <span
  m='29760'>the</span> <span m='29850'>problem</span> <span m='30260'>is.</span>
  <span m='30680'>The</span> <span m='30780'>setup</span> <span
  m='31150'>is</span> <span m='31560'>that</span> <span m='31880'>there's</span>
  <span m='32250'>some</span> <span m='32530'>number</span> <span
  m='32920'>of</span> <span m='33150'>boys,</span> <span m='33910'>in</span>
  <span m='34080'>this</span> <span m='34250'>case</span> <span
  m='34540'>5,</span> <span m='35040'>1 through 5,</span> <span m='35540'>and
  an</span> <span m='35700'>equal</span> <span m='35960'>number</span> <span
  m='36300'>of</span> <span m='36410'>girls</span> <span
  m='36870'>labeled</span> <span m='37280'>A</span> <span
  m='37460'>through</span> <span m='37880'>E.</span> <span m='38920'>And</span>
  <span m='40470'>each</span> <span m='40740'>of</span> <span
  m='40860'>the</span> <span m='40930'>boys</span> <span m='41560'>has</span>
  <span m='42220'>a</span> <span m='42470'>ranking</span> <span
  m='43060'>of</span> <span m='43210'>the</span> <span m='43290'>girls.</span>
  <span m='43580'>Different</span> <span m='43870'>rankings,</span> <span
  m='44340'>because</span> <span m='44680'>different</span> <span
  m='44980'>boys</span> <span m='45200'>have</span> <span
  m='45350'>different</span> <span m='45670'>preferences.</span> <span
  m='46620'>And</span> <span m='46920'>likewise,</span> <span
  m='47510'>the</span> <span m='47590'>girls</span> <span m='48270'>have</span>
  <span m='48500'>rankings</span> <span m='48960'>of</span> <span
  m='49060'>the</span> <span m='49140'>boys.</span> <span
  m='49580'>Different</span> <span m='49900'>girls</span> <span
  m='50190'>have</span> <span m='50360'>different</span> <span
  m='50700'>preferences.</span> <span m='51340'>So</span> <span
  m='51410'>here,</span> <span m='51640'>girl</span> <span m='51970'>A</span>
  <span m='52160'>likes</span> <span m='52520'>boy</span> <span
  m='52720'>3</span> <span m='53060'>best</span> <span m='53760'>and</span>
  <span m='53950'>boy</span> <span m='54210'>5</span> <span
  m='54520'>second</span> <span m='54920'>best,</span> <span
  m='56070'>and</span> <span m='56500'>boy</span> <span m='56690'>1</span> <span
  m='57050'>likes</span> <span m='57490'>girls</span> <span m='57760'>C</span>
  <span m='58000'>best</span> <span m='58520'>and</span> <span m='58870'>girl
  D</span> <span m='59690'>least.</span> </p><p><span m='61670'>So</span> <span
  m='62240'>the</span> <span m='62350'>problem,</span> <span
  m='62710'>basically,</span> <span m='63230'>is</span> <span
  m='63420'>that</span> <span m='63530'>we</span> <span m='63660'>want</span>
  <span m='63870'>to</span> <span m='63940'>get</span> <span
  m='64269'>all</span> <span m='64459'>the</span> <span m='64540'>boys</span>
  <span m='64950'>married</span> <span m='65300'>to all</span> <span
  m='65550'>the</span> <span m='65630'>girls.</span> <span m='65870'>We</span>
  <span m='65950'>want</span> <span m='66120'>to</span> <span
  m='66600'>form</span> <span m='67030'>5</span> <span
  m='67960'>monogamous</span> <span m='69590'>bisexual</span> <span
  m='70280'>marriages,</span> <span m='71050'>a</span> <span
  m='71160'>boy</span> <span m='71470'>and a</span> <span m='71540'>girl,</span>
  <span m='73740'>and</span> <span m='74820'>we'd</span> <span
  m='75060'>like,</span> <span m='75630'>in</span> <span m='75800'>some</span>
  <span m='76040'>vague</span> <span m='76340'>way,</span> <span
  m='76770'>to</span> <span m='77960'>acknowledge</span> <span
  m='78680'>these</span> <span m='78950'>preferences</span> <span
  m='79790'>and</span> <span m='80410'>satisfy</span> <span m='80990'>as</span>
  <span m='81110'>many</span> <span m='81420'>as</span> <span
  m='81530'>we</span> <span m='81680'>can.</span> <span m='82030'>I'll be</span>
  <span m='82120'>more</span> <span m='82290'>specific</span> <span
  m='82810'>about</span> <span m='83090'>that</span> <span m='83290'>in</span>
  <span m='83390'>a</span> <span m='83430'>minute.</span> <span
  m='83820'>But</span> <span m='83900'>let's</span> <span m='84090'>just</span>
  <span m='84320'>play</span> <span m='84560'>with</span> <span
  m='84720'>that</span> <span m='84920'>idea</span> <span m='85420'>of</span>
  <span m='86090'>trying</span> <span m='86330'>to</span> <span
  m='86460'>accommodate</span> <span m='87460'>people's</span> <span
  m='87880'>preferences.</span> </p><p><span m='89420'>So</span> <span
  m='90010'>one</span> <span m='90240'>way</span> <span m='90480'>to</span>
  <span m='90620'>do</span> <span m='90860'>it</span> <span m='91000'>is</span>
  <span m='91290'>let's</span> <span m='91550'>just</span> <span
  m='91790'>decide,</span> <span m='92250'>well,</span> <span
  m='92560'>we'll</span> <span m='92810'>favor</span> <span m='93130'>the</span>
  <span m='93230'>boys</span> <span m='93580'>this</span> <span
  m='93780'>time.</span> <span m='93970'>Let's</span> <span m='94170'>try</span>
  <span m='94460'>a</span> <span m='94530'>greedy</span> <span
  m='95000'>strategy</span> <span m='95600'>for</span> <span
  m='95800'>the</span> <span m='95870'>boys.</span> <span m='96430'>Let's</span>
  <span m='96640'>just</span> <span m='96840'>look</span> <span
  m='97000'>at</span> <span m='97090'>the</span> <span m='97160'>boy</span>
  <span m='97420'>preferences.</span> <span m='98170'>And</span> <span
  m='98360'>a greedy</span> <span m='98550'>strategy</span> <span
  m='98980'>means</span> <span m='99110'>I'm</span> <span m='99250'>going</span>
  <span m='99370'>to</span> <span m='99450'>try</span> <span m='99630'>to</span>
  <span m='99690'>give</span> <span m='100750'>each</span> <span
  m='101040'>boy</span> <span m='101610'>the</span> <span m='101710'>best</span>
  <span m='102030'>possible</span> <span m='102980'>choice</span> <span
  m='103450'>that he</span> <span m='103520'>can</span> <span
  m='103740'>make.</span> </p><p><span m='104040'>So</span> <span
  m='104150'>I'm</span> <span m='104300'>going</span> <span m='104450'>to</span>
  <span m='104510'>start</span> <span m='104830'>off</span> <span
  m='105270'>by</span> <span m='105760'>deciding</span> <span
  m='106300'>that</span> <span m='106500'>let's</span> <span
  m='106750'>let</span> <span m='107040'>boy</span> <span m='107220'>1</span>
  <span m='107500'>have</span> <span m='107790'>his</span> <span
  m='108630'>first</span> <span m='108950'>choice,</span> <span
  m='109320'>girl</span> <span m='109540'>C.</span> <span m='110200'>I'm</span>
  <span m='110380'>going</span> <span m='110510'>to</span> <span
  m='110560'>marry</span> <span m='110890'>them</span> <span
  m='111130'>off.</span> <span m='111920'>And</span> <span
  m='112040'>once</span> <span m='112220'>I've</span> <span
  m='112260'>married</span> <span m='112570'>them</span> <span
  m='112750'>off,</span> <span m='112990'>I'll</span> <span
  m='113110'>just</span> <span m='113450'>stop</span> <span
  m='113760'>considering</span> <span m='114360'>1</span> <span
  m='114530'>and</span> <span m='114660'>C.</span> <span m='115450'>And</span>
  <span m='115710'>now</span> <span m='115890'>I</span> <span
  m='116000'>have</span> <span m='116180'>a</span> <span
  m='116260'>reduced</span> <span m='116650'>problem.</span> <span
  m='117240'>I</span> <span m='117360'>have</span> <span m='117750'>four</span>
  <span m='118080'>remaining</span> <span m='118440'>boys</span> <span
  m='118760'>and</span> <span m='118860'>four</span> <span
  m='119110'>remaining</span> <span m='119510'>girls.</span> </p><p><span
  m='120250'>And</span> <span m='120460'>proceeding</span> <span
  m='120980'>in</span> <span m='121080'>this</span> <span
  m='121280'>way--</span> <span m='121500'>greedy</span> <span
  m='121970'>way</span> <span m='122220'>for</span> <span
  m='122370'>boys--</span> <span m='122740'>I'm</span> <span
  m='122870'>going</span> <span m='123000'>to</span> <span m='123070'>now</span>
  <span m='123340'>give</span> <span m='123660'>boy</span> <span
  m='123870'>2</span> <span m='124600'>his</span> <span m='125350'>next</span>
  <span m='126530'>choice</span> <span m='127050'>that</span> <span
  m='127180'>remains,</span> <span m='127910'>namely</span> <span
  m='128289'>girl</span> <span m='128650'>A.</span> <span m='129009'>And
  I'll</span> <span m='129139'>marry</span> <span m='129509'>them</span> <span
  m='129800'>off.</span> <span m='130530'>And</span> <span
  m='131120'>again,</span> <span m='131530'>now</span> <span m='131890'>2</span>
  <span m='132180'>and</span> <span m='132280'>A</span> <span
  m='132960'>can</span> <span m='133210'>be</span> <span
  m='133420'>eliminated</span> <span m='133940'>from</span> <span
  m='134090'>consideration.</span> <span m='135160'>I</span> <span
  m='135280'>continue</span> <span m='135810'>in</span> <span
  m='135920'>this</span> <span m='136120'>way</span> <span m='136560'>and</span>
  <span m='136850'>I</span> <span m='136890'>wind</span> <span
  m='137260'>up</span> <span m='137780'>with</span> <span m='138160'>this</span>
  <span m='138470'>set</span> <span m='138720'>of</span> <span
  m='138840'>five</span> <span m='139170'>marriages</span> <span
  m='139990'>ending</span> <span m='140440'>with</span> <span
  m='141070'>boy</span> <span m='141270'>5</span> <span
  m='141660'>married</span> <span m='142060'>to</span> <span
  m='142120'>girl</span> <span m='142450'>E.</span> </p><p><span
  m='144050'>OK.</span> <span m='145280'>Now</span> <span m='145430'>if</span>
  <span m='145540'>we</span> <span m='145620'>look</span> <span
  m='145830'>at</span> <span m='145930'>this</span> <span m='146110'>set</span>
  <span m='146280'>of</span> <span m='146340'>marriages,</span> <span
  m='146850'>there's</span> <span m='147010'>a</span> <span
  m='147090'>problem</span> <span m='147560'>which</span> <span
  m='147760'>motivates</span> <span m='148390'>the</span> <span
  m='148470'>whole</span> <span m='148780'>stable</span> <span
  m='149180'>marriage</span> <span m='149580'>problem</span> <span
  m='149835'>that</span> <span m='150090'>we're</span> <span
  m='150180'>going</span> <span m='150300'>to</span> <span m='150370'>be</span>
  <span m='151720'>examining.</span> <span m='152280'>Namely,</span> <span
  m='153090'>we've</span> <span m='153300'>married</span> <span
  m='153630'>off</span> <span m='153830'>boy</span> <span m='154040'>1</span>
  <span m='154380'>to his</span> <span m='154610'>first</span> <span
  m='154880'>choice,</span> <span m='155160'>girl</span> <span
  m='155400'>C.</span> <span m='156000'>He</span> <span m='156130'>should</span>
  <span m='156350'>be</span> <span m='156460'>happy,</span> <span
  m='156950'>but</span> <span m='157090'>she</span> <span m='157270'>may</span>
  <span m='157400'>not</span> <span m='157600'>be.</span> <span
  m='158700'>And</span> <span m='158870'>we've</span> <span
  m='159060'>also</span> <span m='159440'>married</span> <span
  m='159830'>off</span> <span m='160150'>boy</span> <span m='160400'>4</span>
  <span m='160850'>to</span> <span m='161300'>girl</span> <span
  m='161700'>B.</span> </p><p><span m='162810'>Now</span> <span
  m='163780'>a</span> <span m='163880'>difficulty</span> <span
  m='164480'>here</span> <span m='164810'>is</span> <span m='165200'>that
  if</span> <span m='165560'>you</span> <span m='165660'>look</span> <span
  m='165950'>at</span> <span m='166230'>the</span> <span
  m='167100'>preferences,</span> <span m='168690'>girl</span> <span
  m='169000'>C</span> <span m='169780'>actually</span> <span
  m='171530'>is</span> <span m='172170'>more</span> <span
  m='172490'>desirable</span> <span m='173350'>to</span> <span
  m='173480'>boy</span> <span m='173750'>4</span> <span m='174350'>than</span>
  <span m='174800'>girl</span> <span m='175210'>B.</span> <span
  m='175810'>Girl</span> <span m='176090'>C,</span> <span m='176650'>or</span>
  <span m='177240'>boy</span> <span m='177530'>4,</span> <span
  m='178380'>likes</span> <span m='178680'>somebody</span> <span
  m='179120'>else's</span> <span m='179520'>wife</span> <span
  m='179970'>better</span> <span m='180220'>than</span> <span m='180420'>his
  own.</span> <span m='181280'>And</span> <span m='181660'>what</span> <span
  m='181930'>makes</span> <span m='182210'>it</span> <span
  m='182330'>really</span> <span m='182600'>bad</span> <span
  m='182930'>is</span> <span m='183760'>that</span> <span m='184450'>girl</span>
  <span m='184810'>C,</span> <span m='185400'>the</span> <span
  m='185530'>other</span> <span m='185720'>person's</span> <span
  m='186130'>wife,</span> <span m='186790'>likes</span> <span
  m='187310'>boy</span> <span m='187550'>4</span> <span m='187970'>better</span>
  <span m='188270'>than</span> <span m='188500'>her</span> <span
  m='188720'>husband.</span> <span m='190000'>Each</span> <span
  m='190220'>of</span> <span m='190330'>them</span> <span
  m='190510'>would</span> <span m='190690'>be</span> <span
  m='190820'>better</span> <span m='191170'>off</span> <span
  m='191380'>if</span> <span m='191520'>they</span> <span m='191640'>ran</span>
  <span m='191920'>off</span> <span m='192120'>together.</span> <span
  m='192530'>They</span> <span m='192790'>are,</span> <span
  m='192990'>whether</span> <span m='193240'>they</span> <span
  m='193740'>do</span> <span m='193880'>or</span> <span m='194030'>not,</span>
  <span m='194460'>they</span> <span m='194600'>certainly</span> <span
  m='195010'>are</span> <span m='195140'>under</span> <span
  m='195360'>tremendous</span> <span m='195910'>pressure.</span> <span
  m='196215'>It</span> <span m='196520'>makes</span> <span
  m='196860'>this</span> <span m='196960'>set</span> <span m='197210'>of</span>
  <span m='197320'>marriages</span> <span m='197880'>unstable.</span>
  </p><p><span m='199540'>So</span> <span m='199600'>they're</span> <span
  m='199820'>called</span> <span m='200110'>a</span> <span
  m='200320'>rogue</span> <span m='200840'>couple.</span> <span
  m='201330'>When</span> <span m='201530'>you</span> <span
  m='201640'>have</span> <span m='202050'>in</span> <span m='202190'>a</span>
  <span m='202250'>set</span> <span m='202480'>of</span> <span
  m='202570'>marriages</span> <span m='203300'>a</span> <span
  m='205350'>boy</span> <span m='205730'>and</span> <span m='205970'>a</span>
  <span m='206030'>girl</span> <span m='206590'>who</span> <span
  m='206830'>prefer</span> <span m='207210'>each</span> <span
  m='207470'>other</span> <span m='207930'>over</span> <span
  m='208240'>their</span> <span m='208450'>current</span> <span
  m='208770'>spouses,</span> <span m='209710'>they</span> <span
  m='209900'>are</span> <span m='210040'>said</span> <span m='210370'>to</span>
  <span m='210450'>be</span> <span m='211140'>a</span> <span
  m='211450'>rogue</span> <span m='211910'>couple</span> <span
  m='212470'>and</span> <span m='212830'>a</span> <span m='212900'>source</span>
  <span m='213310'>of</span> <span m='213450'>instability.</span> <span
  m='215300'>So</span> <span m='215340'>the</span> <span
  m='215440'>stable</span> <span m='215830'>marriage</span> <span
  m='216240'>problem</span> <span m='216700'>is</span> <span
  m='217330'>let's</span> <span m='217750'>see</span> <span m='217970'>if</span>
  <span m='218130'>we</span> <span m='218250'>can</span> <span
  m='218450'>get</span> <span m='219210'>everybody</span> <span
  m='219650'>married</span> <span m='220140'>off</span> <span
  m='220820'>and</span> <span m='221000'>have</span> <span m='221500'>no</span>
  <span m='221990'>rogue</span> <span m='222530'>couples.</span> <span
  m='223420'>It'll</span> <span m='223610'>be</span> <span m='223800'>a</span>
  <span m='223860'>stable</span> <span m='224410'>set</span> <span
  m='224650'>of</span> <span m='224760'>marriages.</span> </p><p><span
  m='225400'>Now</span> <span m='225570'>people</span> <span
  m='225930'>may</span> <span m='226080'>not</span> <span m='226290'>be</span>
  <span m='226430'>happy,</span> <span m='227250'>but</span> <span
  m='227480'>it</span> <span m='227600'>doesn't</span> <span
  m='227900'>matter</span> <span m='228340'>because</span> <span
  m='228720'>they'll</span> <span m='228860'>never</span> <span
  m='229150'>find</span> <span m='229490'>anybody</span> <span
  m='229970'>else</span> <span m='230640'>that</span> <span m='231680'>is</span>
  <span m='231860'>unhappy</span> <span m='232420'>in</span> <span
  m='232550'>the</span> <span m='232630'>same</span> <span m='232960'>way</span>
  <span m='233330'>that</span> <span m='233510'>would</span> <span
  m='233700'>be</span> <span m='233830'>willing</span> <span
  m='234240'>to</span> <span m='234650'>run</span> <span m='234870'>off</span>
  <span m='235230'>with</span> <span m='235430'>them</span> <span
  m='235920'>and</span> <span m='236160'>make</span> <span
  m='236370'>them</span> <span m='236500'>happier.</span> <span
  m='237320'>So</span> <span m='238020'>it's</span> <span
  m='238390'>stable.</span> <span m='239680'>And</span> <span
  m='239810'>it</span> <span m='239910'>turns</span> <span m='240220'>out</span>
  <span m='240630'>that</span> <span m='241010'>there</span> <span
  m='241250'>always</span> <span m='241520'>is</span> <span m='241710'>a</span>
  <span m='241830'>way</span> <span m='242000'>to</span> <span
  m='242090'>find</span> <span m='242430'>a</span> <span
  m='242480'>stable</span> <span m='242980'>set</span> <span
  m='243200'>of</span> <span m='243280'>marriages.</span> <span
  m='244220'>A</span> <span m='244620'>couple</span> <span m='245020'>of
  ways.</span> <span m='246050'>But</span> <span m='246610'>why</span> <span
  m='246750'>don't</span> <span m='246890'>we</span> <span
  m='247000'>just</span> <span m='247320'>play</span> <span
  m='247600'>with</span> <span m='247770'>the</span> <span
  m='247920'>idea.</span> </p><p><span m='248860'>Here</span> <span
  m='249390'>is</span> <span m='249640'>display</span> <span
  m='250590'>of</span> <span m='250800'>those</span> <span
  m='251520'>preferences</span> <span m='252200'>again</span> <span
  m='252820'>and</span> <span m='253510'>you</span> <span m='253650'>can</span>
  <span m='253800'>stop</span> <span m='254170'>the</span> <span
  m='254260'>video</span> <span m='254900'>and</span> <span
  m='255530'>fiddle</span> <span m='256019'>with</span> <span
  m='256180'>a</span> <span m='256230'>piece</span> <span m='256470'>of</span>
  <span m='256540'>paper</span> <span m='256850'>and</span> <span
  m='256940'>see</span> <span m='257050'>if</span> <span m='257130'>you</span>
  <span m='257250'>can</span> <span m='257380'>come</span> <span
  m='257620'>up</span> <span m='258089'>with</span> <span m='259380'>a</span>
  <span m='259480'>stable</span> <span m='259820'>set</span> <span
  m='260050'>of</span> <span m='260579'>marriages</span> <span
  m='261100'>between</span> <span m='261450'>the</span> <span
  m='261589'>boys</span> <span m='261860'>and</span> <span
  m='262040'>girls.</span> <span m='262760'>We</span> <span
  m='262860'>used</span> <span m='263030'>to</span> <span m='263110'>do</span>
  <span m='263240'>this</span> <span m='263470'>in</span> <span
  m='263600'>class</span> <span m='264040'>in</span> <span
  m='264160'>real</span> <span m='264470'>time.</span> <span
  m='264880'>We</span> <span m='265020'>would</span> <span
  m='265230'>give</span> <span m='266390'>five</span> <span
  m='266690'>different</span> <span m='267030'>boys</span> <span
  m='267430'>a</span> <span m='267560'>chart</span> <span m='268010'>of</span>
  <span m='268260'>preferences</span> <span m='268870'>of</span> <span
  m='268990'>girls,</span> <span m='269320'>and we'd</span> <span
  m='269520'>give</span> <span m='269700'>the</span> <span
  m='269780'>five</span> <span m='270050'>different</span> <span
  m='270370'>girls</span> <span m='271000'>a</span> <span
  m='271130'>chart</span> <span m='271430'>of</span> <span
  m='271530'>preferences</span> <span m='272150'>of</span> <span
  m='272230'>boys.</span> <span m='272580'>They</span> <span
  m='272680'>were</span> <span m='272790'>not</span> <span
  m='272970'>supposed</span> <span m='273320'>to</span> <span
  m='273420'>tell</span> <span m='273740'>each</span> <span
  m='273950'>other</span> <span m='274170'>what</span> <span
  m='274370'>their</span> <span m='274520'>preferences</span> <span
  m='275100'>were,</span> <span m='275700'>but</span> <span
  m='275920'>the</span> <span m='276000'>girls</span> <span
  m='276250'>were</span> <span m='276330'>supposed</span> <span
  m='276620'>to</span> <span m='276670'>be</span> <span
  m='276810'>interviewing</span> <span m='277250'>the</span> <span
  m='277330'>boys</span> <span m='277660'>and the</span> <span
  m='277800'>boys</span> <span m='278080'>interviewing</span> <span
  m='278520'>the</span> <span m='278610'>girls</span> <span
  m='279590'>simultaneously</span> <span m='280460'>in a</span> <span
  m='280590'>parallel,</span> <span m='281400'>and</span> <span
  m='281650'>try</span> <span m='281860'>to</span> <span m='282020'>agree</span>
  <span m='282350'>to</span> <span m='282410'>get</span> <span
  m='282650'>married</span> <span m='283260'>and</span> <span
  m='283610'>see</span> <span m='283880'>whether</span> <span
  m='284390'>the</span> <span m='284490'>set</span> <span m='284680'>of</span>
  <span m='284770'>marriages</span> <span m='285290'>that</span> <span
  m='285450'>they</span> <span m='285560'>wound</span> <span
  m='285870'>up</span> <span m='286040'>with</span> <span m='286200'>were</span>
  <span m='286310'>stable.</span> </p><p><span m='286920'>Most</span> <span
  m='287200'>of</span> <span m='287260'>the</span> <span m='287370'>time</span>
  <span m='287610'>they</span> <span m='287710'>actually</span> <span
  m='288060'>did</span> <span m='288260'>wind</span> <span m='288590'>up</span>
  <span m='288810'>with</span> <span m='288960'>a</span> <span
  m='289000'>stable</span> <span m='289330'>set</span> <span
  m='289530'>of</span> <span m='289590'>marriages,</span> <span
  m='290270'>but</span> <span m='290440'>not</span> <span
  m='290660'>always.</span> <span m='291390'>Just an</span> <span
  m='291640'>amusing</span> <span m='292130'>exercise.</span> <span
  m='292930'>And</span> <span m='293130'>it</span> <span m='293230'>does</span>
  <span m='293410'>illustrate</span> <span m='293970'>something</span> <span
  m='294320'>about</span> <span m='294700'>the</span> <span
  m='294840'>fact</span> <span m='295210'>that</span> <span
  m='295940'>the</span> <span m='296060'>procedures</span> <span
  m='296520'>that</span> <span m='296640'>we're</span> <span
  m='296740'>going</span> <span m='296850'>to</span> <span m='296910'>be</span>
  <span m='297030'>going</span> <span m='297330'>through</span> <span
  m='297520'>to</span> <span m='297590'>find</span> <span
  m='297900'>stable</span> <span m='298220'>marriages</span> <span
  m='298730'>work</span> <span m='299020'>very</span> <span
  m='299250'>nicely</span> <span m='300090'>if</span> <span
  m='300300'>you</span> <span m='300440'>choose</span> <span
  m='300780'>to</span> <span m='300900'>do</span> <span m='301030'>them</span>
  <span m='301220'>in</span> <span m='301300'>parallel.</span> </p><p><span
  m='303190'>Anyway,</span> <span m='303830'>there</span> <span
  m='304130'>are,</span> <span m='304430'>it</span> <span
  m='304580'>turns</span> <span m='304900'>out,</span> <span
  m='305140'>two</span> <span m='305310'>sets</span> <span m='305630'>of</span>
  <span m='305700'>stable</span> <span m='306060'>marriages</span> <span
  m='307390'>that</span> <span m='307690'>we</span> <span m='307850'>can</span>
  <span m='308020'>find</span> <span m='308560'>in</span> <span
  m='308900'>this</span> <span m='309200'>particular</span> <span
  m='309740'>set</span> <span m='309930'>of</span> <span
  m='310020'>preferences.</span> <span m='311290'>The</span> <span
  m='311310'>simplest</span> <span m='311810'>one</span> <span
  m='311980'>to</span> <span m='312040'>understand</span> <span
  m='312660'>is</span> <span m='313680'>all</span> <span m='313860'>the</span>
  <span m='313950'>girls</span> <span m='314210'>get</span> <span
  m='314370'>their</span> <span m='314480'>first</span> <span
  m='314790'>choice.</span> <span m='315110'>It</span> <span
  m='315250'>so</span> <span m='315470'>happens,</span> <span
  m='315940'>if</span> <span m='316050'>you</span> <span m='316170'>look</span>
  <span m='316350'>at</span> <span m='316450'>that</span> <span
  m='316680'>chart,</span> <span m='317720'>all</span> <span
  m='317940'>of</span> <span m='318080'>the</span> <span m='318170'>girls</span>
  <span m='318580'>have</span> <span m='318890'>different</span> <span
  m='319280'>first</span> <span m='319620'>choice</span> <span
  m='319990'>boys.</span> <span m='321240'>If</span> <span m='321400'>we</span>
  <span m='321470'>simply</span> <span m='321780'>give</span> <span
  m='322070'>them</span> <span m='322220'>their</span> <span
  m='322370'>first</span> <span m='322680'>choice,</span> <span
  m='323890'>no</span> <span m='324090'>girl</span> <span m='324390'>is</span>
  <span m='324480'>going</span> <span m='324600'>to</span> <span
  m='324640'>be</span> <span m='324800'>tempted</span> <span
  m='325280'>to</span> <span m='325360'>be</span> <span m='325560'>part</span>
  <span m='325770'>of</span> <span m='325850'>a</span> <span
  m='325930'>rogue</span> <span m='326170'>couple</span> <span
  m='326670'>because she's</span> <span m='326880'>got</span> <span
  m='327020'>her</span> <span m='327110'>first</span> <span
  m='327410'>choice.</span> <span m='327680'>It's</span> <span
  m='327820'>absolutely</span> <span m='328220'>stable.</span> </p><p><span
  m='328880'>But</span> <span m='329080'>of</span> <span
  m='329140'>course,</span> <span m='329370'>that's</span> <span
  m='329590'>a</span> <span m='329630'>very</span> <span
  m='329900'>special</span> <span m='330310'>circumstance.</span> <span
  m='331110'>It would be</span> <span m='331360'>unusual</span> <span
  m='332350'>that</span> <span m='332760'>all</span> <span m='332950'>the</span>
  <span m='333040'>girls'</span> <span m='333350'>first</span> <span
  m='333640'>choices</span> <span m='334070'>were</span> <span
  m='334210'>different,</span> <span m='334590'>or</span> <span
  m='335090'>likewise,</span> <span m='335390'>it</span> <span
  m='335600'>would</span> <span m='335740'>be</span> <span
  m='335860'>unusual</span> <span m='336370'>if</span> <span
  m='336470'>all</span> <span m='336680'>the</span> <span
  m='336770'>boys'</span> <span m='337180'>first</span> <span
  m='337470'>choices</span> <span m='338110'>were</span> <span
  m='338220'>different.</span> <span m='338610'>But</span> <span
  m='338730'>if</span> <span m='338930'>they</span> <span
  m='339050'>were,</span> <span m='339290'>then</span> <span
  m='339480'>you</span> <span m='339650'>instantly</span> <span
  m='340140'>get</span> <span m='340690'>a</span> <span m='340800'>stable</span>
  <span m='341180'>set</span> <span m='341400'>of</span> <span
  m='341500'>marriages.</span> </p><p><span m='342530'>There's</span> <span
  m='342740'>another</span> <span m='343090'>stable</span> <span
  m='343450'>set</span> <span m='343710'>that's</span> <span
  m='343890'>not</span> <span m='344100'>quite</span> <span m='344380'>so</span>
  <span m='344550'>obvious.</span> <span m='345600'>And</span> <span
  m='345750'>you</span> <span m='345890'>can</span> <span
  m='346050'>check</span> <span m='346400'>that</span> <span
  m='347920'>all</span> <span m='348110'>of</span> <span m='348210'>these</span>
  <span m='348480'>pairs</span> <span m='350370'>have</span> <span
  m='350540'>no</span> <span m='350710'>instability.</span> <span
  m='351170'>There's</span> <span m='351370'>no</span> <span
  m='351540'>rogue</span> <span m='351770'>couples</span> <span
  m='352170'>in</span> <span m='352260'>here</span> <span m='352480'>when</span>
  <span m='352630'>I</span> <span m='352680'>marry</span> <span m='352960'>5
  to</span> <span m='353215'>A</span> <span m='353470'>and</span> <span
  m='353900'>1</span> <span m='354130'>to</span> <span m='354240'>E.</span>
  <span m='355730'>This</span> <span m='356070'>is</span> <span
  m='356220'>a</span> <span m='356320'>so-called</span> <span
  m='357390'>"boy</span> <span m='357790'>optimal"</span> <span
  m='359180'>set</span> <span m='359590'>of</span> <span
  m='359750'>marriages.</span> <span m='360340'>It</span> <span
  m='360460'>turns</span> <span m='360810'>out</span> <span
  m='361090'>that</span> <span m='361240'>in</span> <span m='361370'>this</span>
  <span m='361600'>set</span> <span m='361770'>of</span> <span
  m='361880'>marriages,</span> <span m='363020'>every</span> <span
  m='363380'>boy</span> <span m='363840'>gets</span> <span m='364290'>the</span>
  <span m='364380'>best</span> <span m='364760'>possible</span> <span
  m='365380'>spouse</span> <span m='365890'>that</span> <span
  m='366000'>he</span> <span m='366160'>could</span> <span
  m='366330'>possibly</span> <span m='366900'>get</span> <span
  m='368110'>in</span> <span m='368300'>any</span> <span m='368610'>set</span>
  <span m='368840'>of</span> <span m='368930'>stable</span> <span
  m='369310'>marriages.</span> <span m='369910'>There's</span> <span
  m='370110'>no</span> <span m='370290'>set</span> <span m='370520'>of</span>
  <span m='370600'>stable</span> <span m='370960'>marriages</span> <span
  m='371510'>in</span> <span m='371580'>which</span> <span m='371830'>boy</span>
  <span m='372040'>5</span> <span m='372470'>gets</span> <span
  m='372630'>a</span> <span m='372760'>more</span> <span
  m='372930'>desirable</span> <span m='373590'>girl</span> <span m='373830'>than
  A.</span> <span m='374600'>There's</span> <span m='374810'>no</span> <span
  m='374980'>set</span> <span m='375220'>of</span> <span
  m='375290'>stable</span> <span m='375650'>marriages</span> <span
  m='376200'>in</span> <span m='376290'>which</span> <span m='376560'>boy</span>
  <span m='376760'>1</span> <span m='377510'>gets</span> <span
  m='377740'>a</span> <span m='377800'>girl</span> <span
  m='378070'>that's</span> <span m='378230'>more</span> <span
  m='378410'>desirable</span> <span m='379070'>to</span> <span
  m='379160'>him</span> <span m='379410'>than</span> <span
  m='379500'>girl</span> <span m='379940'>E.</span> </p><p><span
  m='380720'>The</span> <span m='381010'>sad</span> <span m='381330'>news</span>
  <span m='381560'>is</span> <span m='381750'>that</span> <span
  m='381870'>it's</span> <span m='382010'>simultaneously</span> <span
  m='383490'>pessimal</span> <span m='384070'>for</span> <span
  m='384200'>the</span> <span m='384340'>girls.</span> <span
  m='384770'>That</span> <span m='384950'>is,</span> <span
  m='385590'>each</span> <span m='385850'>girl</span> <span m='386100'>is</span>
  <span m='386230'>getting</span> <span m='386790'>their</span> <span
  m='387030'>worst</span> <span m='387380'>possible</span> <span
  m='387960'>spouse</span> <span m='388820'>among all</span> <span
  m='389050'>sets</span> <span m='389350'>of</span> <span
  m='389430'>stable</span> <span m='389800'>marriages.</span> <span
  m='390190'>We'll</span> <span m='390370'>examine</span> <span
  m='390810'>that</span> <span m='391030'>further</span> <span
  m='391350'>in</span> <span m='391430'>a</span> <span m='391470'>minute.</span>
  </p><p><span m='392210'>But</span> <span m='392570'>let</span> <span
  m='392670'>me</span> <span m='392790'>just</span> <span
  m='393000'>point</span> <span m='393270'>out</span> <span
  m='393480'>that</span> <span m='393630'>this</span> <span m='393840'>is</span>
  <span m='394070'>more</span> <span m='394410'>than</span> <span
  m='394590'>a</span> <span m='394660'>puzzle.</span> <span m='395290'>I</span>
  <span m='395370'>mean,</span> <span m='395540'>it's</span> <span
  m='395690'>fun,</span> <span m='396070'>and</span> <span
  m='396240'>it's</span> <span m='396410'>a</span> <span m='396860'>nice</span>
  <span m='397130'>puzzle,</span> <span m='397460'>but</span> <span
  m='397620'>it's</span> <span m='397740'>more</span> <span
  m='397930'>than</span> <span m='398060'>a</span> <span
  m='398130'>puzzle.</span> <span m='398890'>Because</span> <span
  m='399400'>the</span> <span m='399550'>original</span> <span
  m='400170'>case</span> <span m='400660'>where</span> <span
  m='401030'>it</span> <span m='401170'>was</span> <span
  m='401310'>studied</span> <span m='401620'>or</span> <span
  m='401700'>published</span> <span m='402220'>first</span> <span
  m='402870'>was</span> <span m='403150'>in</span> <span m='403250'>a</span>
  <span m='403320'>paper</span> <span m='403660'>by</span> <span m='403810'>Gale
  and</span> <span m='404230'>Shapley</span> <span m='404730'>in</span> <span
  m='404840'>1962.</span> <span m='405810'>You</span> <span
  m='406330'>may</span> <span m='406500'>remember</span> <span
  m='406880'>the</span> <span m='407000'>name</span> <span
  m='407230'>David</span> <span m='407590'>Gale</span> <span
  m='407840'>from</span> <span m='408030'>the</span> <span
  m='408110'>subset</span> <span m='408700'>game</span> <span
  m='409070'>that</span> <span m='409480'>we</span> <span
  m='409640'>played</span> <span m='409910'>early</span> <span
  m='410220'>in</span> <span m='410340'>the</span> <span m='410450'>term</span>
  <span m='410740'>when</span> <span m='410890'>we</span> <span
  m='410970'>were</span> <span m='411110'>practicing</span> <span
  m='411690'>with</span> <span m='411840'>set</span> <span
  m='412110'>relations.</span> </p><p><span m='413880'>And</span> <span
  m='414530'>what</span> <span m='414730'>they</span> <span
  m='414860'>were</span> <span m='414960'>dealing</span> <span
  m='415300'>was</span> <span m='415500'>with</span> <span m='415670'>the</span>
  <span m='415760'>problem</span> <span m='416170'>of</span> <span
  m='416280'>college</span> <span m='416700'>admissions</span> <span
  m='417280'>where</span> <span m='417930'>students</span> <span
  m='418490'>have</span> <span m='419020'>rankings</span> <span
  m='419490'>of</span> <span m='419610'>colleges</span> <span
  m='420160'>that</span> <span m='420270'>they've</span> <span
  m='420500'>applied</span> <span m='420860'>to</span> <span
  m='421200'>and</span> <span m='421390'>their</span> <span
  m='421520'>preferences</span> <span m='422180'>and</span> <span
  m='422280'>colleges</span> <span m='423160'>have</span> <span
  m='423410'>rankings</span> <span m='423890'>of</span> <span
  m='424000'>students</span> <span m='425330'>that</span> <span
  m='425630'>have</span> <span m='425760'>applied</span> <span
  m='426160'>to</span> <span m='426260'>them.</span> <span m='426990'>And</span>
  <span m='428090'>we're</span> <span m='428350'>trying</span> <span
  m='428610'>to</span> <span m='428720'>get</span> <span
  m='428970'>matching</span> <span m='429440'>up</span> <span
  m='429640'>between</span> <span m='430030'>college</span> <span
  m='430460'>offers</span> <span m='431020'>and</span> <span
  m='431880'>student</span> <span m='432310'>preferences.</span> </p><p><span
  m='433490'>And</span> <span m='434150'>in</span> <span m='434340'>a</span>
  <span m='434420'>circumstance</span> <span m='435080'>where</span> <span
  m='436250'>a</span> <span m='436890'>college</span> <span
  m='437230'>made</span> <span m='437390'>an</span> <span
  m='437470'>offer</span> <span m='437780'>and a</span> <span
  m='437870'>student</span> <span m='438300'>sort</span> <span
  m='438550'>of</span> <span m='438650'>accepted,</span> <span
  m='439230'>but</span> <span m='439380'>then</span> <span
  m='439550'>later</span> <span m='439850'>the</span> <span
  m='439970'>student</span> <span m='440330'>got</span> <span
  m='441260'>another</span> <span m='441670'>offer</span> <span
  m='442000'>from</span> <span m='442210'>a</span> <span m='442260'>place</span>
  <span m='442570'>they</span> <span m='442690'>preferred</span> <span
  m='443200'>more,</span> <span m='443550'>and</span> <span
  m='443660'>they</span> <span m='443770'>were</span> <span
  m='443920'>changing</span> <span m='444290'>their</span> <span
  m='444410'>mind,</span> <span m='444690'>and</span> <span
  m='444780'>withdrawing</span> <span m='447230'>acceptances</span> <span
  m='447980'>and</span> <span m='448090'>so</span> <span m='448300'>on,</span>
  <span m='448450'>it</span> <span m='448520'>was</span> <span
  m='448660'>making</span> <span m='448970'>everybody</span> <span
  m='449400'>crazy,</span> <span m='450130'>the</span> <span
  m='450260'>administrators</span> <span m='450920'>and</span> <span
  m='451030'>the</span> <span m='451090'>students</span> <span
  m='451480'>themselves.</span> <span m='452410'>And</span> <span
  m='452900'>the</span> <span m='453360'>desire</span> <span
  m='453860'>was,</span> <span m='454130'>let's</span> <span
  m='454480'>get</span> <span m='454750'>some</span> <span
  m='455090'>stable</span> <span m='455590'>set</span> <span
  m='456260'>of</span> <span m='456710'>offers</span> <span m='457360'>on</span>
  <span m='457530'>the</span> <span m='457630'>table.</span> <span
  m='458460'>And</span> <span m='458970'>Gale</span> <span m='459410'>and
  Shapley</span> <span m='459870'>proposed</span> <span m='460760'>a</span>
  <span m='460860'>protocol</span> <span m='461940'>to</span> <span
  m='462080'>get</span> <span m='462300'>stable</span> <span
  m='462680'>marriages</span> <span m='463260'>that</span> <span
  m='463440'>would</span> <span m='463570'>apply</span> <span
  m='463890'>to</span> <span m='464080'>college</span> <span
  m='464390'>admissions.</span> </p><p><span m='465050'>It</span> <span
  m='465210'>turns</span> <span m='465520'>out,</span> <span
  m='465780'>interestingly</span> <span m='466240'>enough,</span> <span
  m='466540'>that</span> <span m='466660'>although</span> <span
  m='466930'>Gale</span> <span m='467230'>and</span> <span
  m='467320'>Shapley</span> <span m='467750'>are</span> <span
  m='467850'>credited</span> <span m='468410'>with</span> <span
  m='468600'>the</span> <span m='468670'>stable</span> <span
  m='469030'>marriage</span> <span m='469970'>solution</span> <span
  m='470540'>that</span> <span m='470650'>we're</span> <span
  m='470780'>going</span> <span m='470930'>to</span> <span
  m='471000'>discuss,</span> <span m='472350'>they</span> <span
  m='472850'>did</span> <span m='473110'>that</span> <span
  m='473250'>because</span> <span m='473530'>they</span> <span
  m='473650'>were</span> <span m='473730'>the</span> <span
  m='473850'>first</span> <span m='474100'>to</span> <span
  m='474190'>publish</span> <span m='474660'>it.</span> <span
  m='474930'>But,</span> <span m='474960'>in</span> <span
  m='475090'>fact,</span> <span m='475410'>it</span> <span m='475470'>had</span>
  <span m='475610'>been</span> <span m='475780'>discovered</span> <span
  m='476320'>and</span> <span m='476530'>put</span> <span m='476700'>into</span>
  <span m='476950'>practice</span> <span m='477660'>at</span> <span
  m='478040'>least</span> <span m='478300'>20</span> <span
  m='478540'>years</span> <span m='478790'>earlier</span> <span
  m='479690'>by</span> <span m='480170'>a</span> <span
  m='480360'>national</span> <span m='480650'>board</span> <span
  m='481340'>whose</span> <span m='481560'>job</span> <span
  m='481880'>was</span> <span m='482170'>to</span> <span m='482530'>match</span>
  <span m='483510'>interns</span> <span m='484050'>in</span> <span
  m='484130'>hospitals,</span> <span m='484515'>that is</span> <span
  m='485040'>graduating</span> <span m='486000'>medical</span> <span
  m='486390'>students</span> <span m='486800'>who</span> <span
  m='486890'>were</span> <span m='487020'>about</span> <span
  m='487340'>to</span> <span m='487420'>start</span> <span
  m='487750'>their</span> <span m='487860'>further</span> <span
  m='488200'>clinical</span> <span m='488640'>training</span> <span
  m='488990'>as</span> <span m='489100'>interns,</span> <span
  m='489580'>now</span> <span m='489780'>called</span> <span
  m='490080'>residents</span> <span m='490570'>in</span> <span
  m='490690'>modern</span> <span m='491390'>language,</span> <span
  m='493310'>had</span> <span m='493580'>to</span> <span m='493650'>be</span>
  <span m='493760'>matched</span> <span m='494090'>up</span> <span
  m='494220'>with</span> <span m='494330'>hospitals.</span> <span
  m='494880'>And</span> <span m='495010'>the</span> <span
  m='495410'>residents</span> <span m='495960'>had</span> <span
  m='496420'>preferred</span> <span m='496820'>hospitals</span> <span
  m='497330'>that</span> <span m='497430'>they'd</span> <span
  m='497580'>like</span> <span m='497780'>to</span> <span m='497860'>go</span>
  <span m='498060'>to,</span> <span m='498510'>and</span> <span
  m='498700'>the</span> <span m='498750'>hospitals</span> <span
  m='499310'>had</span> <span m='499510'>rankings</span> <span
  m='500060'>of</span> <span m='500250'>residents</span> <span
  m='500780'>that</span> <span m='500960'>met</span> <span
  m='501160'>their</span> <span m='501310'>criteria.</span> </p><p><span
  m='502700'>And</span> <span m='503160'>again,</span> <span
  m='503600'>the</span> <span m='503750'>issue</span> <span
  m='504080'>was,</span> <span m='504360'>how</span> <span m='504530'>do</span>
  <span m='504600'>you</span> <span m='505030'>assign</span> <span
  m='505670'>residents</span> <span m='505935'>to</span> <span
  m='506290'>hospitals</span> <span m='506860'>in a</span> <span
  m='507040'>stable</span> <span m='507510'>way?</span> <span
  m='508130'>Before</span> <span m='508540'>they</span> <span
  m='508710'>had</span> <span m='508890'>discovered</span> <span
  m='509400'>this</span> <span m='509500'>stability</span> <span
  m='510120'>algorithm,</span> <span m='510760'>it</span> <span
  m='510900'>was</span> <span m='511080'>a</span> <span m='511140'>mess.</span>
  <span m='511480'>Again,</span> <span m='511770'>there's</span> <span
  m='511930'>a</span> <span m='512000'>wonderful</span> <span
  m='512370'>story</span> <span m='512659'>in</span> <span m='512740'>the</span>
  <span m='512809'>book</span> <span m='513049'>by</span> <span
  m='513590'>Gusfield</span> <span m='514159'>and</span> <span
  m='514289'>Irving</span> <span m='515130'>that</span> <span
  m='515330'>is</span> <span m='515820'>an</span> <span m='516000'>entire</span>
  <span m='516450'>book</span> <span m='516740'>about</span> <span
  m='517210'>the</span> <span m='517340'>stable</span> <span
  m='517730'>marriage</span> <span m='518130'>problem</span> <span
  m='518760'>published</span> <span m='519100'>by</span> <span
  m='519220'><i>MIT</i></span> <span m='519669'><i>Press,</i></span> <span
  m='520049'>I</span> <span m='520110'>think</span> <span m='520350'>in</span>
  <span m='520470'>'89.</span> <span m='521450'>And</span> <span
  m='521610'>as</span> <span m='521730'>a</span> <span m='521750'>matter</span>
  <span m='521909'>of</span> <span m='521960'>fact,</span> <span
  m='522270'>I</span> <span m='522370'>was</span> <span m='522470'>the</span>
  <span m='522510'>editor</span> <span m='522830'>of</span> <span
  m='522919'>the</span> <span m='523000'>series</span> <span
  m='523390'>in</span> <span m='523480'>which</span> <span m='523690'>it</span>
  <span m='523760'>appears.</span> <span m='524830'>This</span> <span
  m='525410'>stable</span> <span m='525740'>marriage</span> <span
  m='526330'>problem</span> <span m='526780'>turns</span> <span
  m='527020'>out</span> <span m='527160'>to</span> <span m='527220'>have</span>
  <span m='527390'>a</span> <span m='527430'>lot</span> <span
  m='527650'>of</span> <span m='527720'>structure.</span> </p><p><span
  m='529160'>And</span> <span m='529270'>they</span> <span
  m='529410'>describe</span> <span m='529830'>a</span> <span
  m='529910'>wonderful</span> <span m='530390'>anecdote</span> <span
  m='530900'>in</span> <span m='531740'>their</span> <span
  m='531890'>preface</span> <span m='532430'>about</span> <span
  m='532930'>the</span> <span m='533080'>problems</span> <span
  m='533570'>that</span> <span m='533690'>were</span> <span
  m='533810'>happening</span> <span m='534240'>between</span> <span
  m='534560'>the</span> <span m='534630'>hospitals</span> <span
  m='535200'>and</span> <span m='535300'>the residents</span> <span
  m='535810'>and</span> <span m='535920'>the</span> <span
  m='536370'>measures</span> <span m='536640'>that</span> <span
  m='536910'>were</span> <span m='537080'>taken</span> <span
  m='537470'>to</span> <span m='537580'>try</span> <span m='537820'>to</span>
  <span m='538090'>achieve</span> <span m='538270'>stability</span> <span
  m='539080'>before</span> <span m='539450'>they</span> <span
  m='539630'>discovered</span> <span m='540160'>this</span> <span
  m='540350'>algorithm.</span> </p><p><span m='543700'>Another</span> <span
  m='545020'>genuine</span> <span m='545570'>computer</span> <span
  m='545890'>science</span> <span m='546250'>application</span> <span
  m='546890'>is</span> <span m='546990'>one</span> <span m='547220'>that</span>
  <span m='548000'>was</span> <span m='548290'>described</span> <span
  m='548750'>by</span> <span m='548900'>Tom</span> <span
  m='549210'>Leighton</span> <span m='549740'>who was</span> <span
  m='549930'>a</span> <span m='550000'>co-author</span> <span
  m='550710'>of</span> <span m='551040'>the</span> <span m='551420'>text</span>
  <span m='552140'>and</span> <span m='552480'>then</span> <span
  m='552610'>now</span> <span m='552830'>the</span> <span m='552940'>CEO</span>
  <span m='553540'>of</span> <span m='554520'>Akamai,</span> <span
  m='555790'>an</span> <span m='555990'>internet</span> <span
  m='556490'>infrastructure</span> <span m='557300'>plumbing</span> <span
  m='557710'>company</span> <span m='558810'>that</span> <span
  m='559080'>has</span> <span m='560230'>some</span> <span
  m='560540'>large</span> <span m='560950'>number</span> <span
  m='561310'>of</span> <span m='561400'>servers,</span> <span
  m='561880'>I</span> <span m='561950'>think</span> <span
  m='562190'>65,000</span> <span m='563170'>servers</span> <span
  m='563650'>in</span> <span m='563760'>2010</span> <span
  m='564560'>around</span> <span m='564850'>the</span> <span
  m='564930'>world.</span> <span m='566080'>And</span> <span
  m='566380'>it</span> <span m='566510'>basically</span> <span
  m='566950'>is</span> <span m='567080'>providing</span> <span
  m='567570'>cached</span> <span m='567980'>web</span> <span
  m='568250'>pages</span> <span m='568960'>so</span> <span
  m='569200'>that</span> <span m='569500'>they</span> <span
  m='569620'>can</span> <span m='569790'>respond</span> <span
  m='570220'>more</span> <span m='570440'>quickly</span> <span
  m='570800'>to</span> <span m='570880'>local</span> <span
  m='571370'>calls.</span> </p><p><span m='573260'>They</span> <span
  m='574210'>have</span> <span m='574460'>a</span> <span
  m='574530'>problem</span> <span m='574950'>that</span> <span
  m='575120'>they</span> <span m='575240'>get</span> <span
  m='575500'>something</span> <span m='575830'>like</span> <span
  m='576040'>62,000,</span> <span m='577500'>65,000</span> <span
  m='577860'>servers</span> <span m='578670'>and</span> <span
  m='578910'>they</span> <span m='579020'>get</span> <span m='579700'>I</span>
  <span m='579830'>think</span> <span m='580110'>200</span> <span
  m='580660'>billion</span> <span m='581210'>web</span> <span
  m='581510'>requests</span> <span m='582030'>a</span> <span
  m='582100'>day.</span> <span m='582480'>So</span> <span m='582640'>the</span>
  <span m='582760'>web</span> <span m='583040'>requests</span> <span
  m='583570'>are</span> <span m='583660'>kind</span> <span m='583860'>of</span>
  <span m='583950'>acting</span> <span m='584740'>like</span> <span
  m='586460'>the</span> <span m='586660'>boys</span> <span m='587300'>and</span>
  <span m='588740'>the</span> <span m='588820'>servers</span> <span
  m='589350'>are</span> <span m='589430'>kind</span> <span m='589640'>of</span>
  <span m='589720'>acting</span> <span m='590080'>like</span> <span
  m='590460'>the</span> <span m='590550'>girls,</span> <span
  m='590990'>or</span> <span m='591270'>the</span> <span
  m='591340'>hospitals</span> <span m='591940'>and</span> <span
  m='592050'>the</span> <span m='592120'>residents.</span> <span
  m='593990'>And</span> <span m='595140'>the</span> <span m='595980'>web</span>
  <span m='596230'>requests</span> <span m='596590'>have</span> <span
  m='596750'>preferences</span> <span m='597400'>based</span> <span
  m='597700'>on</span> <span m='598120'>proximity</span> <span
  m='598730'>and</span> <span m='598850'>speed</span> <span m='599180'>of</span>
  <span m='599260'>server,</span> <span m='599690'>and</span> <span
  m='599760'>the</span> <span m='599840'>servers</span> <span
  m='600190'>have</span> <span m='600340'>preference</span> <span
  m='600870'>based</span> <span m='601140'>on</span> <span
  m='601240'>where</span> <span m='601420'>they're</span> <span
  m='601590'>located</span> <span m='602130'>and</span> <span
  m='602230'>the</span> <span m='602310'>magnitude</span> <span
  m='602920'>of</span> <span m='603050'>the</span> <span m='603370'>web</span>
  <span m='603670'>request</span> <span m='604140'>that</span> <span
  m='604250'>they're</span> <span m='604400'>coming</span> <span
  m='604760'>to.</span> </p><p><span m='605420'>And</span> <span
  m='605720'>the</span> <span m='605840'>question</span> <span
  m='606240'>is,</span> <span m='606320'>how do</span> <span
  m='606520'>you</span> <span m='606830'>assign</span> <span
  m='607590'>web</span> <span m='607900'>requests</span> <span
  m='608480'>to</span> <span m='608600'>servers</span> <span
  m='609500'>so</span> <span m='609720'>that</span> <span
  m='610070'>things</span> <span m='610480'>get</span> <span
  m='610760'>done</span> <span m='612590'>expeditiously?</span> <span
  m='613840'>And</span> <span m='613980'>it</span> <span m='614100'>turns</span>
  <span m='614400'>out</span> <span m='614650'>that</span> <span
  m='615360'>the</span> <span m='615600'>stable</span> <span
  m='615940'>marriage</span> <span m='616770'>method</span> <span
  m='617540'>gave</span> <span m='618280'>a</span> <span
  m='618390'>satisfactory</span> <span m='619070'>way</span> <span
  m='619250'>to</span> <span m='619380'>accomplish</span> <span
  m='619880'>that</span> <span m='620100'>kind</span> <span m='620330'>of</span>
  <span m='620440'>matching.</span> <span m='622380'>And</span> <span
  m='622500'>in</span> <span m='622590'>particular,</span> <span
  m='623110'>because</span> <span m='623520'>there's</span> <span
  m='623690'>such</span> <span m='623880'>large</span> <span
  m='624180'>numbers</span> <span m='624460'>involved</span> <span
  m='624990'>that</span> <span m='625150'>the</span> <span
  m='625280'>stable</span> <span m='625650'>marriage</span> <span
  m='626350'>ritual,</span> <span m='626830'>which</span> <span
  m='627010'>we'll</span> <span m='627360'>describe</span> <span
  m='627880'>shortly,</span> <span m='629640'>is</span> <span
  m='630270'>very</span> <span m='630580'>amenable</span> <span
  m='631010'>to</span> <span m='631090'>being</span> <span m='631280'>run</span>
  <span m='631480'>in</span> <span m='631580'>parallel.</span> </p><p><span
  m='632660'>Another</span> <span m='633010'>application,</span> <span
  m='633620'>it</span> <span m='633700'>turns</span> <span
  m='633930'>out,</span> <span m='634060'>to</span> <span m='634120'>come</span>
  <span m='634320'>up</span> <span m='634540'>was</span> <span
  m='634710'>in</span> <span m='634820'>matching</span> <span
  m='635170'>dance</span> <span m='635450'>partners</span> <span
  m='635860'>when</span> <span m='636020'>I</span> <span m='636090'>was</span>
  <span m='636250'>teaching</span> <span m='636540'>this</span> <span
  m='636690'>course</span> <span m='636920'>ten</span> <span
  m='637090'>years</span> <span m='637310'>ago</span> <span
  m='637540'>with</span> <span m='637980'>a</span> <span
  m='638360'>co-instructor</span> <span m='639050'>who</span> <span
  m='639200'>was</span> <span m='639300'>a</span> <span m='639340'>member</span>
  <span m='639660'>of</span> <span m='639730'>the</span> <span
  m='639840'>Indian</span> <span m='640160'>dance</span> <span
  m='640470'>team.</span> </p><p><span m='641090'>She</span> <span
  m='641290'>said,</span> <span m='641640'>we</span> <span
  m='641880'>could</span> <span m='642040'>use</span> <span
  m='642300'>this,</span> <span m='642550'>because</span> <span
  m='642870'>it</span> <span m='642980'>turns</span> <span m='643270'>out</span>
  <span m='643470'>that,</span> <span m='643890'>again,</span> <span
  m='644690'>there are</span> <span m='645380'>boy and</span> <span
  m='645740'>girl</span> <span m='645970'>partners</span> <span
  m='646460'>in</span> <span m='646560'>the</span> <span
  m='646650'>dance,</span> <span m='647340'>and</span> <span
  m='648230'>it</span> <span m='648330'>was</span> <span
  m='648550'>constantly</span> <span m='649090'>the</span> <span
  m='649210'>case</span> <span m='649610'>that</span> <span
  m='649890'>one</span> <span m='650400'>boy</span> <span
  m='650640'>would</span> <span m='650850'>like</span> <span
  m='651450'>another</span> <span m='651770'>boy's</span> <span
  m='652120'>partner</span> <span m='652480'>better,</span> <span
  m='652840'>and</span> <span m='652940'>vice</span> <span
  m='653190'>versa.</span> <span m='653630'>And</span> <span
  m='653750'>they</span> <span m='653840'>would</span> <span
  m='653990'>start</span> <span m='655400'>pairing</span> <span
  m='656370'>up</span> <span m='656610'>and</span> <span
  m='656950'>leaving</span> <span m='657220'>the</span> <span
  m='657340'>other</span> <span m='657510'>people</span> <span
  m='657820'>hanging</span> <span m='658250'>and</span> <span m='658350'>there
  were</span> <span m='658590'>bad</span> <span m='658860'>feelings,</span>
  <span m='659340'>and</span> <span m='659450'>it</span> <span
  m='659520'>was</span> <span m='659710'>a</span> <span m='660840'>source</span>
  <span m='661100'>of</span> <span m='661170'>disruption</span> <span
  m='661760'>in</span> <span m='662890'>the</span> <span
  m='662990'>society.</span> </p><p><span m='663510'>There's</span> <span
  m='663690'>a</span> <span m='663760'>picture</span> <span m='664120'>of
  that</span> <span m='664330'>Indian</span> <span m='664690'>dance</span> <span
  m='665020'>group.</span> <span m='665900'>My</span> <span
  m='666280'>co-instructor's</span> <span m='666940'>not</span> <span
  m='667130'>actually</span> <span m='667560'>there,</span> <span
  m='667950'>but</span> <span m='668610'>it</span> <span m='668810'>gives</span>
  <span m='669040'>you</span> <span m='670830'>some</span> <span
  m='671080'>sense</span> <span m='671360'>of</span> <span m='671460'>the</span>
  <span m='671560'>reality</span> <span m='672080'>of</span> <span
  m='672160'>the</span> <span m='672260'>problem</span> <span
  m='672840'>here</span> <span m='673080'>at</span> <span m='673120'>MIT.</span>
  <span m='674520'>And</span> <span m='674780'>she</span> <span
  m='674970'>told</span> <span m='675180'>me</span> <span m='675290'>that</span>
  <span m='675420'>it</span> <span m='675500'>was</span> <span
  m='675650'>actually</span> <span m='675980'>being</span> <span
  m='676180'>used</span> <span m='676510'>by</span> <span m='676630'>that</span>
  <span m='676870'>group.</span> </p>
uid: 781e6bc86f7eeaec971e17bc4e037f96
type: course
layout: video
---
