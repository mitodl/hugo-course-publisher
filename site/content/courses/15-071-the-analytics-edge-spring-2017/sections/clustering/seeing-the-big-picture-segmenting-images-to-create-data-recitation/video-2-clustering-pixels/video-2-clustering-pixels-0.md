---
about_this_resource_text: ''
embedded_media:
  - id: Video-YouTube-Stream
    media_location: 8jpO-p1YvdM
    parent_uid: ed08d97fd9e9eb76cb1ca6bc1457fe09
    title: Video-YouTube-Stream
    type: Video
    uid: 8048a75734334618967602a21bcab587
  - id: 3Play-3Play YouTube id-Stream
    media_location: 8jpO-p1YvdM
    parent_uid: ed08d97fd9e9eb76cb1ca6bc1457fe09
    title: 3Play-3Play YouTube id
    type: 3Play
    uid: 8782dd69999e347875334eb36edea3ba
  - id: Thumbnail-YouTube-JPG
    media_location: 'https://img.youtube.com/vi/8jpO-p1YvdM/default.jpg'
    parent_uid: ed08d97fd9e9eb76cb1ca6bc1457fe09
    title: Thumbnail-YouTube-JPG
    type: Thumbnail
    uid: 2b88929c2613faf8ce2ce2bca50810a9
  - id: 8jpO-p1YvdM.srt
    parent_uid: ed08d97fd9e9eb76cb1ca6bc1457fe09
    technical_location: >-
      https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/clustering/seeing-the-big-picture-segmenting-images-to-create-data-recitation/video-2-clustering-pixels/video-2-clustering-pixels-0/8jpO-p1YvdM.srt
    title: 3play caption file
    type: null
    uid: 4396cc470d870a29dd5bba9e102ef645
  - id: 8jpO-p1YvdM.pdf
    parent_uid: ed08d97fd9e9eb76cb1ca6bc1457fe09
    technical_location: >-
      https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/clustering/seeing-the-big-picture-segmenting-images-to-create-data-recitation/video-2-clustering-pixels/video-2-clustering-pixels-0/8jpO-p1YvdM.pdf
    title: 3play pdf file
    type: null
    uid: 9a2598117e523861b144679107e4501b
  - id: Caption-3Play YouTube id-SRT
    parent_uid: ed08d97fd9e9eb76cb1ca6bc1457fe09
    title: Caption-3Play YouTube id-SRT-English - US
    type: Caption
    uid: 7d3770f7adaa943cb63c3b7728bbb7c9
  - id: Transcript-3Play YouTube id-PDF
    parent_uid: ed08d97fd9e9eb76cb1ca6bc1457fe09
    title: Transcript-3Play YouTube id-PDF-English - US
    type: Transcript
    uid: f9013b45424e7996c227368459504008
  - id: Video-InternetArchive-MP4
    media_location: >-
      https://archive.org/download/MIT15.071S17/MIT15_071S17_Session_6.4.03_300k.mp4
    parent_uid: ed08d97fd9e9eb76cb1ca6bc1457fe09
    title: Video-Internet Archive-MP4
    type: Video
    uid: f024bfdeb017b3768213287503db065c
inline_embed_id: 84583381video2clusteringpixels60845329
order_index: 1476
parent_uid: 63f40bde98fd3fdc8c2ddf21ec19f21f
related_resources_text: ''
short_url: video-2-clustering-pixels-0
technical_location: >-
  https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/clustering/seeing-the-big-picture-segmenting-images-to-create-data-recitation/video-2-clustering-pixels/video-2-clustering-pixels-0
title: 'Video 2: Clustering Pixels'
transcript: >-
  <p><span m='4500'>Let</span> <span m='4778'>us</span> <span
  m='5056'>try</span> <span m='5334'>to</span> <span m='5612'>understand</span>
  <span m='5890'>the</span> <span m='6169'>format</span> <span
  m='6447'>of</span> <span m='6725'>the</span> <span m='7003'>data</span> <span
  m='7281'>handed</span> <span m='7560'>to</span> <span m='7971'>us</span> <span
  m='8383'>in</span> <span m='8795'>the</span> <span m='9206'>CSV</span> <span
  m='9618'>files.</span> </p><p><span m='10030'>Grayscale</span> <span
  m='10403'>images</span> <span m='10776'>are</span> <span
  m='11149'>represented</span> <span m='11522'>as</span> <span
  m='11895'>a</span> <span m='12268'>matrix</span> <span m='12641'>of</span>
  <span m='13014'>pixel</span> <span m='13387'>intensity</span> <span
  m='13760'>values</span> <span m='14185'>that</span> <span
  m='14611'>range</span> <span m='15037'>from</span> <span m='15462'>zero</span>
  <span m='15888'>to</span> <span m='16314'>one.</span> </p><p><span
  m='16740'>The</span> <span m='17127'>intensity</span> <span
  m='17515'>value</span> <span m='17902'>zero</span> <span
  m='18290'>corresponds</span> <span m='18677'>to</span> <span
  m='19065'>the</span> <span m='19452'>absence</span> <span m='19840'>of</span>
  <span m='20266'>color,</span> <span m='20692'>or</span> <span
  m='21119'>black,</span> <span m='21545'>and</span> <span m='21971'>the</span>
  <span m='22398'>value</span> <span m='22824'>one</span> <span
  m='23250'>corresponds</span> <span m='23677'>to</span> <span
  m='24103'>white.</span> </p><p><span m='24530'>For</span> <span
  m='24959'>8</span> <span m='25388'>bits</span> <span m='25817'>per</span>
  <span m='26246'>pixel</span> <span m='26675'>images,</span> <span
  m='27104'>we</span> <span m='27533'>have</span> <span m='27962'>256</span>
  <span m='28391'>color</span> <span m='28820'>levels</span> <span
  m='29250'>ranging</span> <span m='29736'>from</span> <span
  m='30222'>zero</span> <span m='30708'>to</span> <span m='31194'>one.</span>
  </p><p><span m='31680'>For</span> <span m='32008'>instance,</span> <span
  m='32337'>if</span> <span m='32666'>we</span> <span m='32995'>have</span>
  <span m='33324'>the</span> <span m='33653'>following</span> <span
  m='33982'>grayscale</span> <span m='34311'>image,</span> <span
  m='34640'>the</span> <span m='35033'>pixel</span> <span
  m='35426'>information</span> <span m='35820'>can</span> <span
  m='36213'>be</span> <span m='36606'>translated</span> <span
  m='37000'>to</span> <span m='37365'>a</span> <span m='37731'>matrix</span>
  <span m='38096'>of</span> <span m='38462'>values</span> <span
  m='38827'>between</span> <span m='39193'>zero</span> <span
  m='39558'>and</span> <span m='39924'>one.</span> </p><p><span
  m='40290'>It</span> <span m='40603'>is</span> <span m='40916'>exactly</span>
  <span m='41230'>this</span> <span m='41543'>matrix</span> <span
  m='41856'>that</span> <span m='42170'>we</span> <span m='42483'>are</span>
  <span m='42796'>given</span> <span m='43110'>in</span> <span
  m='43423'>our</span> <span m='43736'>datasets.</span> </p><p><span
  m='44050'>In</span> <span m='44378'>other</span> <span m='44707'>words,</span>
  <span m='45036'>the</span> <span m='45365'>datasets</span> <span
  m='45693'>contain</span> <span m='46022'>a</span> <span m='46351'>table</span>
  <span m='46680'>of</span> <span m='47066'>values</span> <span
  m='47453'>between</span> <span m='47840'>zero</span> <span
  m='48226'>and</span> <span m='48613'>one.</span> </p><p><span
  m='49000'>And</span> <span m='49300'>the</span> <span m='49600'>number</span>
  <span m='49900'>of</span> <span m='50200'>columns</span> <span
  m='50500'>corresponds</span> <span m='50800'>to</span> <span
  m='51053'>the</span> <span m='51307'>width</span> <span m='51560'>of</span>
  <span m='51814'>the</span> <span m='52068'>image,</span> <span
  m='52321'>whereas</span> <span m='52575'>the</span> <span
  m='52829'>number</span> <span m='53082'>of</span> <span m='53336'>rows</span>
  <span m='53590'>corresponds</span> <span m='53955'>to</span> <span
  m='54321'>the</span> <span m='54687'>height</span> <span m='55052'>of</span>
  <span m='55418'>the</span> <span m='55784'>image.</span> </p><p><span
  m='56150'>In</span> <span m='56630'>this</span> <span
  m='57110'>example,</span> <span m='57590'>the</span> <span
  m='58070'>resolution</span> <span m='58550'>is</span> <span m='59030'>7</span>
  <span m='59510'>by</span> <span m='59990'>7</span> <span
  m='60470'>pixels.</span> </p><p><span m='60950'>We</span> <span
  m='61260'>have</span> <span m='61571'>to</span> <span m='61882'>be</span>
  <span m='62193'>careful</span> <span m='62504'>when</span> <span
  m='62815'>reading</span> <span m='63126'>the</span> <span
  m='63437'>dataset</span> <span m='63748'>in</span> <span m='64059'>R.</span>
  </p><p><span m='64370'>We</span> <span m='64582'>need</span> <span
  m='64795'>to</span> <span m='65007'>make</span> <span m='65220'>sure</span>
  <span m='65432'>that</span> <span m='65645'>R</span> <span
  m='65857'>reads</span> <span m='66070'>in</span> <span m='66590'>the</span>
  <span m='67110'>matrix</span> <span m='67630'>appropriately.</span>
  </p><p><span m='68150'>Until</span> <span m='68435'>now</span> <span
  m='68721'>in</span> <span m='69007'>this</span> <span m='69292'>class,</span>
  <span m='69578'>our</span> <span m='69864'>datasets</span> <span
  m='70150'>were</span> <span m='70508'>structured</span> <span
  m='70866'>in</span> <span m='71224'>a</span> <span m='71582'>way</span> <span
  m='71940'>where</span> <span m='72299'>the</span> <span m='72657'>rows</span>
  <span m='73015'>refer</span> <span m='73373'>to</span> <span
  m='73731'>observations</span> <span m='74090'>and</span> <span
  m='74501'>the</span> <span m='74913'>columns</span> <span
  m='75325'>refer</span> <span m='75736'>to</span> <span
  m='76148'>variables.</span> </p><p><span m='76560'>But</span> <span
  m='76891'>this</span> <span m='77222'>is</span> <span m='77553'>not</span>
  <span m='77884'>the</span> <span m='78215'>case</span> <span
  m='78546'>for</span> <span m='78877'>the</span> <span
  m='79208'>intensity</span> <span m='79539'>matrix.</span> </p><p><span
  m='79870'>So</span> <span m='80116'>keep</span> <span m='80362'>in</span>
  <span m='80609'>mind</span> <span m='80855'>that</span> <span
  m='81101'>we</span> <span m='81348'>need</span> <span m='81594'>to</span>
  <span m='81840'>do</span> <span m='82087'>some</span> <span
  m='82333'>maneuvering</span> <span m='82580'>to</span> <span
  m='83016'>make</span> <span m='83452'>sure</span> <span m='83889'>that</span>
  <span m='84325'>R</span> <span m='84761'>recognizes</span> <span
  m='85198'>the</span> <span m='85634'>data</span> <span m='86070'>as</span>
  <span m='86507'>a</span> <span m='86943'>matrix.</span> </p><p><span
  m='87380'>Grayscale</span> <span m='87795'>image</span> <span
  m='88211'>segmentation</span> <span m='88626'>can</span> <span
  m='89042'>be</span> <span m='89457'>done</span> <span m='89873'>by</span>
  <span m='90288'>clustering</span> <span m='90704'>pixels</span> <span
  m='91120'>according</span> <span m='91608'>to</span> <span
  m='92096'>their</span> <span m='92584'>intensity</span> <span
  m='93072'>values.</span> </p><p><span m='93560'>So</span> <span
  m='93818'>we</span> <span m='94077'>can</span> <span m='94336'>think</span>
  <span m='94595'>of</span> <span m='94853'>our</span> <span
  m='95112'>clustering</span> <span m='95371'>algorithm</span> <span
  m='95630'>as</span> <span m='95990'>trying</span> <span m='96350'>to</span>
  <span m='96710'>divide</span> <span m='97070'>the</span> <span
  m='97430'>spectrum</span> <span m='97790'>of</span> <span
  m='98150'>intensity</span> <span m='98510'>values</span> <span
  m='98870'>from</span> <span m='99336'>zero</span> <span m='99802'>to</span>
  <span m='100268'>one</span> <span m='100735'>into</span> <span
  m='101201'>intervals,</span> <span m='101667'>or</span> <span
  m='102133'>clusters.</span> </p><p><span m='102600'>For</span> <span
  m='102973'>instance,</span> <span m='103346'>the</span> <span
  m='103720'>red</span> <span m='104093'>cluster</span> <span
  m='104466'>corresponds</span> <span m='104840'>to</span> <span
  m='105215'>the</span> <span m='105590'>darkest</span> <span
  m='105966'>shades,</span> <span m='106341'>and</span> <span
  m='106717'>the</span> <span m='107092'>green</span> <span
  m='107468'>cluster</span> <span m='107843'>to</span> <span
  m='108219'>the</span> <span m='108594'>lightest.</span> </p><p><span
  m='108970'>Now,</span> <span m='109376'>what</span> <span
  m='109782'>should</span> <span m='110188'>the</span> <span
  m='110594'>input</span> <span m='111000'>be</span> <span m='111406'>to</span>
  <span m='111812'>the</span> <span m='112218'>clustering</span> <span
  m='112624'>algorithm?</span> </p><p><span m='113030'>Well,</span> <span
  m='113308'>our</span> <span m='113587'>observations</span> <span
  m='113866'>should</span> <span m='114145'>be</span> <span
  m='114423'>all</span> <span m='114702'>of</span> <span m='114981'>the</span>
  <span m='115260'>7</span> <span m='115539'>by</span> <span m='116119'>7</span>
  <span m='116699'>intensity</span> <span m='117279'>values.</span> </p><p><span
  m='117860'>Hence,</span> <span m='118340'>we</span> <span
  m='118820'>should</span> <span m='119300'>have</span> <span
  m='119780'>49</span> <span m='120260'>observations.</span> </p><p><span
  m='120740'>And</span> <span m='121005'>we</span> <span m='121271'>only</span>
  <span m='121537'>have</span> <span m='121802'>one</span> <span
  m='122068'>variable,</span> <span m='122334'>which</span> <span
  m='122600'>is</span> <span m='123038'>the</span> <span m='123476'>pixel</span>
  <span m='123914'>intensity</span> <span m='124352'>value.</span> </p><p><span
  m='124790'>So</span> <span m='125094'>in</span> <span m='125398'>other</span>
  <span m='125702'>words,</span> <span m='126006'>the</span> <span
  m='126310'>input</span> <span m='126614'>to</span> <span m='126918'>the</span>
  <span m='127222'>clustering</span> <span m='127526'>algorithm</span> <span
  m='127830'>should</span> <span m='128288'>be</span> <span m='128746'>a</span>
  <span m='129204'>vector</span> <span m='129662'>containing</span> <span
  m='130120'>49</span> <span m='130578'>elements,</span> <span
  m='131036'>or</span> <span m='131494'>intensity</span> <span
  m='131952'>values.</span> </p><p><span m='132410'>But</span> <span
  m='132747'>what</span> <span m='133084'>we</span> <span m='133421'>have</span>
  <span m='133758'>is</span> <span m='134095'>a</span> <span m='134432'>7</span>
  <span m='134769'>by</span> <span m='135106'>7</span> <span
  m='135443'>matrix.</span> </p><p><span m='135780'>A</span> <span
  m='136130'>crucial</span> <span m='136480'>step</span> <span
  m='136830'>before</span> <span m='137180'>feeding</span> <span
  m='137530'>the</span> <span m='137880'>intensity</span> <span
  m='138230'>values</span> <span m='138691'>to</span> <span
  m='139152'>the</span> <span m='139613'>clustering</span> <span
  m='140074'>algorithm</span> <span m='140535'>is</span> <span
  m='140996'>morphing</span> <span m='141457'>our</span> <span
  m='141918'>data.</span> </p><p><span m='142380'>We</span> <span
  m='142761'>should</span> <span m='143143'>modify</span> <span
  m='143525'>the</span> <span m='143906'>matrix</span> <span
  m='144288'>structure</span> <span m='144670'>and</span> <span
  m='145067'>lump</span> <span m='145464'>all</span> <span m='145861'>the</span>
  <span m='146258'>intensity</span> <span m='146655'>values</span> <span
  m='147052'>into</span> <span m='147449'>a</span> <span
  m='147846'>single</span> <span m='148243'>vector.</span> </p><p><span
  m='148640'>We</span> <span m='148840'>will</span> <span m='149040'>see</span>
  <span m='149240'>that</span> <span m='149440'>we</span> <span
  m='149640'>can</span> <span m='149840'>do</span> <span m='150040'>this</span>
  <span m='150240'>in</span> <span m='150440'>R</span> <span
  m='150640'>using</span> <span m='151392'>the</span> <span
  m='152145'>as.vector</span> <span m='152897'>function.</span> </p><p><span
  m='153650'>Now,</span> <span m='153917'>once</span> <span m='154185'>we</span>
  <span m='154453'>have</span> <span m='154721'>the</span> <span
  m='154988'>vector,</span> <span m='155256'>we</span> <span
  m='155524'>can</span> <span m='155792'>simply</span> <span
  m='156060'>feed</span> <span m='156368'>it</span> <span m='156676'>into</span>
  <span m='156985'>the</span> <span m='157293'>clustering</span> <span
  m='157601'>algorithm</span> <span m='157910'>and</span> <span
  m='158335'>assign</span> <span m='158760'>each</span> <span
  m='159185'>element</span> <span m='159610'>in</span> <span
  m='160035'>the</span> <span m='160460'>vector</span> <span
  m='160885'>to</span> <span m='161310'>a</span> <span
  m='161735'>cluster.</span> </p><p><span m='162160'>Let</span> <span
  m='162570'>us</span> <span m='162980'>first</span> <span m='163390'>use</span>
  <span m='163800'>hierarchical</span> <span m='164210'>clustering</span> <span
  m='164620'>since</span> <span m='164965'>we</span> <span m='165310'>are</span>
  <span m='165655'>familiar</span> <span m='166000'>with</span> <span
  m='166345'>it.</span> </p><p><span m='166690'>The</span> <span
  m='166998'>first</span> <span m='167306'>step</span> <span
  m='167614'>is</span> <span m='167922'>to</span> <span
  m='168230'>calculate</span> <span m='168538'>the</span> <span
  m='168846'>distance</span> <span m='169154'>matrix,</span> <span
  m='169462'>which</span> <span m='169770'>computes</span> <span
  m='170144'>the</span> <span m='170518'>pairwise</span> <span
  m='170892'>distances</span> <span m='171267'>among</span> <span
  m='171641'>the</span> <span m='172015'>elements</span> <span
  m='172390'>of</span> <span m='172865'>the</span> <span
  m='173340'>intensity</span> <span m='173815'>vector.</span> </p><p><span
  m='174290'>How</span> <span m='174635'>many</span> <span
  m='174981'>such</span> <span m='175326'>distances</span> <span
  m='175672'>do</span> <span m='176017'>we</span> <span m='176363'>need</span>
  <span m='176708'>to</span> <span m='177054'>calculate?</span> </p><p><span
  m='177400'>Well,</span> <span m='177722'>for</span> <span
  m='178045'>each</span> <span m='178367'>element</span> <span
  m='178690'>in</span> <span m='179012'>the</span> <span
  m='179335'>intensity</span> <span m='179657'>vector,</span> <span
  m='179980'>we</span> <span m='180284'>need</span> <span m='180588'>to</span>
  <span m='180892'>calculate</span> <span m='181196'>its</span> <span
  m='181500'>distance</span> <span m='181804'>from</span> <span
  m='182108'>the</span> <span m='182412'>other</span> <span m='182716'>48</span>
  <span m='183020'>elements.</span> </p><p><span m='183920'>So</span> <span
  m='184424'>this</span> <span m='184928'>makes</span> <span
  m='185432'>48</span> <span m='185937'>calculations</span> <span
  m='186441'>per</span> <span m='186945'>element.</span> </p><p><span
  m='187450'>And</span> <span m='187808'>we</span> <span m='188166'>have</span>
  <span m='188524'>49</span> <span m='188882'>such</span> <span
  m='189240'>elements</span> <span m='189598'>in</span> <span
  m='189956'>the</span> <span m='190314'>intensity</span> <span
  m='190672'>vector.</span> </p><p><span m='191030'>In</span> <span
  m='191558'>total,</span> <span m='192086'>we</span> <span
  m='192614'>should</span> <span m='193142'>compute</span> <span
  m='193670'>49</span> <span m='194198'>times</span> <span m='194726'>48</span>
  <span m='195254'>pairwise</span> <span m='195782'>distances.</span>
  </p><p><span m='196310'>But</span> <span m='196645'>due</span> <span
  m='196981'>to</span> <span m='197317'>symmetry,</span> <span
  m='197653'>we</span> <span m='197989'>really</span> <span
  m='198325'>need</span> <span m='198660'>to</span> <span
  m='198996'>calculate</span> <span m='199332'>half</span> <span
  m='199668'>of</span> <span m='200004'>them.</span> </p><p><span
  m='200340'>So</span> <span m='200720'>the</span> <span
  m='201100'>number</span> <span m='201480'>of</span> <span
  m='201860'>pairwise</span> <span m='202240'>distance</span> <span
  m='202620'>calculations</span> <span m='203000'>is</span> <span
  m='203380'>actually</span> <span m='203795'>(49*48)/2.</span> </p><p><span
  m='207060'>In</span> <span m='207387'>general,</span> <span
  m='207715'>if</span> <span m='208042'>we</span> <span m='208370'>call</span>
  <span m='208697'>the</span> <span m='209025'>size</span> <span
  m='209352'>of</span> <span m='209680'>the</span> <span
  m='210007'>intensity</span> <span m='210335'>vector</span> <span
  m='210662'>n,</span> <span m='210990'>then</span> <span m='211656'>we</span>
  <span m='212322'>need</span> <span m='212988'>to</span> <span
  m='213655'>compute</span> <span m='214321'>n*(n-1)/2</span> <span
  m='214987'>pairwise</span> <span m='215653'>distances</span> <span
  m='216320'>and</span> <span m='216748'>store</span> <span
  m='217177'>them</span> <span m='217605'>in</span> <span m='218034'>the</span>
  <span m='218462'>distance</span> <span m='218891'>matrix.</span> </p><p><span
  m='219320'>Now</span> <span m='219704'>we</span> <span
  m='220088'>should</span> <span m='220473'>be</span> <span
  m='220857'>ready</span> <span m='221242'>to</span> <span m='221626'>go</span>
  <span m='222011'>to</span> <span m='222395'>R.</span> </p><p><span
  m='222780'>I</span> <span m='223161'>already</span> <span
  m='223543'>navigated</span> <span m='223925'>to</span> <span
  m='224306'>the</span> <span m='224688'>directory</span> <span
  m='225070'>where</span> <span m='225541'>we</span> <span
  m='226012'>saved</span> <span m='226484'>the</span> <span
  m='226955'>flower.csv</span> <span m='227427'>file,</span> <span
  m='227898'>which</span> <span m='228370'>contains</span> <span
  m='228735'>the</span> <span m='229100'>matrix</span> <span
  m='229465'>of</span> <span m='229830'>pixel</span> <span
  m='230195'>intensities</span> <span m='230560'>of</span> <span
  m='230925'>a</span> <span m='231290'>flower</span> <span
  m='231655'>image.</span> </p><p><span m='232020'>Let</span> <span
  m='232238'>us</span> <span m='232456'>read</span> <span m='232675'>in</span>
  <span m='232893'>the</span> <span m='233112'>matrix</span> <span
  m='233330'>and</span> <span m='233549'>save</span> <span m='233767'>it</span>
  <span m='233986'>to</span> <span m='234204'>a</span> <span
  m='234423'>data</span> <span m='234641'>frame</span> <span
  m='234860'>and</span> <span m='235338'>call</span> <span m='235817'>it</span>
  <span m='236296'>flower,</span> <span m='236775'>then</span> <span
  m='237254'>use</span> <span m='237733'>the</span> <span
  m='238212'>read.csv</span> <span m='238691'>function</span> <span
  m='239170'>to</span> <span m='239561'>instruct</span> <span
  m='239952'>R</span> <span m='240343'>to</span> <span m='240734'>read</span>
  <span m='241125'>in</span> <span m='241516'>the</span> <span
  m='241907'>flower</span> <span m='242298'>dataset.</span> </p><p><span
  m='242690'>And</span> <span m='243028'>then</span> <span m='243367'>we</span>
  <span m='243705'>have</span> <span m='244044'>to</span> <span
  m='244382'>explicitly</span> <span m='244721'>mention</span> <span
  m='245060'>that</span> <span m='245364'>we</span> <span m='245668'>have</span>
  <span m='245973'>no</span> <span m='246277'>headers</span> <span
  m='246582'>in</span> <span m='246886'>the</span> <span m='247191'>CSV</span>
  <span m='247495'>file</span> <span m='247800'>because</span> <span
  m='248223'>it</span> <span m='248646'>only</span> <span
  m='249070'>contains</span> <span m='249493'>a</span> <span
  m='249916'>matrix</span> <span m='250340'>of</span> <span
  m='250763'>intensity</span> <span m='251186'>values.</span> </p><p><span
  m='251610'>So</span> <span m='251875'>we're</span> <span
  m='252140'>going</span> <span m='252405'>to</span> <span
  m='252670'>type</span> <span m='252935'>header=FALSE.</span> </p><p><span
  m='256240'>Note</span> <span m='256531'>that</span> <span
  m='256822'>the</span> <span m='257113'>default</span> <span
  m='257405'>in</span> <span m='257696'>R</span> <span m='257987'>assumes</span>
  <span m='258279'>that</span> <span m='258565'>the</span> <span
  m='258851'>first</span> <span m='259137'>row</span> <span m='259423'>in</span>
  <span m='259709'>the</span> <span m='259995'>dataset</span> <span
  m='260281'>is</span> <span m='260567'>the</span> <span
  m='260853'>header.</span> </p><p><span m='261140'>So</span> <span
  m='261439'>if</span> <span m='261738'>we</span> <span m='262037'>didn't</span>
  <span m='262336'>specify</span> <span m='262636'>that</span> <span
  m='262935'>we</span> <span m='263234'>have</span> <span m='263533'>no</span>
  <span m='263833'>headers</span> <span m='264132'>in</span> <span
  m='264431'>this</span> <span m='264730'>case,</span> <span
  m='265030'>we</span> <span m='265266'>would</span> <span
  m='265503'>have</span> <span m='265740'>lost</span> <span
  m='265976'>the</span> <span m='266213'>information</span> <span
  m='266450'>from</span> <span m='266831'>the</span> <span
  m='267212'>first</span> <span m='267593'>row</span> <span m='267974'>of</span>
  <span m='268355'>the</span> <span m='268736'>pixel</span> <span
  m='269117'>intensity</span> <span m='269498'>matrix.</span> </p><p><span
  m='269880'>Now</span> <span m='270261'>let</span> <span m='270643'>us</span>
  <span m='271025'>look</span> <span m='271406'>at</span> <span
  m='271788'>the</span> <span m='272170'>structure</span> <span
  m='272551'>of</span> <span m='272933'>the</span> <span
  m='273315'>flower</span> <span m='273696'>data</span> <span
  m='274078'>frame.</span> </p><p><span m='274460'>We</span> <span
  m='274721'>realize</span> <span m='274982'>that</span> <span
  m='275243'>the</span> <span m='275504'>way</span> <span m='275765'>the</span>
  <span m='276026'>data</span> <span m='276287'>is</span> <span
  m='276548'>stored</span> <span m='276810'>does</span> <span
  m='277130'>not</span> <span m='277451'>reflect</span> <span
  m='277772'>that</span> <span m='278093'>this</span> <span m='278414'>is</span>
  <span m='278735'>a</span> <span m='279056'>matrix</span> <span
  m='279377'>of</span> <span m='279698'>intensity</span> <span
  m='280019'>values.</span> </p><p><span m='280340'>Actually,</span> <span
  m='280746'>R</span> <span m='281153'>treats</span> <span m='281560'>the</span>
  <span m='281967'>rows</span> <span m='282374'>as</span> <span
  m='282781'>observations</span> <span m='283188'>and</span> <span
  m='283595'>the</span> <span m='284002'>columns</span> <span
  m='284409'>as</span> <span m='285374'>variables.</span> </p><p><span
  m='286340'>Let's</span> <span m='286588'>try</span> <span m='286836'>to</span>
  <span m='287084'>change</span> <span m='287332'>the</span> <span
  m='287580'>data</span> <span m='287828'>type</span> <span m='288076'>to</span>
  <span m='288324'>a</span> <span m='288572'>matrix</span> <span
  m='288820'>by</span> <span m='289382'>using</span> <span m='289944'>the</span>
  <span m='290506'>as.matrix</span> <span m='291068'>function.</span>
  </p><p><span m='291630'>So</span> <span m='292323'>let's</span> <span
  m='293016'>define</span> <span m='293710'>our</span> <span
  m='294403'>variable</span> <span m='295096'>flowerMatrix</span> <span
  m='295790'>and</span> <span m='296201'>then</span> <span m='296612'>use</span>
  <span m='297024'>the</span> <span m='297435'>as.matrix</span> <span
  m='297847'>function,</span> <span m='298258'>which</span> <span
  m='298670'>takes</span> <span m='299101'>as</span> <span m='299532'>an</span>
  <span m='299963'>input</span> <span m='300395'>the</span> <span
  m='300826'>flower</span> <span m='301257'>data</span> <span
  m='301688'>frame.</span> </p><p><span m='302120'>And</span> <span
  m='302520'>now</span> <span m='302921'>if</span> <span m='303322'>we</span>
  <span m='303723'>look</span> <span m='304124'>at</span> <span
  m='304525'>the</span> <span m='304925'>structure</span> <span
  m='305326'>of</span> <span m='305727'>the</span> <span
  m='306128'>flower</span> <span m='306529'>matrix,</span> <span
  m='306930'>we</span> <span m='307414'>realize</span> <span
  m='307898'>that</span> <span m='308382'>we</span> <span m='308866'>have</span>
  <span m='309350'>50</span> <span m='309834'>rows</span> <span
  m='310318'>and</span> <span m='310802'>50</span> <span
  m='311286'>columns.</span> </p><p><span m='311770'>What</span> <span
  m='312006'>this</span> <span m='312242'>suggests</span> <span
  m='312478'>is</span> <span m='312714'>that</span> <span m='312950'>the</span>
  <span m='313186'>resolution</span> <span m='313422'>of</span> <span
  m='313658'>the</span> <span m='313894'>image</span> <span m='314130'>is</span>
  <span m='314484'>50</span> <span m='314838'>pixels</span> <span
  m='315192'>in</span> <span m='315546'>width</span> <span m='315900'>and</span>
  <span m='316254'>50</span> <span m='316608'>pixels</span> <span
  m='316962'>in</span> <span m='317316'>height.</span> </p><p><span
  m='317670'>This</span> <span m='318067'>is</span> <span
  m='318465'>actually</span> <span m='318862'>a</span> <span
  m='319260'>very,</span> <span m='319657'>very</span> <span
  m='320055'>small</span> <span m='320452'>picture.</span> </p><p><span
  m='320850'>I</span> <span m='321114'>am</span> <span m='321379'>very</span>
  <span m='321643'>curious</span> <span m='321908'>to</span> <span
  m='322173'>see</span> <span m='322437'>how</span> <span m='322702'>this</span>
  <span m='322966'>image</span> <span m='323231'>looks</span> <span
  m='323496'>like,</span> <span m='323760'>but</span> <span
  m='324025'>lets</span> <span m='324290'>hold</span> <span
  m='324642'>off</span> <span m='324995'>now</span> <span m='325347'>and</span>
  <span m='325700'>do</span> <span m='326052'>our</span> <span
  m='326405'>clustering</span> <span m='326757'>first.</span> </p><p><span
  m='327110'>We</span> <span m='327328'>do</span> <span m='327546'>not</span>
  <span m='327765'>want</span> <span m='327983'>to</span> <span
  m='328201'>be</span> <span m='328420'>influenced</span> <span
  m='328638'>by</span> <span m='328856'>how</span> <span m='329075'>the</span>
  <span m='329293'>image</span> <span m='329511'>looks</span> <span
  m='329730'>like</span> <span m='330008'>in</span> <span m='330287'>our</span>
  <span m='330566'>decision</span> <span m='330845'>of</span> <span
  m='331124'>the</span> <span m='331403'>numbers</span> <span
  m='331682'>of</span> <span m='331961'>clusters</span> <span
  m='332240'>we</span> <span m='332890'>want</span> <span m='333540'>to</span>
  <span m='334190'>pick.</span> </p><p><span m='334840'>To</span> <span
  m='335113'>perform</span> <span m='335386'>any</span> <span
  m='335660'>type</span> <span m='335933'>of</span> <span
  m='336206'>clustering,</span> <span m='336480'>we</span> <span
  m='336707'>saw</span> <span m='336934'>earlier</span> <span
  m='337161'>that</span> <span m='337388'>we</span> <span
  m='337615'>would</span> <span m='337842'>need</span> <span
  m='338070'>to</span> <span m='338412'>convert</span> <span
  m='338755'>the</span> <span m='339098'>matrix</span> <span
  m='339441'>of</span> <span m='339784'>pixel</span> <span
  m='340127'>intensities</span> <span m='340470'>to</span> <span
  m='340873'>a</span> <span m='341276'>vector</span> <span
  m='341679'>that</span> <span m='342082'>contains</span> <span
  m='342485'>all</span> <span m='342888'>the</span> <span
  m='343291'>intensity</span> <span m='343694'>values</span> <span
  m='344097'>ranging</span> <span m='344500'>from</span> <span
  m='344857'>zero</span> <span m='345215'>to</span> <span m='345572'>one.</span>
  </p><p><span m='345930'>And</span> <span m='346382'>the</span> <span
  m='346835'>clustering</span> <span m='347287'>algorithm</span> <span
  m='347740'>divides</span> <span m='348192'>the</span> <span
  m='348645'>intensity</span> <span m='349097'>spectrum,</span> <span
  m='349550'>the</span> <span m='349876'>interval</span> <span
  m='350203'>zero</span> <span m='350530'>to</span> <span m='350856'>one,</span>
  <span m='351183'>into</span> <span m='351510'>these</span> <span
  m='351836'>joint</span> <span m='352163'>clusters</span> <span
  m='352490'>or</span> <span m='352990'>intervals.</span> </p><p><span
  m='353490'>So</span> <span m='354148'>let</span> <span m='354807'>us</span>
  <span m='355465'>define</span> <span m='356124'>the</span> <span
  m='356782'>vector</span> <span m='357441'>flowerVector,</span> <span
  m='358100'>and</span> <span m='358513'>then</span> <span m='358927'>now</span>
  <span m='359340'>we're</span> <span m='359754'>going</span> <span
  m='360168'>to</span> <span m='360581'>use</span> <span m='360995'>the</span>
  <span m='361409'>function</span> <span m='361822'>as.vector,</span> <span
  m='362236'>which</span> <span m='362650'>takes</span> <span
  m='363248'>as</span> <span m='363846'>an</span> <span m='364445'>input</span>
  <span m='365043'>the</span> <span m='365641'>flowerMatrix.</span> </p><p><span
  m='366240'>And</span> <span m='366674'>now</span> <span m='367109'>if</span>
  <span m='367543'>we</span> <span m='367978'>look</span> <span
  m='368412'>at</span> <span m='368847'>the</span> <span
  m='369281'>structure</span> <span m='369716'>of</span> <span
  m='370150'>the</span> <span m='370585'>flowerVector,</span> <span
  m='371020'>we</span> <span m='371636'>realize</span> <span
  m='372253'>that</span> <span m='372870'>we</span> <span m='373486'>have</span>
  <span m='374103'>2,500</span> <span m='374720'>numerical</span> <span
  m='375336'>values,</span> <span m='375953'>which</span> <span
  m='376570'>range</span> <span m='376878'>between</span> <span
  m='377186'>zero</span> <span m='377494'>and</span> <span
  m='377802'>one.</span> </p><p><span m='378110'>And</span> <span
  m='378530'>this</span> <span m='378950'>totally</span> <span
  m='379370'>makes</span> <span m='379790'>sense</span> <span
  m='380210'>because</span> <span m='380630'>this</span> <span
  m='381050'>reflects</span> <span m='381470'>the</span> <span
  m='381890'>50</span> <span m='382310'>times</span> <span m='382762'>50</span>
  <span m='383214'>intensity</span> <span m='383666'>values</span> <span
  m='384118'>that</span> <span m='384570'>we</span> <span m='385022'>had</span>
  <span m='385474'>in</span> <span m='385926'>our</span> <span
  m='386378'>matrix.</span> </p><p><span m='386830'>Now</span> <span
  m='387146'>you</span> <span m='387463'>might</span> <span m='387780'>be</span>
  <span m='388096'>wondering</span> <span m='388413'>why</span> <span
  m='388730'>we</span> <span m='389046'>can't</span> <span
  m='389363'>immediately</span> <span m='389680'>convert</span> <span
  m='390095'>the</span> <span m='390510'>data</span> <span
  m='390925'>frame</span> <span m='391340'>flower</span> <span
  m='391755'>to</span> <span m='392170'>a</span> <span m='392585'>vector.</span>
  </p><p><span m='393000'>Let's</span> <span m='393268'>try</span> <span
  m='393536'>to</span> <span m='393804'>do</span> <span m='394072'>this.</span>
  </p><p><span m='394340'>So</span> <span m='394760'>let's</span> <span
  m='395180'>go</span> <span m='395600'>back</span> <span m='396020'>to</span>
  <span m='396440'>our</span> <span m='396860'>as.vector</span> <span
  m='397280'>function</span> <span m='397700'>and</span> <span
  m='398024'>then</span> <span m='398348'>have</span> <span
  m='398673'>the</span> <span m='398997'>input</span> <span m='399322'>be</span>
  <span m='399646'>the</span> <span m='399971'>flower</span> <span
  m='400295'>data</span> <span m='400620'>frame</span> <span
  m='400991'>instead</span> <span m='401363'>of</span> <span
  m='401735'>the</span> <span m='402106'>flower</span> <span
  m='402478'>matrix.</span> </p><p><span m='402850'>And</span> <span
  m='403367'>then,</span> <span m='403885'>let's</span> <span
  m='404402'>name</span> <span m='404920'>this</span> <span
  m='405437'>variable</span> <span m='405955'>flowerVector2,</span> <span
  m='406472'>simply</span> <span m='406990'>so</span> <span
  m='407340'>that</span> <span m='407690'>we</span> <span
  m='408040'>don't</span> <span m='408390'>overwrite</span> <span
  m='408740'>the</span> <span m='409090'>flower</span> <span
  m='409440'>vector.</span> </p><p><span m='409790'>And</span> <span
  m='410004'>now</span> <span m='410218'>let's</span> <span
  m='410432'>look</span> <span m='410647'>at</span> <span m='410861'>its</span>
  <span m='411075'>structure.</span> </p><p><span m='413930'>It</span> <span
  m='414248'>seems</span> <span m='414566'>that</span> <span m='414885'>R</span>
  <span m='415203'>reads</span> <span m='415521'>it</span> <span
  m='415840'>exactly</span> <span m='416158'>like</span> <span
  m='416476'>the</span> <span m='416795'>flower</span> <span
  m='417113'>data</span> <span m='417431'>frame</span> <span
  m='417750'>and</span> <span m='418262'>sees</span> <span m='418774'>it</span>
  <span m='419286'>as</span> <span m='419798'>50</span> <span
  m='420311'>observations</span> <span m='420823'>and</span> <span
  m='421335'>50</span> <span m='421847'>variables.</span> </p><p><span
  m='422360'>So</span> <span m='422664'>converting</span> <span
  m='422968'>the</span> <span m='423272'>data</span> <span m='423576'>to</span>
  <span m='423880'>a</span> <span m='424185'>matrix</span> <span
  m='424489'>and</span> <span m='424793'>then</span> <span m='425097'>to</span>
  <span m='425401'>the</span> <span m='425705'>vector</span> <span
  m='426010'>is</span> <span m='426560'>a</span> <span m='427110'>crucial</span>
  <span m='427660'>step.</span> </p><p><span m='428210'>Now</span> <span
  m='428555'>we</span> <span m='428900'>should</span> <span m='429245'>be</span>
  <span m='429590'>ready</span> <span m='429935'>to</span> <span
  m='430280'>start</span> <span m='430625'>our</span> <span
  m='430970'>hierarchical</span> <span m='431315'>clustering.</span>
  </p><p><span m='431660'>The</span> <span m='431925'>first</span> <span
  m='432191'>step</span> <span m='432457'>is</span> <span m='432723'>to</span>
  <span m='432989'>create</span> <span m='433255'>the</span> <span
  m='433520'>distance</span> <span m='433786'>matrix,</span> <span
  m='434052'>as</span> <span m='434318'>you</span> <span
  m='434584'>already</span> <span m='434850'>know,</span> <span
  m='435183'>which</span> <span m='435516'>in</span> <span
  m='435850'>this</span> <span m='436183'>case</span> <span
  m='436516'>computes</span> <span m='436850'>the</span> <span
  m='437162'>difference</span> <span m='437474'>between</span> <span
  m='437786'>every</span> <span m='438098'>two</span> <span
  m='438410'>intensity</span> <span m='438722'>values</span> <span
  m='439034'>in</span> <span m='439346'>our</span> <span
  m='439658'>flower</span> <span m='439970'>vector.</span> </p><p><span
  m='440470'>So</span> <span m='440937'>let's</span> <span
  m='441405'>type</span> <span m='441872'>distance=dist(flowerVector,</span>
  <span m='442340'>method="euclidean").</span> </p><p><span
  m='455930'>Now</span> <span m='456228'>that</span> <span m='456527'>we</span>
  <span m='456825'>have</span> <span m='457124'>the</span> <span
  m='457422'>distance,</span> <span m='457721'>next</span> <span
  m='458020'>we</span> <span m='458522'>will</span> <span m='459025'>be</span>
  <span m='459528'>computing</span> <span m='460031'>the</span> <span
  m='460534'>hierarchical</span> <span m='461037'>clusters.</span> </p>
uid: ed08d97fd9e9eb76cb1ca6bc1457fe09
type: courses
layout: video
---
