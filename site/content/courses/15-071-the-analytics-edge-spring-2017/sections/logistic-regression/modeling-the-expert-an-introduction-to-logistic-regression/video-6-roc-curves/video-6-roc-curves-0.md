---
about_this_resource_text: ''
embedded_media:
  - id: Video-YouTube-Stream
    media_location: D8HcmzYnBv0
    parent_uid: 6b84313fbeb78cbe52d63413bfb5bb01
    title: Video-YouTube-Stream
    type: Video
    uid: f1d23ae587ed5656ce91d7da129f8e26
  - id: 3Play-3Play YouTube id-Stream
    media_location: D8HcmzYnBv0
    parent_uid: 6b84313fbeb78cbe52d63413bfb5bb01
    title: 3Play-3Play YouTube id
    type: 3Play
    uid: 93bc36f86f6da8f9e5e94b2dc279d875
  - id: D8HcmzYnBv0.srt
    parent_uid: 6b84313fbeb78cbe52d63413bfb5bb01
    technical_location: >-
      https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/logistic-regression/modeling-the-expert-an-introduction-to-logistic-regression/video-6-roc-curves/video-6-roc-curves-0/D8HcmzYnBv0.srt
    title: 3play caption file
    type: null
    uid: c78d3697b56f111dbdbfe9dc22162172
  - id: D8HcmzYnBv0.pdf
    parent_uid: 6b84313fbeb78cbe52d63413bfb5bb01
    technical_location: >-
      https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/logistic-regression/modeling-the-expert-an-introduction-to-logistic-regression/video-6-roc-curves/video-6-roc-curves-0/D8HcmzYnBv0.pdf
    title: 3play pdf file
    type: null
    uid: b2058b265bd737e0422bc76844330904
  - id: Caption-3Play YouTube id-SRT
    parent_uid: 6b84313fbeb78cbe52d63413bfb5bb01
    title: Caption-3Play YouTube id-SRT-English - US
    type: Caption
    uid: d268afde553d993f5f68d2ba445be99d
  - id: Transcript-3Play YouTube id-PDF
    parent_uid: 6b84313fbeb78cbe52d63413bfb5bb01
    title: Transcript-3Play YouTube id-PDF-English - US
    type: Transcript
    uid: e2bb631f59c923c11f532faec368b384
  - id: Thumbnail-YouTube-JPG
    media_location: 'https://img.youtube.com/vi/D8HcmzYnBv0/default.jpg'
    parent_uid: 6b84313fbeb78cbe52d63413bfb5bb01
    title: Thumbnail-YouTube-JPG
    type: Thumbnail
    uid: 8032f395e9fc8c139f92b1f47c8d733d
  - id: Video-InternetArchive-MP4
    media_location: >-
      https://archive.org/download/MIT15.071S17/MIT15_071S17_Session_3.2.10_300k.mp4
    parent_uid: 6b84313fbeb78cbe52d63413bfb5bb01
    title: Video-Internet Archive-MP4
    type: Video
    uid: f6d9ef9b7eed35a0511198a15310bb5b
inline_embed_id: 15263687video6roccurves58657797
order_index: 586
parent_uid: f62162651257bdbe48268a5e5b311096
related_resources_text: ''
short_url: video-6-roc-curves-0
technical_location: >-
  https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/logistic-regression/modeling-the-expert-an-introduction-to-logistic-regression/video-6-roc-curves/video-6-roc-curves-0
title: 'Video 6: ROC Curves'
transcript: >-
  <p><span m='4500'>Picking</span> <span m='4930'>a</span> <span
  m='5360'>good</span> <span m='5790'>threshold</span> <span
  m='6220'>value</span> <span m='6650'>is</span> <span m='7080'>often</span>
  <span m='7510'>challenging.</span> </p><p><span m='7940'>A</span> <span
  m='8476'>Receiver</span> <span m='9012'>Operator</span> <span
  m='9548'>Characteristic</span> <span m='10084'>curve,</span> <span
  m='10620'>or</span> <span m='11005'>ROC</span> <span m='11391'>curve,</span>
  <span m='11777'>can</span> <span m='12162'>help</span> <span
  m='12548'>you</span> <span m='12934'>decide</span> <span
  m='13320'>which</span> <span m='13748'>value</span> <span m='14177'>of</span>
  <span m='14605'>the</span> <span m='15034'>threshold</span> <span
  m='15462'>is</span> <span m='15891'>best.</span> </p><p><span
  m='16320'>The</span> <span m='16655'>ROC</span> <span m='16990'>curve</span>
  <span m='17325'>for</span> <span m='17660'>our</span> <span
  m='17995'>problem</span> <span m='18330'>is</span> <span
  m='18665'>shown</span> <span m='19000'>on</span> <span m='19308'>the</span>
  <span m='19616'>right</span> <span m='19925'>of</span> <span
  m='20233'>this</span> <span m='20541'>slide.</span> </p><p><span
  m='20850'>The</span> <span m='21244'>sensitivity,</span> <span
  m='21638'>or</span> <span m='22033'>true</span> <span
  m='22427'>positive</span> <span m='22822'>rate</span> <span
  m='23216'>of</span> <span m='23611'>the</span> <span m='24005'>model,</span>
  <span m='24400'>is</span> <span m='24878'>shown</span> <span
  m='25356'>on</span> <span m='25834'>the</span> <span m='26312'>y-axis.</span>
  </p><p><span m='26790'>And</span> <span m='27236'>the</span> <span
  m='27682'>false</span> <span m='28128'>positive</span> <span
  m='28574'>rate,</span> <span m='29020'>or</span> <span m='29466'>1</span>
  <span m='29912'>minus</span> <span m='30358'>the</span> <span
  m='30804'>specificity,</span> <span m='31250'>is</span> <span
  m='31764'>given</span> <span m='32278'>on</span> <span m='32792'>the</span>
  <span m='33306'>x-axis.</span> </p><p><span m='33820'>The</span> <span
  m='34160'>line</span> <span m='34500'>shows</span> <span m='34840'>how</span>
  <span m='35180'>these</span> <span m='35520'>two</span> <span
  m='35860'>outcome</span> <span m='36200'>measures</span> <span
  m='36540'>vary</span> <span m='37136'>with</span> <span
  m='37732'>different</span> <span m='38328'>threshold</span> <span
  m='38924'>values.</span> </p><p><span m='39520'>The</span> <span
  m='40002'>ROC</span> <span m='40484'>curve</span> <span
  m='40966'>always</span> <span m='41448'>starts</span> <span
  m='41930'>at</span> <span m='42412'>the</span> <span m='42894'>point</span>
  <span m='43376'>(0,</span> <span m='43858'>0).</span> </p><p><span
  m='44340'>This</span> <span m='44857'>corresponds</span> <span
  m='45375'>to</span> <span m='45892'>a</span> <span m='46410'>threshold</span>
  <span m='46927'>value</span> <span m='47445'>of</span> <span
  m='47962'>1.</span> </p><p><span m='48480'>If</span> <span
  m='48746'>you</span> <span m='49012'>have</span> <span m='49278'>a</span>
  <span m='49545'>threshold</span> <span m='49811'>of</span> <span
  m='50077'>1,</span> <span m='50343'>you</span> <span m='50610'>will</span>
  <span m='51012'>not</span> <span m='51415'>catch</span> <span
  m='51818'>any</span> <span m='52221'>poor</span> <span m='52624'>care</span>
  <span m='53027'>cases,</span> <span m='53430'>or</span> <span
  m='53870'>have</span> <span m='54310'>a</span> <span
  m='54750'>sensitivity</span> <span m='55190'>of</span> <span
  m='55630'>0.</span> </p><p><span m='56070'>But</span> <span
  m='56370'>you</span> <span m='56670'>will</span> <span
  m='56970'>correctly</span> <span m='57270'>label</span> <span
  m='57570'>of</span> <span m='57870'>all</span> <span m='58170'>the</span>
  <span m='58470'>good</span> <span m='58770'>care</span> <span
  m='59070'>cases,</span> <span m='59558'>meaning</span> <span
  m='60046'>you</span> <span m='60534'>have</span> <span m='61022'>a</span>
  <span m='61510'>false</span> <span m='61998'>positive</span> <span
  m='62486'>rate</span> <span m='62974'>of</span> <span m='63462'>0.</span>
  </p><p><span m='63950'>The</span> <span m='64378'>ROC</span> <span
  m='64807'>curve</span> <span m='65236'>always</span> <span
  m='65665'>ends</span> <span m='66094'>at</span> <span m='66523'>the</span>
  <span m='66952'>point</span> <span m='67381'>(1,1),</span> <span
  m='67810'>which</span> <span m='68273'>corresponds</span> <span
  m='68737'>to</span> <span m='69201'>a</span> <span m='69665'>threshold</span>
  <span m='70128'>value</span> <span m='70592'>of</span> <span
  m='71056'>0.</span> </p><p><span m='71520'>If</span> <span
  m='71787'>you</span> <span m='72055'>have</span> <span m='72322'>a</span>
  <span m='72590'>threshold</span> <span m='72857'>of</span> <span
  m='73125'>0,</span> <span m='73392'>you'll</span> <span m='73660'>catch</span>
  <span m='73970'>all</span> <span m='74280'>of</span> <span
  m='74590'>the</span> <span m='74900'>poor</span> <span m='75210'>care</span>
  <span m='75520'>cases,</span> <span m='75830'>or</span> <span
  m='76147'>have</span> <span m='76465'>a</span> <span
  m='76782'>sensitivity</span> <span m='77100'>of</span> <span
  m='77417'>1,</span> <span m='77735'>but</span> <span m='78052'>you'll</span>
  <span m='78370'>label</span> <span m='78658'>all</span> <span
  m='78946'>of</span> <span m='79234'>the</span> <span m='79522'>good</span>
  <span m='79810'>care</span> <span m='80098'>cases</span> <span
  m='80386'>as</span> <span m='80674'>poor</span> <span m='80962'>care</span>
  <span m='81250'>cases</span> <span m='81539'>too,</span> <span
  m='81982'>meaning</span> <span m='82425'>you</span> <span
  m='82868'>have</span> <span m='83311'>a</span> <span m='83754'>false</span>
  <span m='84197'>positive</span> <span m='84640'>rate</span> <span
  m='85083'>of</span> <span m='85526'>1.</span> </p><p><span
  m='85970'>The</span> <span m='86515'>threshold</span> <span
  m='87060'>decreases</span> <span m='87605'>as</span> <span
  m='88150'>you</span> <span m='88695'>move</span> <span m='89240'>from</span>
  <span m='89785'>(0,0)</span> <span m='90330'>to</span> <span
  m='90875'>(1,1).</span> </p><p><span m='91420'>At</span> <span
  m='92152'>the</span> <span m='92885'>point</span> <span m='93617'>(0,</span>
  <span m='94350'>0.4),</span> <span m='95082'>or</span> <span
  m='95815'>about</span> <span m='96547'>here,</span> <span
  m='97280'>you're</span> <span m='97848'>correctly</span> <span
  m='98416'>labeling</span> <span m='98984'>about</span> <span
  m='99552'>40%</span> <span m='100120'>of</span> <span m='100523'>the</span>
  <span m='100926'>poor</span> <span m='101330'>care</span> <span
  m='101733'>cases</span> <span m='102136'>with</span> <span m='102540'>a</span>
  <span m='102943'>very</span> <span m='103346'>small</span> <span
  m='103750'>false</span> <span m='104153'>positive</span> <span
  m='104556'>rate.</span> </p><p><span m='104960'>On</span> <span
  m='105563'>the</span> <span m='106166'>other</span> <span
  m='106770'>hand,</span> <span m='107373'>at</span> <span m='107976'>the</span>
  <span m='108580'>point</span> <span m='109183'>(0.6,</span> <span
  m='109786'>0.9),</span> <span m='110390'>you're</span> <span
  m='110808'>correctly</span> <span m='111226'>labeling</span> <span
  m='111644'>about</span> <span m='112062'>90%</span> <span m='112480'>of</span>
  <span m='112898'>the</span> <span m='113316'>poor</span> <span
  m='113734'>care</span> <span m='114152'>cases,</span> <span
  m='114570'>but</span> <span m='115037'>have</span> <span m='115505'>a</span>
  <span m='115972'>false</span> <span m='116440'>positive</span> <span
  m='116907'>rate</span> <span m='117375'>of</span> <span m='117842'>60%.</span>
  </p><p><span m='118310'>In</span> <span m='118945'>the</span> <span
  m='119580'>middle,</span> <span m='120215'>around</span> <span
  m='120850'>(0.3,</span> <span m='121485'>0.8),</span> <span
  m='122120'>you're</span> <span m='122520'>correctly</span> <span
  m='122920'>labeling</span> <span m='123320'>about</span> <span
  m='123720'>80%</span> <span m='124120'>of</span> <span m='124520'>the</span>
  <span m='124920'>poor</span> <span m='125320'>care</span> <span
  m='125720'>cases,</span> <span m='126120'>with</span> <span
  m='126756'>a</span> <span m='127393'>30%</span> <span m='128030'>false</span>
  <span m='128666'>positive</span> <span m='129303'>rate.</span> </p><p><span
  m='129940'>The</span> <span m='130574'>ROC</span> <span
  m='131208'>curve</span> <span m='131842'>captures</span> <span
  m='132477'>all</span> <span m='133111'>thresholds</span> <span
  m='133745'>simultaneously.</span> </p><p><span m='134380'>The</span> <span
  m='134763'>higher</span> <span m='135146'>the</span> <span
  m='135529'>threshold,</span> <span m='135912'>or</span> <span
  m='136296'>closer</span> <span m='136679'>to</span> <span
  m='137062'>(0,</span> <span m='137445'>0),</span> <span m='137829'>the</span>
  <span m='138299'>higher</span> <span m='138769'>the</span> <span
  m='139239'>specificity</span> <span m='139709'>and</span> <span
  m='140179'>the</span> <span m='140649'>lower</span> <span
  m='141119'>the</span> <span m='141589'>sensitivity.</span> </p><p><span
  m='142060'>The</span> <span m='142477'>lower</span> <span
  m='142895'>the</span> <span m='143312'>threshold,</span> <span
  m='143730'>or</span> <span m='144147'>closer</span> <span m='144565'>to</span>
  <span m='144982'>(1,1),</span> <span m='145400'>the</span> <span
  m='146035'>higher</span> <span m='146670'>the</span> <span
  m='147305'>sensitivity</span> <span m='147940'>and</span> <span
  m='148575'>lower</span> <span m='149210'>the</span> <span
  m='149845'>specificity.</span> </p><p><span m='150480'>So</span> <span
  m='150891'>which</span> <span m='151302'>threshold</span> <span
  m='151714'>value</span> <span m='152125'>should</span> <span
  m='152537'>you</span> <span m='152948'>pick?</span> </p><p><span
  m='153360'>You</span> <span m='153710'>should</span> <span
  m='154060'>select</span> <span m='154410'>the</span> <span
  m='154760'>best</span> <span m='155110'>threshold</span> <span
  m='155460'>for</span> <span m='155804'>the</span> <span
  m='156148'>trade-off</span> <span m='156492'>you</span> <span
  m='156837'>want</span> <span m='157181'>to</span> <span
  m='157525'>make.</span> </p><p><span m='157870'>If</span> <span
  m='158233'>you're</span> <span m='158596'>more</span> <span
  m='158960'>concerned</span> <span m='159323'>with</span> <span
  m='159686'>having</span> <span m='160050'>a</span> <span
  m='160413'>high</span> <span m='160776'>specificity</span> <span
  m='161140'>or</span> <span m='161587'>low</span> <span m='162035'>false</span>
  <span m='162482'>positive</span> <span m='162930'>rate,</span> <span
  m='163377'>pick</span> <span m='163825'>the</span> <span
  m='164272'>threshold</span> <span m='164720'>that</span> <span
  m='165171'>maximizes</span> <span m='165623'>the</span> <span
  m='166075'>true</span> <span m='166526'>positive</span> <span
  m='166978'>rate</span> <span m='167430'>while</span> <span
  m='167828'>keeping</span> <span m='168227'>the</span> <span
  m='168626'>false</span> <span m='169025'>positive</span> <span
  m='169423'>rate</span> <span m='169822'>really</span> <span
  m='170221'>low.</span> </p><p><span m='170620'>A</span> <span
  m='171218'>threshold</span> <span m='171817'>around</span> <span
  m='172416'>(0.1,</span> <span m='173015'>0.5)</span> <span
  m='173614'>on</span> <span m='174213'>this</span> <span m='174812'>ROC</span>
  <span m='175411'>curve</span> <span m='176010'>looks</span> <span
  m='176392'>like</span> <span m='176775'>a</span> <span m='177157'>good</span>
  <span m='177540'>choice</span> <span m='177922'>in</span> <span
  m='178305'>this</span> <span m='178687'>case.</span> </p><p><span
  m='179070'>On</span> <span m='179358'>the</span> <span m='179647'>other</span>
  <span m='179936'>hand,</span> <span m='180225'>if</span> <span
  m='180513'>you're</span> <span m='180802'>more</span> <span
  m='181091'>concerned</span> <span m='181380'>with</span> <span
  m='181804'>having</span> <span m='182228'>a</span> <span
  m='182652'>high</span> <span m='183076'>sensitivity</span> <span
  m='183500'>or</span> <span m='183924'>high</span> <span m='184348'>true</span>
  <span m='184772'>positive</span> <span m='185196'>rate,</span> <span
  m='185620'>pick</span> <span m='185994'>a</span> <span
  m='186368'>threshold</span> <span m='186743'>that</span> <span
  m='187117'>minimizes</span> <span m='187492'>the</span> <span
  m='187866'>false</span> <span m='188241'>positive</span> <span
  m='188615'>rate</span> <span m='188990'>but</span> <span m='189398'>has</span>
  <span m='189807'>a</span> <span m='190216'>very</span> <span
  m='190625'>high</span> <span m='191033'>true</span> <span
  m='191442'>positive</span> <span m='191851'>rate.</span> </p><p><span
  m='192260'>A</span> <span m='193180'>threshold</span> <span
  m='194100'>around</span> <span m='195020'>(0.3,</span> <span
  m='195940'>0.8)</span> <span m='196860'>looks</span> <span
  m='197780'>like</span> <span m='198338'>a</span> <span m='198897'>good</span>
  <span m='199455'>choice</span> <span m='200014'>in</span> <span
  m='200572'>this</span> <span m='201131'>case.</span> </p><p><span
  m='201690'>You</span> <span m='202019'>can</span> <span
  m='202349'>label</span> <span m='202679'>the</span> <span
  m='203009'>threshold</span> <span m='203339'>values</span> <span
  m='203669'>in</span> <span m='203999'>R</span> <span m='204329'>by</span>
  <span m='204846'>color-coding</span> <span m='205364'>the</span> <span
  m='205882'>curve.</span> </p><p><span m='206400'>The</span> <span
  m='206754'>legend</span> <span m='207108'>is</span> <span
  m='207462'>shown</span> <span m='207817'>on</span> <span m='208171'>the</span>
  <span m='208525'>right.</span> </p><p><span m='208880'>This</span> <span
  m='209179'>shows</span> <span m='209478'>us</span> <span
  m='209777'>that--</span> <span m='210076'>say</span> <span
  m='210375'>we</span> <span m='210674'>want</span> <span m='210973'>to</span>
  <span m='211272'>pick</span> <span m='211571'>a</span> <span
  m='211870'>threshold</span> <span m='212170'>value</span> <span
  m='212889'>around</span> <span m='213609'>here.</span> </p><p><span
  m='214329'>This</span> <span m='214765'>corresponds</span> <span
  m='215201'>to</span> <span m='215638'>between</span> <span
  m='216074'>the</span> <span m='216511'>aqua</span> <span
  m='216947'>color</span> <span m='217384'>and</span> <span
  m='217820'>the</span> <span m='218257'>green</span> <span
  m='218693'>color.</span> </p><p><span m='219130'>Or</span> <span
  m='219578'>it</span> <span m='220027'>looks</span> <span
  m='220476'>like</span> <span m='220925'>about</span> <span m='221374'>a</span>
  <span m='221823'>threshold</span> <span m='222272'>of</span> <span
  m='222721'>0.3.</span> </p><p><span m='223170'>Instead,</span> <span
  m='223550'>if</span> <span m='223930'>we</span> <span m='224310'>wanted</span>
  <span m='224690'>to</span> <span m='225070'>pick</span> <span
  m='225450'>a</span> <span m='225830'>threshold</span> <span
  m='226210'>around</span> <span m='226590'>here,</span> <span
  m='226970'>this</span> <span m='227289'>looks</span> <span
  m='227608'>like</span> <span m='227927'>the</span> <span
  m='228246'>start</span> <span m='228565'>of</span> <span m='228884'>the</span>
  <span m='229203'>darker</span> <span m='229522'>blue</span> <span
  m='229841'>color,</span> <span m='230160'>and</span> <span
  m='230706'>looks</span> <span m='231253'>like</span> <span
  m='231799'>it's</span> <span m='232346'>probably</span> <span
  m='232892'>a</span> <span m='233439'>threshold</span> <span
  m='233985'>around</span> <span m='234532'>0.2.</span> </p><p><span
  m='235079'>We</span> <span m='235600'>can</span> <span m='236122'>also</span>
  <span m='236643'>add</span> <span m='237165'>specific</span> <span
  m='237686'>threshold</span> <span m='238208'>labels</span> <span
  m='238730'>to</span> <span m='239086'>the</span> <span m='239442'>curve</span>
  <span m='239798'>in</span> <span m='240155'>R.</span> <span
  m='240511'>This</span> <span m='240867'>helps</span> <span
  m='241223'>you</span> <span m='241580'>see</span> <span
  m='241975'>which</span> <span m='242370'>threshold</span> <span
  m='242765'>value</span> <span m='243160'>you</span> <span
  m='243555'>want</span> <span m='243950'>to</span> <span m='244345'>use.</span>
  </p><p><span m='244740'>Let's</span> <span m='245210'>go</span> <span
  m='245681'>into</span> <span m='246152'>R</span> <span m='246623'>and</span>
  <span m='247094'>see</span> <span m='247565'>how</span> <span
  m='248035'>to</span> <span m='248506'>generate</span> <span
  m='248977'>these</span> <span m='249448'>ROC</span> <span
  m='249919'>curves.</span> </p><p><span m='250390'>To</span> <span
  m='250780'>generate</span> <span m='251171'>ROC</span> <span
  m='251562'>curves</span> <span m='251953'>in</span> <span m='252343'>R,</span>
  <span m='252734'>we</span> <span m='253125'>need</span> <span
  m='253516'>to</span> <span m='253906'>install</span> <span m='254297'>a</span>
  <span m='254688'>new</span> <span m='255079'>package.</span> </p><p><span
  m='255470'>We'll</span> <span m='255755'>use</span> <span
  m='256040'>the</span> <span m='256325'>same</span> <span m='256610'>two</span>
  <span m='256895'>commands</span> <span m='257180'>as</span> <span
  m='257465'>we</span> <span m='257750'>did</span> <span
  m='258035'>earlier</span> <span m='258320'>in</span> <span
  m='258599'>the</span> <span m='258878'>lecture,</span> <span
  m='259157'>but</span> <span m='259436'>this</span> <span
  m='259715'>time</span> <span m='259994'>the</span> <span
  m='260273'>name</span> <span m='260552'>of</span> <span m='260831'>the</span>
  <span m='261110'>package</span> <span m='261390'>is</span> <span
  m='262370'>ROCR.</span> </p><p><span m='263350'>So</span> <span
  m='265290'>first</span> <span m='267230'>type</span> <span
  m='269170'>install.packages("ROCR"),</span> <span m='271110'>and</span> <span
  m='271590'>hit</span> <span m='272070'>Enter.</span> </p><p><span
  m='272550'>Since</span> <span m='272888'>we</span> <span
  m='273226'>picked</span> <span m='273564'>a</span> <span
  m='273902'>CRAN</span> <span m='274240'>mirror</span> <span
  m='274579'>already</span> <span m='274917'>in</span> <span
  m='275255'>this</span> <span m='275593'>R</span> <span
  m='275931'>session,</span> <span m='276270'>we</span> <span
  m='276581'>shouldn't</span> <span m='276892'>have</span> <span
  m='277204'>to</span> <span m='277515'>pick</span> <span m='277827'>it</span>
  <span m='278138'>again.</span> </p><p><span m='278450'>You</span> <span
  m='278751'>know</span> <span m='279052'>the</span> <span
  m='279354'>package</span> <span m='279655'>is</span> <span
  m='279957'>done</span> <span m='280258'>installing</span> <span
  m='280560'>when</span> <span m='280785'>you</span> <span m='281011'>see</span>
  <span m='281237'>the</span> <span m='281462'>arrow</span> <span
  m='281688'>and</span> <span m='281914'>blinking</span> <span
  m='282140'>cursor</span> <span m='282664'>in</span> <span
  m='283188'>your</span> <span m='283712'>R</span> <span
  m='284236'>console.</span> </p><p><span m='284760'>Now</span> <span
  m='285156'>let's</span> <span m='285553'>load</span> <span
  m='285950'>the</span> <span m='286346'>package</span> <span
  m='286743'>using</span> <span m='287140'>the</span> <span
  m='287536'>library</span> <span m='287933'>function.</span> </p><p><span
  m='291420'>Recall</span> <span m='291752'>that</span> <span
  m='292084'>we</span> <span m='292416'>made</span> <span
  m='292748'>predictions</span> <span m='293080'>on</span> <span
  m='293412'>our</span> <span m='293744'>training</span> <span
  m='294076'>set</span> <span m='294409'>and</span> <span
  m='294889'>called</span> <span m='295369'>them</span> <span
  m='295849'>predictTrain.</span> </p><p><span m='296330'>We'll</span> <span
  m='296794'>use</span> <span m='297258'>these</span> <span
  m='297723'>predictions</span> <span m='298187'>to</span> <span
  m='298652'>create</span> <span m='299116'>our</span> <span
  m='299581'>ROC</span> <span m='300045'>curve.</span> </p><p><span
  m='300510'>First,</span> <span m='301018'>we'll</span> <span
  m='301527'>call</span> <span m='302036'>the</span> <span
  m='302545'>prediction</span> <span m='303053'>function</span> <span
  m='303562'>of</span> <span m='304071'>ROCR.</span> </p><p><span
  m='304580'>We'll</span> <span m='305241'>call</span> <span
  m='305902'>the</span> <span m='306563'>output</span> <span
  m='307225'>of</span> <span m='307886'>this</span> <span
  m='308547'>function</span> <span m='309208'>ROCRpred,</span> <span
  m='309870'>and</span> <span m='310320'>then</span> <span m='310770'>use</span>
  <span m='311220'>the</span> <span m='311670'>prediction</span> <span
  m='312120'>function.</span> </p><p><span m='312570'>This</span> <span
  m='313084'>function</span> <span m='313598'>takes</span> <span
  m='314112'>two</span> <span m='314626'>arguments.</span> </p><p><span
  m='315140'>The</span> <span m='315417'>first</span> <span m='315694'>is</span>
  <span m='315971'>the</span> <span m='316248'>predictions</span> <span
  m='316525'>we</span> <span m='316802'>made</span> <span m='317080'>with</span>
  <span m='317675'>our</span> <span m='318271'>model,</span> <span
  m='318867'>which</span> <span m='319462'>we</span> <span
  m='320058'>called</span> <span m='320654'>predictTrain.</span> </p><p><span
  m='321250'>The</span> <span m='321666'>second</span> <span
  m='322082'>argument</span> <span m='322499'>is</span> <span
  m='322915'>the</span> <span m='323331'>true</span> <span
  m='323748'>outcomes</span> <span m='324164'>of</span> <span
  m='324580'>our</span> <span m='324997'>data</span> <span
  m='325413'>points,</span> <span m='325830'>which</span> <span
  m='326141'>in</span> <span m='326453'>our</span> <span m='326765'>case,</span>
  <span m='327076'>is</span> <span m='327388'>qualityTrain$PoorCare.</span>
  </p><p><span m='333120'>Now,</span> <span m='333501'>we</span> <span
  m='333882'>need</span> <span m='334263'>to</span> <span m='334645'>use</span>
  <span m='335026'>the</span> <span m='335407'>performance</span> <span
  m='335788'>function.</span> </p><p><span m='336170'>This</span> <span
  m='336397'>defines</span> <span m='336624'>what</span> <span
  m='336851'>we'd</span> <span m='337078'>like</span> <span m='337305'>to</span>
  <span m='337532'>plot</span> <span m='337760'>on</span> <span
  m='338206'>the</span> <span m='338653'>x</span> <span m='339100'>and</span>
  <span m='339546'>y-axes</span> <span m='339993'>of</span> <span
  m='340440'>our</span> <span m='340886'>ROC</span> <span
  m='341333'>curve.</span> </p><p><span m='341780'>We'll</span> <span
  m='342334'>call</span> <span m='342888'>the</span> <span
  m='343442'>output</span> <span m='343996'>of</span> <span
  m='344550'>this</span> <span m='345104'>ROCRperf,</span> <span
  m='345659'>and</span> <span m='346107'>use</span> <span m='346556'>the</span>
  <span m='347004'>performance</span> <span m='347453'>function,</span> <span
  m='347901'>which</span> <span m='348350'>takes</span> <span
  m='348894'>as</span> <span m='349438'>arguments</span> <span
  m='349983'>the</span> <span m='350527'>output</span> <span
  m='351072'>of</span> <span m='351616'>the</span> <span
  m='352161'>prediction</span> <span m='352705'>function,</span> <span
  m='353250'>and</span> <span m='353550'>then</span> <span
  m='353850'>what</span> <span m='354150'>we</span> <span m='354450'>want</span>
  <span m='354750'>on</span> <span m='355050'>the</span> <span
  m='355350'>x</span> <span m='355650'>and</span> <span
  m='355950'>y-axes.</span> </p><p><span m='356250'>In</span> <span
  m='356612'>this</span> <span m='356975'>case,</span> <span
  m='357338'>it's</span> <span m='357701'>true</span> <span
  m='358064'>positive</span> <span m='358427'>rate,</span> <span
  m='358790'>or</span> <span m='359363'>"tpr",</span> <span
  m='359937'>and</span> <span m='360511'>false</span> <span
  m='361085'>positive</span> <span m='361658'>rate,</span> <span
  m='362232'>or</span> <span m='362806'>"fpr".</span> </p><p><span
  m='363380'>Now,</span> <span m='363698'>we</span> <span m='364016'>just</span>
  <span m='364334'>need</span> <span m='364652'>to</span> <span
  m='364970'>plot</span> <span m='365289'>the</span> <span
  m='365607'>output</span> <span m='365925'>of</span> <span
  m='366243'>the</span> <span m='366561'>performance</span> <span
  m='366880'>function,</span> <span m='367510'>ROCRperf.</span> </p><p><span
  m='370980'>You</span> <span m='371286'>should</span> <span
  m='371593'>see</span> <span m='371900'>the</span> <span m='372206'>ROC</span>
  <span m='372513'>curve</span> <span m='372820'>pop</span> <span
  m='373126'>up</span> <span m='373433'>in</span> <span m='373740'>a</span>
  <span m='374046'>new</span> <span m='374353'>window.</span> </p><p><span
  m='374660'>This</span> <span m='375053'>should</span> <span
  m='375446'>look</span> <span m='375840'>exactly</span> <span
  m='376233'>like</span> <span m='376626'>the</span> <span m='377020'>one</span>
  <span m='377413'>we</span> <span m='377806'>saw</span> <span
  m='378200'>on</span> <span m='378593'>the</span> <span
  m='378986'>slides.</span> </p><p><span m='379380'>Now,</span> <span
  m='379754'>you</span> <span m='380128'>can</span> <span m='380502'>add</span>
  <span m='380876'>colors</span> <span m='381250'>by</span> <span
  m='381624'>adding</span> <span m='381998'>one</span> <span
  m='382372'>additional</span> <span m='382746'>argument</span> <span
  m='383120'>to</span> <span m='383532'>the</span> <span m='383945'>plot</span>
  <span m='384357'>function.</span> </p><p><span m='384770'>So</span> <span
  m='385281'>in</span> <span m='385793'>your</span> <span m='386305'>R</span>
  <span m='386816'>console,</span> <span m='387328'>hit</span> <span
  m='387840'>the</span> <span m='388351'>up</span> <span
  m='388863'>arrow,</span> <span m='389375'>and</span> <span
  m='389886'>after</span> <span m='390398'>ROCRperf,</span> <span
  m='390910'>type</span> <span m='391834'>colorize=TRUE,</span> <span
  m='392758'>and</span> <span m='393682'>hit</span> <span
  m='394606'>Enter.</span> </p><p><span m='395530'>If</span> <span
  m='395751'>you</span> <span m='395972'>go</span> <span m='396193'>back</span>
  <span m='396415'>to</span> <span m='396636'>your</span> <span
  m='396857'>plot</span> <span m='397078'>window,</span> <span
  m='397300'>you</span> <span m='397601'>should</span> <span
  m='397902'>see</span> <span m='398203'>the</span> <span m='398504'>ROC</span>
  <span m='398805'>curve</span> <span m='399106'>with</span> <span
  m='399407'>the</span> <span m='399708'>colors</span> <span
  m='400010'>for</span> <span m='400706'>the</span> <span
  m='401402'>threshold</span> <span m='402098'>values</span> <span
  m='402794'>added.</span> </p><p><span m='403490'>Now</span> <span
  m='403926'>finally,</span> <span m='404362'>let's</span> <span
  m='404798'>add</span> <span m='405234'>the</span> <span
  m='405670'>threshold</span> <span m='406106'>labels</span> <span
  m='406542'>to</span> <span m='406978'>our</span> <span m='407414'>plot.</span>
  </p><p><span m='407850'>Back</span> <span m='408105'>in</span> <span
  m='408361'>your</span> <span m='408617'>R</span> <span
  m='408872'>console,</span> <span m='409128'>hit</span> <span
  m='409384'>the</span> <span m='409640'>up</span> <span m='409895'>arrow</span>
  <span m='410151'>again</span> <span m='410407'>to</span> <span
  m='410662'>get</span> <span m='410918'>the</span> <span m='411174'>plot</span>
  <span m='411430'>function,</span> <span m='412385'>and</span> <span
  m='413340'>after</span> <span m='414295'>colorize=TRUE,</span> <span
  m='415250'>we'll</span> <span m='415774'>add</span> <span
  m='416298'>two</span> <span m='416822'>more</span> <span
  m='417346'>arguments.</span> </p><p><span m='417870'>The</span> <span
  m='421290'>first</span> <span m='424710'>is</span> <span
  m='428130'>print.cutoffs.at=seq(0,1,0.1),</span> <span m='431550'>which</span>
  <span m='431968'>will</span> <span m='432386'>print</span> <span
  m='432804'>the</span> <span m='433222'>threshold</span> <span
  m='433640'>values</span> <span m='434058'>in</span> <span
  m='434476'>increments</span> <span m='434894'>of</span> <span
  m='435312'>0.1.</span> </p><p><span m='435730'>If</span> <span
  m='436192'>you</span> <span m='436655'>want</span> <span
  m='437118'>finer</span> <span m='437580'>increments,</span> <span
  m='438043'>just</span> <span m='438506'>decrease</span> <span
  m='438969'>the</span> <span m='439431'>value</span> <span m='439894'>of</span>
  <span m='440357'>0.1.</span> </p><p><span m='440820'>And</span> <span
  m='441155'>then</span> <span m='441491'>the</span> <span
  m='441827'>final</span> <span m='442162'>argument</span> <span
  m='442498'>is</span> <span m='442834'>text.adj=c(-0.2,1.7),</span> <span
  m='443170'>and</span> <span m='443363'>hit</span> <span
  m='443556'>enter.</span> </p><p><span m='456330'>If</span> <span
  m='456681'>you</span> <span m='457032'>go</span> <span m='457383'>back</span>
  <span m='457735'>to</span> <span m='458086'>your</span> <span
  m='458437'>plot</span> <span m='458788'>window,</span> <span
  m='459140'>you</span> <span m='459655'>should</span> <span
  m='460170'>see</span> <span m='460685'>the</span> <span m='461200'>ROC</span>
  <span m='461715'>curve</span> <span m='462230'>with</span> <span
  m='462745'>threshold</span> <span m='463260'>values</span> <span
  m='463775'>added.</span> </p><p><span m='464290'>Using</span> <span
  m='464650'>this</span> <span m='465010'>curve,</span> <span
  m='465370'>we</span> <span m='465730'>can</span> <span
  m='466090'>determine</span> <span m='466450'>which</span> <span
  m='466810'>threshold</span> <span m='467170'>value</span> <span
  m='467530'>we</span> <span m='467833'>want</span> <span m='468137'>to</span>
  <span m='468441'>use</span> <span m='468745'>depending</span> <span
  m='469048'>on</span> <span m='469352'>our</span> <span
  m='469656'>preferences</span> <span m='469960'>as</span> <span
  m='470740'>a</span> <span m='471520'>decision-maker.</span> </p><p><span
  m='472300'>In</span> <span m='472651'>the</span> <span m='473002'>next</span>
  <span m='473354'>video,</span> <span m='473705'>we'll</span> <span
  m='474057'>discuss</span> <span m='474408'>how</span> <span
  m='474760'>to</span> <span m='475175'>assess</span> <span
  m='475591'>the</span> <span m='476007'>strength</span> <span
  m='476422'>of</span> <span m='476838'>our</span> <span
  m='477254'>model.</span> </p>
uid: 6b84313fbeb78cbe52d63413bfb5bb01
type: courses
layout: video
---
