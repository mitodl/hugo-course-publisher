---
about_this_resource_text: ''
embedded_media:
  - id: Video-YouTube-Stream
    media_location: DU0_NM0mZPE
    parent_uid: 4ed777efe89a7ba8862e8441c0bc4ea5
    title: Video-YouTube-Stream
    type: Video
    uid: 2ade9ab36fab1da31aa3a1efff485e2a
  - id: 3Play-3Play YouTube id-Stream
    media_location: DU0_NM0mZPE
    parent_uid: 4ed777efe89a7ba8862e8441c0bc4ea5
    title: 3Play-3Play YouTube id
    type: 3Play
    uid: 317fa919618acb9b9ebb55ffd0cbd02a
  - id: Thumbnail-YouTube-JPG
    media_location: 'https://img.youtube.com/vi/DU0_NM0mZPE/default.jpg'
    parent_uid: 4ed777efe89a7ba8862e8441c0bc4ea5
    title: Thumbnail-YouTube-JPG
    type: Thumbnail
    uid: f39d3f3afd1d2eaf0953a39e56688b02
  - id: DU0_NM0mZPE.srt
    parent_uid: 4ed777efe89a7ba8862e8441c0bc4ea5
    technical_location: >-
      https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/visualization/the-analytical-policeman-visualization-for-law-and-order/video-4-a-heatmap/video-4-a-heatmap-0/DU0_NM0mZPE.srt
    title: 3play caption file
    type: null
    uid: 3b8577443b9480be0b0d148409e830e6
  - id: DU0_NM0mZPE.pdf
    parent_uid: 4ed777efe89a7ba8862e8441c0bc4ea5
    technical_location: >-
      https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/visualization/the-analytical-policeman-visualization-for-law-and-order/video-4-a-heatmap/video-4-a-heatmap-0/DU0_NM0mZPE.pdf
    title: 3play pdf file
    type: null
    uid: 2e47c52d771cbca493953ebccd62607d
  - id: Caption-3Play YouTube id-SRT
    parent_uid: 4ed777efe89a7ba8862e8441c0bc4ea5
    title: Caption-3Play YouTube id-SRT-English - US
    type: Caption
    uid: d03133fda7b67745945f9e6eacbffd7a
  - id: Transcript-3Play YouTube id-PDF
    parent_uid: 4ed777efe89a7ba8862e8441c0bc4ea5
    title: Transcript-3Play YouTube id-PDF-English - US
    type: Transcript
    uid: 05943fbace1fc3f4a90fa33aa7cb8dd2
  - id: Video-InternetArchive-MP4
    media_location: >-
      https://archive.org/download/MIT15.071S17/MIT15_071S17_Session_7.3.07_300k.mp4
    parent_uid: 4ed777efe89a7ba8862e8441c0bc4ea5
    title: Video-Internet Archive-MP4
    type: Video
    uid: 59e39d81110997a1ab574d61252cc228
inline_embed_id: 25091139video4aheatmap65847631
order_index: 1647
parent_uid: 7a8ce8b691e992d100a83e4b86041a1a
related_resources_text: ''
short_url: video-4-a-heatmap-0
technical_location: >-
  https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/visualization/the-analytical-policeman-visualization-for-law-and-order/video-4-a-heatmap/video-4-a-heatmap-0
title: 'Video 4: A Heatmap'
transcript: >-
  <p><span m='4580'>In</span> <span m='4850'>this</span> <span
  m='5120'>video,</span> <span m='5390'>we'll</span> <span m='5660'>add</span>
  <span m='5930'>the</span> <span m='6200'>hour</span> <span m='6470'>of</span>
  <span m='6740'>the</span> <span m='7010'>day</span> <span m='7280'>to</span>
  <span m='7617'>our</span> <span m='7954'>line</span> <span
  m='8291'>plot,</span> <span m='8628'>and</span> <span m='8965'>then</span>
  <span m='9302'>create</span> <span m='9640'>an</span> <span
  m='10164'>alternative</span> <span m='10688'>visualization</span> <span
  m='11212'>using</span> <span m='11737'>a</span> <span m='12261'>heat</span>
  <span m='12785'>map.</span> </p><p><span m='13310'>We</span> <span
  m='13635'>can</span> <span m='13961'>do</span> <span m='14287'>this</span>
  <span m='14612'>by</span> <span m='14938'>creating</span> <span
  m='15264'>a</span> <span m='15590'>line</span> <span m='15915'>for</span>
  <span m='16241'>each</span> <span m='16567'>day</span> <span
  m='16892'>of</span> <span m='17218'>the</span> <span m='17544'>week</span>
  <span m='17870'>and</span> <span m='18281'>making</span> <span
  m='18692'>the</span> <span m='19103'>x-axis</span> <span m='19514'>the</span>
  <span m='19925'>hour</span> <span m='20336'>of</span> <span
  m='20747'>the</span> <span m='21158'>day.</span> </p><p><span
  m='21570'>We</span> <span m='21856'>first</span> <span m='22142'>need</span>
  <span m='22428'>to</span> <span m='22715'>create</span> <span
  m='23001'>a</span> <span m='23287'>counts</span> <span m='23573'>table</span>
  <span m='23860'>for</span> <span m='24302'>the</span> <span
  m='24744'>weekday,</span> <span m='25186'>and</span> <span
  m='25628'>hour.</span> </p><p><span m='26070'>So</span> <span
  m='26439'>we'll</span> <span m='26808'>use</span> <span m='27177'>the</span>
  <span m='27546'>table</span> <span m='27915'>function</span> <span
  m='28285'>and</span> <span m='28654'>give</span> <span m='29023'>as</span>
  <span m='29392'>the</span> <span m='29761'>first</span> <span
  m='30130'>variable,</span> <span m='30500'>the</span> <span
  m='30881'>Weekday</span> <span m='31262'>variable</span> <span
  m='31644'>in</span> <span m='32025'>our</span> <span m='32407'>data</span>
  <span m='32788'>frame.</span> </p><p><span m='33170'>and</span> <span
  m='33730'>as</span> <span m='34290'>the</span> <span m='34850'>second</span>
  <span m='35410'>variable,</span> <span m='35970'>the</span> <span
  m='36530'>Hour</span> <span m='37090'>variable.</span> </p><p><span
  m='37650'>This</span> <span m='37982'>table</span> <span
  m='38315'>gives,</span> <span m='38647'>for</span> <span m='38980'>each</span>
  <span m='39312'>day</span> <span m='39645'>of</span> <span
  m='39977'>the</span> <span m='40310'>week</span> <span m='40642'>and</span>
  <span m='40975'>each</span> <span m='41307'>hour,</span> <span
  m='41640'>the</span> <span m='42022'>total</span> <span
  m='42404'>number</span> <span m='42786'>of</span> <span m='43168'>motor</span>
  <span m='43551'>vehicle</span> <span m='43933'>thefts</span> <span
  m='44315'>that</span> <span m='44697'>occurred.</span> </p><p><span
  m='45080'>For</span> <span m='45526'>example,</span> <span m='45972'>on</span>
  <span m='46418'>Friday</span> <span m='46865'>at</span> <span
  m='47311'>4</span> <span m='47757'>AM,</span> <span m='48203'>there</span>
  <span m='48650'>were</span> <span m='49231'>473</span> <span
  m='49812'>motor</span> <span m='50393'>vehicle</span> <span
  m='50975'>thefts,</span> <span m='51556'>whereas</span> <span
  m='52137'>on</span> <span m='52718'>Saturday</span> <span m='53300'>at</span>
  <span m='53995'>midnight,</span> <span m='54690'>there</span> <span
  m='55385'>were</span> <span m='56080'>2,050</span> <span
  m='56775'>motor</span> <span m='57470'>vehicle</span> <span
  m='58165'>thefts.</span> </p><p><span m='58860'>Let's</span> <span
  m='59160'>save</span> <span m='59460'>this</span> <span m='59760'>table</span>
  <span m='60060'>to</span> <span m='60360'>a</span> <span m='60660'>data</span>
  <span m='60960'>frame</span> <span m='61260'>so</span> <span
  m='61560'>that</span> <span m='61860'>we</span> <span m='62160'>can</span>
  <span m='62460'>use</span> <span m='62760'>it</span> <span m='63060'>in</span>
  <span m='63360'>our</span> <span m='63660'>visualizations.</span> </p><p><span
  m='63960'>We'll</span> <span m='64796'>call</span> <span m='65633'>it</span>
  <span m='66470'>DayHourCounts</span> <span m='67306'>and</span> <span
  m='68143'>use</span> <span m='68980'>the</span> <span
  m='69816'>as.data.frame</span> <span m='70653'>function,</span> <span
  m='71490'>run</span> <span m='71912'>on</span> <span m='72335'>our</span>
  <span m='72758'>table,</span> <span m='73180'>where</span> <span
  m='73603'>the</span> <span m='74026'>first</span> <span
  m='74449'>variable</span> <span m='74871'>is</span> <span m='75294'>the</span>
  <span m='75717'>Weekday</span> <span m='76140'>and</span> <span
  m='76467'>the</span> <span m='76794'>second</span> <span
  m='77121'>variable</span> <span m='77448'>is</span> <span m='77775'>the</span>
  <span m='78102'>Hour.</span> </p><p><span m='81289'>Let's</span> <span
  m='81490'>take</span> <span m='81691'>a</span> <span m='81892'>look</span>
  <span m='82093'>at</span> <span m='82294'>the</span> <span
  m='82495'>structure</span> <span m='82696'>of</span> <span
  m='82897'>the</span> <span m='83098'>data</span> <span m='83300'>frame</span>
  <span m='83530'>we</span> <span m='83760'>just</span> <span
  m='83990'>created.</span> </p><p><span m='88220'>We</span> <span
  m='88680'>can</span> <span m='89140'>see</span> <span m='89600'>that</span>
  <span m='90060'>we</span> <span m='90520'>have</span> <span
  m='90980'>168</span> <span m='91440'>observations--</span> <span
  m='91900'>one</span> <span m='92360'>for</span> <span m='92682'>each</span>
  <span m='93004'>day</span> <span m='93326'>of</span> <span
  m='93648'>the</span> <span m='93970'>week</span> <span m='94292'>and</span>
  <span m='94614'>hour</span> <span m='94936'>pair,</span> <span
  m='95259'>and</span> <span m='95816'>three</span> <span
  m='96374'>different</span> <span m='96932'>variables.</span> </p><p><span
  m='97490'>The</span> <span m='97834'>first</span> <span
  m='98178'>variable,</span> <span m='98522'>Var1,</span> <span
  m='98866'>gives</span> <span m='99210'>the</span> <span m='99554'>day</span>
  <span m='99898'>of</span> <span m='100242'>the</span> <span
  m='100586'>week.</span> </p><p><span m='100930'>The</span> <span
  m='101359'>second</span> <span m='101789'>variable,</span> <span
  m='102219'>Var2,</span> <span m='102649'>gives</span> <span
  m='103079'>the</span> <span m='103509'>hour</span> <span m='103939'>of</span>
  <span m='104369'>the</span> <span m='104799'>day.</span> </p><p><span
  m='105229'>And</span> <span m='105713'>the</span> <span
  m='106197'>third</span> <span m='106682'>variable,</span> <span
  m='107166'>Freq</span> <span m='107651'>for</span> <span
  m='108135'>frequency,</span> <span m='108620'>gives</span> <span
  m='109116'>the</span> <span m='109612'>total</span> <span
  m='110108'>crime</span> <span m='110604'>count.</span> </p><p><span
  m='111100'>Let's</span> <span m='111656'>convert</span> <span
  m='112213'>the</span> <span m='112770'>second</span> <span
  m='113326'>variable,</span> <span m='113883'>Var2,</span> <span
  m='114440'>to</span> <span m='114807'>actual</span> <span
  m='115174'>numbers</span> <span m='115541'>and</span> <span
  m='115908'>call</span> <span m='116275'>it</span> <span
  m='116642'>Hour,</span> <span m='117009'>since</span> <span
  m='117227'>this</span> <span m='117446'>is</span> <span m='117665'>the</span>
  <span m='117884'>hour</span> <span m='118102'>of</span> <span
  m='118321'>the</span> <span m='118540'>day,</span> <span m='118759'>and</span>
  <span m='119140'>it</span> <span m='119522'>makes</span> <span
  m='119903'>sense</span> <span m='120285'>that</span> <span
  m='120666'>it's</span> <span m='121048'>numerical.</span> </p><p><span
  m='121430'>So</span> <span m='121898'>we'll</span> <span m='122366'>add</span>
  <span m='122835'>a</span> <span m='123303'>new</span> <span
  m='123772'>variable</span> <span m='124240'>to</span> <span
  m='124709'>our</span> <span m='125177'>data</span> <span
  m='125646'>frame</span> <span m='126114'>called</span> <span
  m='126583'>Hour</span> <span m='127051'>=</span> <span
  m='127520'>as.numeric(as.character(DayHourCounts$Var2)).</span> </p><p><span
  m='141910'>This</span> <span m='142410'>is</span> <span m='142911'>how</span>
  <span m='143412'>we</span> <span m='143913'>convert</span> <span
  m='144414'>a</span> <span m='144915'>factor</span> <span
  m='145415'>variable</span> <span m='145916'>to</span> <span
  m='146417'>a</span> <span m='146918'>numeric</span> <span
  m='147419'>variable.</span> </p><p><span m='147920'>Now</span> <span
  m='148275'>we're</span> <span m='148631'>ready</span> <span
  m='148987'>to</span> <span m='149342'>create</span> <span
  m='149698'>our</span> <span m='150054'>plot.</span> </p><p><span
  m='150410'>We</span> <span m='150791'>just</span> <span m='151172'>need</span>
  <span m='151553'>to</span> <span m='151934'>change</span> <span
  m='152315'>the</span> <span m='152696'>group</span> <span m='153077'>to</span>
  <span m='153458'>Var1,</span> <span m='153840'>which</span> <span
  m='154094'>is</span> <span m='154348'>the</span> <span m='154602'>day</span>
  <span m='154857'>of</span> <span m='155111'>the</span> <span
  m='155365'>week.</span> </p><p><span m='155620'>So</span> <span
  m='156032'>we'll</span> <span m='156445'>use</span> <span
  m='156858'>the</span> <span m='157271'>ggplot</span> <span
  m='157684'>function</span> <span m='158097'>where</span> <span
  m='158510'>our</span> <span m='159045'>data</span> <span
  m='159580'>frame</span> <span m='160115'>is</span> <span
  m='160650'>DayHourCounts,</span> <span m='161185'>and</span> <span
  m='161720'>then</span> <span m='162255'>in</span> <span m='162790'>our</span>
  <span m='163325'>aesthetic,</span> <span m='163860'>we</span> <span
  m='164255'>want</span> <span m='164651'>the</span> <span
  m='165046'>x-axis</span> <span m='165442'>to</span> <span m='165837'>be</span>
  <span m='166233'>Hour</span> <span m='166628'>this</span> <span
  m='167024'>time,</span> <span m='167420'>the</span> <span
  m='167983'>y-axis</span> <span m='168547'>to</span> <span m='169110'>be</span>
  <span m='169674'>Freq,</span> <span m='170238'>and</span> <span
  m='170801'>then</span> <span m='171365'>in</span> <span m='171929'>the</span>
  <span m='172492'>geom_line</span> <span m='173056'>option,</span> <span
  m='173620'>like</span> <span m='173974'>we</span> <span m='174328'>used</span>
  <span m='174682'>in</span> <span m='175037'>the</span> <span
  m='175391'>previous</span> <span m='175745'>video,</span> <span
  m='176100'>we</span> <span m='176612'>want</span> <span m='177125'>the</span>
  <span m='177638'>aesthetic</span> <span m='178150'>to</span> <span
  m='178663'>have</span> <span m='179176'>the</span> <span
  m='179689'>group</span> <span m='180201'>equal</span> <span
  m='180714'>to</span> <span m='181227'>Var1,</span> <span
  m='181740'>which</span> <span m='182032'>is</span> <span m='182325'>the</span>
  <span m='182618'>day</span> <span m='182911'>of</span> <span
  m='183204'>the</span> <span m='183497'>week.</span> </p><p><span
  m='183790'>Go</span> <span m='184026'>ahead</span> <span m='184262'>and</span>
  <span m='184498'>hit</span> <span m='184734'>Enter.</span> </p><p><span
  m='184970'>You</span> <span m='185353'>should</span> <span
  m='185736'>see</span> <span m='186120'>a</span> <span m='186503'>new</span>
  <span m='186886'>plot</span> <span m='187270'>show</span> <span
  m='187653'>up</span> <span m='188036'>in</span> <span m='188420'>the</span>
  <span m='188803'>graphics</span> <span m='189186'>window.</span> </p><p><span
  m='189570'>It</span> <span m='189960'>has</span> <span m='190350'>seven</span>
  <span m='190740'>lines,</span> <span m='191130'>one</span> <span
  m='191520'>for</span> <span m='191910'>each</span> <span m='192300'>day</span>
  <span m='192690'>of</span> <span m='193080'>the</span> <span
  m='193470'>week.</span> </p><p><span m='193860'>While</span> <span
  m='194161'>this</span> <span m='194463'>is</span> <span
  m='194765'>interesting,</span> <span m='195066'>we</span> <span
  m='195368'>can't</span> <span m='195670'>tell</span> <span
  m='195960'>which</span> <span m='196250'>line</span> <span
  m='196540'>is</span> <span m='196830'>which</span> <span
  m='197120'>day,</span> <span m='197410'>so</span> <span
  m='197700'>let's</span> <span m='197990'>change</span> <span
  m='198280'>the</span> <span m='198607'>colors</span> <span
  m='198934'>of</span> <span m='199261'>the</span> <span m='199588'>lines</span>
  <span m='199915'>to</span> <span m='200242'>correspond</span> <span
  m='200570'>to</span> <span m='200876'>the</span> <span m='201183'>days</span>
  <span m='201490'>of</span> <span m='201796'>the</span> <span
  m='202103'>week.</span> </p><p><span m='202410'>To</span> <span
  m='202801'>do</span> <span m='203192'>that,</span> <span
  m='203583'>just</span> <span m='203974'>scroll</span> <span
  m='204365'>up</span> <span m='204756'>in</span> <span m='205147'>your</span>
  <span m='205538'>R</span> <span m='205929'>console,</span> <span
  m='206320'>and</span> <span m='207021'>after</span> <span
  m='207722'>group</span> <span m='208423'>=</span> <span
  m='209124'>Var1,</span> <span m='209825'>add</span> <span
  m='210526'>color</span> <span m='211227'>=</span> <span
  m='211928'>Var1.</span> </p><p><span m='212630'>This</span> <span
  m='212847'>will</span> <span m='213065'>make</span> <span
  m='213282'>the</span> <span m='213500'>colors</span> <span
  m='213717'>of</span> <span m='213935'>the</span> <span m='214152'>lines</span>
  <span m='214370'>correspond</span> <span m='214752'>to</span> <span
  m='215135'>the</span> <span m='215518'>day</span> <span m='215901'>of</span>
  <span m='216284'>the</span> <span m='216667'>week.</span> </p><p><span
  m='217050'>After</span> <span m='217423'>that</span> <span
  m='217797'>parenthesis,</span> <span m='218171'>go</span> <span
  m='218545'>ahead</span> <span m='218918'>and</span> <span
  m='219292'>type</span> <span m='219666'>comma,</span> <span
  m='220040'>and</span> <span m='220396'>then</span> <span
  m='220752'>size</span> <span m='221108'>=</span> <span m='221464'>2.</span>
  </p><p><span m='221820'>We'll</span> <span m='222047'>make</span> <span
  m='222274'>our</span> <span m='222501'>lines</span> <span m='222728'>a</span>
  <span m='222955'>little</span> <span m='223182'>thicker.</span> </p><p><span
  m='226000'>Now</span> <span m='226397'>in</span> <span m='226795'>our</span>
  <span m='227193'>plot,</span> <span m='227590'>each</span> <span
  m='227988'>line</span> <span m='228386'>is</span> <span
  m='228783'>colored</span> <span m='229181'>corresponding</span> <span
  m='229579'>to</span> <span m='229915'>the</span> <span m='230252'>day</span>
  <span m='230589'>of</span> <span m='230926'>the</span> <span
  m='231263'>week.</span> </p><p><span m='231600'>This</span> <span
  m='231898'>helps</span> <span m='232197'>us</span> <span m='232496'>see</span>
  <span m='232795'>that</span> <span m='233094'>on</span> <span
  m='233393'>Saturday</span> <span m='233692'>and</span> <span
  m='233991'>Sunday,</span> <span m='234290'>for</span> <span
  m='234727'>example,</span> <span m='235165'>the</span> <span
  m='235602'>green</span> <span m='236040'>and</span> <span
  m='236477'>the</span> <span m='236915'>teal</span> <span
  m='237352'>lines,</span> <span m='237790'>there's</span> <span
  m='238262'>less</span> <span m='238735'>motor</span> <span
  m='239207'>vehicle</span> <span m='239680'>thefts</span> <span
  m='240152'>in</span> <span m='240625'>the</span> <span
  m='241097'>morning.</span> </p><p><span m='241570'>While</span> <span
  m='241910'>we</span> <span m='242250'>can</span> <span m='242590'>get</span>
  <span m='242930'>some</span> <span m='243270'>information</span> <span
  m='243610'>from</span> <span m='243950'>this</span> <span
  m='244290'>plot,</span> <span m='244630'>it's</span> <span
  m='245003'>still</span> <span m='245376'>quite</span> <span
  m='245750'>hard</span> <span m='246123'>to</span> <span
  m='246496'>interpret.</span> </p><p><span m='246870'>Seven</span> <span
  m='247300'>lines</span> <span m='247730'>is</span> <span m='248160'>a</span>
  <span m='248590'>lot.</span> </p><p><span m='249020'>Let's</span> <span
  m='249535'>instead</span> <span m='250050'>visualize</span> <span
  m='250565'>the</span> <span m='251080'>same</span> <span
  m='251595'>information</span> <span m='252110'>with</span> <span
  m='252625'>a</span> <span m='253140'>heat</span> <span m='253655'>map.</span>
  </p><p><span m='254170'>To</span> <span m='254431'>make</span> <span
  m='254692'>a</span> <span m='254953'>heat</span> <span m='255214'>map,</span>
  <span m='255475'>we'll</span> <span m='255736'>use</span> <span
  m='255997'>our</span> <span m='256258'>data</span> <span m='256519'>in</span>
  <span m='257061'>our</span> <span m='257603'>data</span> <span
  m='258145'>frame</span> <span m='258687'>DayHourCounts.</span> </p><p><span
  m='259230'>First,</span> <span m='259577'>though,</span> <span
  m='259924'>we</span> <span m='260271'>need</span> <span m='260619'>to</span>
  <span m='260966'>fix</span> <span m='261313'>the</span> <span
  m='261660'>order</span> <span m='262008'>of</span> <span m='262355'>the</span>
  <span m='262702'>days</span> <span m='263050'>so</span> <span
  m='263436'>that</span> <span m='263822'>they'll</span> <span
  m='264208'>show</span> <span m='264595'>up</span> <span m='264981'>in</span>
  <span m='265367'>chronological</span> <span m='265753'>order</span> <span
  m='266140'>instead</span> <span m='266560'>of</span> <span
  m='266980'>in</span> <span m='267400'>alphabetical</span> <span
  m='267820'>order.</span> </p><p><span m='268240'>We'll</span> <span
  m='268547'>do</span> <span m='268854'>the</span> <span m='269161'>same</span>
  <span m='269469'>thing</span> <span m='269776'>we</span> <span
  m='270083'>did</span> <span m='270390'>in</span> <span m='270698'>the</span>
  <span m='271005'>previous</span> <span m='271312'>video.</span> </p><p><span
  m='271620'>So</span> <span m='272169'>for</span> <span
  m='272718'>DayHourCounts$Var1,</span> <span m='273267'>which</span> <span
  m='273816'>is</span> <span m='274365'>the</span> <span m='274914'>day</span>
  <span m='275463'>of</span> <span m='276012'>the</span> <span
  m='276561'>week,</span> <span m='277110'>we're</span> <span
  m='277508'>going</span> <span m='277906'>to</span> <span m='278304'>use</span>
  <span m='278702'>the</span> <span m='279100'>factor</span> <span
  m='279498'>function</span> <span m='279896'>where</span> <span
  m='280294'>the</span> <span m='280692'>first</span> <span
  m='281090'>argument</span> <span m='282242'>is</span> <span
  m='283394'>our</span> <span m='284546'>variable,</span> <span
  m='285698'>DayHourCounts$Var1,</span> <span m='286850'>the</span> <span
  m='287472'>second</span> <span m='288095'>argument</span> <span
  m='288718'>is</span> <span m='289341'>ordered</span> <span m='289964'>=</span>
  <span m='290587'>TRUE,</span> <span m='291210'>and</span> <span
  m='291463'>the</span> <span m='291717'>third</span> <span
  m='291970'>argument</span> <span m='292224'>is</span> <span
  m='292478'>the</span> <span m='292731'>order</span> <span m='292985'>we</span>
  <span m='293239'>want</span> <span m='293492'>the</span> <span
  m='293746'>days</span> <span m='294000'>of</span> <span m='294251'>the</span>
  <span m='294502'>week</span> <span m='294754'>to</span> <span
  m='295005'>show</span> <span m='295257'>up</span> <span m='295508'>in.</span>
  </p><p><span m='295760'>So</span> <span m='296372'>we'll</span> <span
  m='296985'>set</span> <span m='297597'>levels,</span> <span
  m='298210'>equals,</span> <span m='298822'>and</span> <span
  m='299435'>then</span> <span m='300047'>c,</span> <span m='300660'>and</span>
  <span m='300927'>then</span> <span m='301195'>list</span> <span
  m='301462'>your</span> <span m='301730'>days</span> <span m='301997'>of</span>
  <span m='302265'>the</span> <span m='302532'>week.</span> </p><p><span
  m='302800'>Let's</span> <span m='303130'>put</span> <span
  m='303461'>the</span> <span m='303792'>weekdays</span> <span
  m='304123'>first</span> <span m='304454'>and</span> <span
  m='304785'>the</span> <span m='305116'>weekends</span> <span
  m='305447'>at</span> <span m='305778'>the</span> <span m='306109'>end.</span>
  </p><p><span m='306440'>So</span> <span m='306978'>we'll</span> <span
  m='307517'>start</span> <span m='308056'>with</span> <span
  m='308595'>Monday,</span> <span m='309134'>and</span> <span
  m='309673'>then</span> <span m='310212'>Tuesday,</span> <span
  m='310751'>then</span> <span m='311290'>Wednesday,</span> <span
  m='312905'>then</span> <span m='314521'>Thursday,</span> <span
  m='316137'>Friday,</span> <span m='317752'>Saturday</span> <span
  m='319368'>and</span> <span m='320984'>Sunday.</span> </p><p><span
  m='326450'>Now</span> <span m='326790'>let's</span> <span
  m='327130'>make</span> <span m='327470'>our</span> <span
  m='327810'>heat</span> <span m='328150'>map.</span> </p><p><span
  m='328490'>We'll</span> <span m='328911'>use</span> <span
  m='329332'>the</span> <span m='329753'>ggplot</span> <span
  m='330174'>function</span> <span m='330595'>like</span> <span
  m='331016'>we</span> <span m='331437'>always</span> <span
  m='331858'>do,</span> <span m='332280'>and</span> <span m='332892'>give</span>
  <span m='333505'>our</span> <span m='334118'>data</span> <span
  m='334731'>frame</span> <span m='335344'>name,</span> <span
  m='335957'>DayHourCounts.</span> </p><p><span m='336570'>Then</span> <span
  m='336996'>in</span> <span m='337422'>our</span> <span
  m='337848'>aesthetic,</span> <span m='338275'>we</span> <span
  m='338701'>want</span> <span m='339127'>the</span> <span
  m='339553'>x-axis</span> <span m='339980'>to</span> <span m='340322'>be</span>
  <span m='340665'>the</span> <span m='341008'>hour</span> <span
  m='341351'>of</span> <span m='341694'>the</span> <span m='342037'>day,</span>
  <span m='342380'>and</span> <span m='342723'>the</span> <span
  m='343066'>y-axis</span> <span m='343409'>to</span> <span m='343754'>be</span>
  <span m='344099'>the</span> <span m='344444'>day</span> <span
  m='344789'>of</span> <span m='345134'>the</span> <span m='345479'>week,</span>
  <span m='345824'>which</span> <span m='346169'>is</span> <span
  m='346514'>Var1.</span> </p><p><span m='346860'>Then</span> <span
  m='347163'>we're</span> <span m='347466'>going</span> <span
  m='347770'>to</span> <span m='348073'>add</span> <span
  m='348376'>geom_tile.</span> </p><p><span m='351230'>This</span> <span
  m='351500'>is</span> <span m='351771'>the</span> <span
  m='352042'>function</span> <span m='352313'>we</span> <span
  m='352584'>use</span> <span m='352855'>to</span> <span m='353126'>make</span>
  <span m='353397'>a</span> <span m='353668'>heat</span> <span
  m='353939'>map.</span> </p><p><span m='354210'>And</span> <span
  m='354563'>then</span> <span m='354917'>in</span> <span m='355271'>the</span>
  <span m='355625'>aesthetic</span> <span m='355978'>for</span> <span
  m='356332'>our</span> <span m='356686'>tiles,</span> <span
  m='357040'>we</span> <span m='357472'>want</span> <span m='357904'>the</span>
  <span m='358336'>fill</span> <span m='358768'>to</span> <span
  m='359201'>be</span> <span m='359633'>equal</span> <span m='360065'>to</span>
  <span m='360497'>Freq.</span> </p><p><span m='360930'>This</span> <span
  m='361269'>will</span> <span m='361608'>define</span> <span
  m='361947'>the</span> <span m='362286'>colors</span> <span
  m='362625'>of</span> <span m='362965'>the</span> <span
  m='363304'>rectangles</span> <span m='363643'>in</span> <span
  m='363982'>our</span> <span m='364321'>heat</span> <span m='364660'>map</span>
  <span m='365000'>to</span> <span m='365641'>correspond</span> <span
  m='366283'>to</span> <span m='366925'>the</span> <span m='367566'>total</span>
  <span m='368208'>crime.</span> </p><p><span m='368850'>You</span> <span
  m='369156'>should</span> <span m='369463'>see</span> <span m='369770'>a</span>
  <span m='370076'>heat</span> <span m='370383'>map</span> <span
  m='370690'>pop</span> <span m='370996'>up</span> <span m='371303'>in</span>
  <span m='371610'>your</span> <span m='371916'>graphics</span> <span
  m='372223'>window.</span> </p><p><span m='372530'>So</span> <span
  m='372858'>how</span> <span m='373186'>do</span> <span m='373515'>we</span>
  <span m='373843'>read</span> <span m='374171'>this?</span> </p><p><span
  m='374500'>For</span> <span m='374826'>each</span> <span
  m='375153'>hour</span> <span m='375480'>and</span> <span
  m='375806'>each</span> <span m='376133'>day</span> <span m='376460'>of</span>
  <span m='376786'>the</span> <span m='377113'>week,</span> <span
  m='377440'>we</span> <span m='377778'>have</span> <span m='378117'>a</span>
  <span m='378456'>rectangle</span> <span m='378795'>in</span> <span
  m='379133'>our</span> <span m='379472'>heat</span> <span
  m='379811'>map.</span> </p><p><span m='380150'>The</span> <span
  m='380562'>color</span> <span m='380975'>of</span> <span
  m='381387'>that</span> <span m='381800'>rectangle</span> <span
  m='382212'>indicates</span> <span m='382625'>the</span> <span
  m='383037'>frequency,</span> <span m='383450'>or</span> <span
  m='383747'>the</span> <span m='384044'>number</span> <span
  m='384341'>of</span> <span m='384638'>crimes</span> <span
  m='384935'>that</span> <span m='385232'>occur</span> <span
  m='385529'>in</span> <span m='385826'>that</span> <span m='386123'>hour</span>
  <span m='386420'>and</span> <span m='386832'>on</span> <span
  m='387245'>that</span> <span m='387657'>day.</span> </p><p><span
  m='388070'>Our</span> <span m='388505'>legend</span> <span
  m='388941'>tells</span> <span m='389377'>us</span> <span
  m='389812'>that</span> <span m='390248'>lighter</span> <span
  m='390684'>colors</span> <span m='391120'>correspond</span> <span
  m='391760'>to</span> <span m='392400'>more</span> <span
  m='393040'>crime.</span> </p><p><span m='393680'>So</span> <span
  m='393965'>we</span> <span m='394251'>can</span> <span m='394536'>see</span>
  <span m='394822'>that</span> <span m='395107'>a</span> <span
  m='395393'>lot</span> <span m='395678'>of</span> <span m='395964'>crime</span>
  <span m='396250'>happens</span> <span m='397031'>around</span> <span
  m='397812'>midnight,</span> <span m='398594'>particularly</span> <span
  m='399375'>on</span> <span m='400157'>the</span> <span
  m='400938'>weekends.</span> </p><p><span m='401720'>We</span> <span
  m='402141'>can</span> <span m='402562'>change</span> <span
  m='402983'>the</span> <span m='403405'>label</span> <span m='403826'>on</span>
  <span m='404247'>the</span> <span m='404668'>legend,</span> <span
  m='405090'>and</span> <span m='405405'>get</span> <span m='405721'>rid</span>
  <span m='406037'>of</span> <span m='406352'>the</span> <span
  m='406668'>y</span> <span m='406984'>label</span> <span m='407300'>to</span>
  <span m='407615'>make</span> <span m='407931'>our</span> <span
  m='408247'>plot</span> <span m='408562'>a</span> <span
  m='408878'>little</span> <span m='409194'>nicer.</span> </p><p><span
  m='409510'>We</span> <span m='409795'>can</span> <span m='410080'>do</span>
  <span m='410365'>this</span> <span m='410650'>by</span> <span
  m='410935'>just</span> <span m='411220'>scrolling</span> <span
  m='411505'>up</span> <span m='411790'>to</span> <span m='412075'>our</span>
  <span m='412360'>previous</span> <span m='412645'>command</span> <span
  m='412930'>in</span> <span m='413396'>our</span> <span m='413862'>R</span>
  <span m='414328'>console</span> <span m='414794'>and</span> <span
  m='415260'>then</span> <span m='415726'>adding</span> <span
  m='416192'>scale_fill_gradient.</span> </p><p><span m='422180'>This</span>
  <span m='422643'>defines</span> <span m='423106'>properties</span> <span
  m='423570'>of</span> <span m='424033'>the</span> <span
  m='424496'>legend,</span> <span m='424960'>and</span> <span
  m='425765'>we</span> <span m='426570'>want</span> <span m='427375'>name</span>
  <span m='428180'>=</span> <span m='428985'>"Total</span> <span
  m='429790'>MV</span> <span m='430595'>Thefts",</span> <span
  m='431400'>for</span> <span m='431706'>total</span> <span
  m='432012'>motor</span> <span m='432318'>vehicle</span> <span
  m='432624'>thefts.</span> </p><p><span m='435930'>Then</span> <span
  m='436200'>let's</span> <span m='436470'>add,</span> <span
  m='436740'>in</span> <span m='437010'>the</span> <span
  m='437280'>theme(axis.title.y</span> <span m='437550'>=</span> <span
  m='437820'>element_blank()).</span> </p><p><span m='448200'>This</span> <span
  m='448362'>is</span> <span m='448524'>what</span> <span m='448686'>you</span>
  <span m='448848'>can</span> <span m='449011'>do</span> <span
  m='449173'>if</span> <span m='449335'>you</span> <span m='449497'>want</span>
  <span m='449660'>to</span> <span m='450042'>get</span> <span
  m='450424'>rid</span> <span m='450806'>of</span> <span m='451188'>one</span>
  <span m='451571'>of</span> <span m='451953'>the</span> <span
  m='452335'>axis</span> <span m='452717'>labels.</span> </p><p><span
  m='453100'>Go</span> <span m='453498'>ahead</span> <span m='453896'>and</span>
  <span m='454294'>hit</span> <span m='454692'>Enter.</span> </p><p><span
  m='455090'>And</span> <span m='455345'>now</span> <span m='455600'>on</span>
  <span m='455855'>our</span> <span m='456110'>heat</span> <span
  m='456365'>map,</span> <span m='456620'>the</span> <span
  m='456875'>legend</span> <span m='457130'>is</span> <span
  m='457664'>titled</span> <span m='458199'>"Total</span> <span
  m='458733'>MV</span> <span m='459268'>Thefts"</span> <span
  m='459802'>and</span> <span m='460337'>the</span> <span
  m='460871'>y-axis</span> <span m='461406'>label</span> <span
  m='461940'>is</span> <span m='462475'>gone.</span> </p><p><span
  m='463010'>We</span> <span m='463420'>can</span> <span m='463830'>also</span>
  <span m='464240'>change</span> <span m='464650'>the</span> <span
  m='465060'>color</span> <span m='465470'>scheme.</span> </p><p><span
  m='465880'>We</span> <span m='466196'>can</span> <span m='466512'>do</span>
  <span m='466829'>this</span> <span m='467145'>by</span> <span
  m='467461'>scrolling</span> <span m='467778'>up</span> <span
  m='468094'>in</span> <span m='468410'>our</span> <span m='468727'>R</span>
  <span m='469043'>console,</span> <span m='469360'>and</span> <span
  m='469881'>going</span> <span m='470403'>to</span> <span
  m='470925'>that</span> <span m='471446'>scale_fill_gradient</span> <span
  m='471968'>function,</span> <span m='472490'>the</span> <span
  m='472880'>one</span> <span m='473270'>that</span> <span
  m='473660'>defines</span> <span m='474050'>properties</span> <span
  m='474440'>of</span> <span m='474830'>our</span> <span
  m='475220'>legend,</span> <span m='475610'>and</span> <span
  m='476364'>after</span> <span m='477118'>name</span> <span m='477872'>=</span>
  <span m='478627'>"Total</span> <span m='479381'>MV</span> <span
  m='480135'>Thefts",</span> <span m='480890'>low</span> <span
  m='482113'>=</span> <span m='483336'>"white",</span> <span
  m='484560'>high</span> <span m='485783'>=</span> <span
  m='487006'>"red".</span> </p><p><span m='488230'>We'll</span> <span
  m='488686'>make</span> <span m='489142'>lower</span> <span
  m='489598'>values</span> <span m='490054'>correspond</span> <span
  m='490510'>to</span> <span m='490928'>white</span> <span
  m='491346'>colors</span> <span m='491765'>and</span> <span
  m='492183'>higher</span> <span m='492601'>values</span> <span
  m='493020'>correspond</span> <span m='493530'>to</span> <span
  m='494040'>red</span> <span m='494550'>colors.</span> </p><p><span
  m='495060'>If</span> <span m='495389'>you</span> <span m='495718'>hit</span>
  <span m='496047'>enter,</span> <span m='496376'>a</span> <span
  m='496705'>new</span> <span m='497034'>plot</span> <span
  m='497363'>should</span> <span m='497692'>show</span> <span
  m='498021'>up</span> <span m='498350'>with</span> <span
  m='499103'>different</span> <span m='499856'>colors.</span> </p><p><span
  m='500610'>This</span> <span m='500951'>is</span> <span m='501292'>a</span>
  <span m='501633'>common</span> <span m='501975'>color</span> <span
  m='502316'>scheme</span> <span m='502657'>in</span> <span
  m='502998'>policing.</span> </p><p><span m='503340'>It</span> <span
  m='503694'>shows</span> <span m='504049'>the</span> <span
  m='504403'>hot</span> <span m='504758'>spots,</span> <span
  m='505113'>or</span> <span m='505467'>the</span> <span
  m='505822'>places</span> <span m='506176'>with</span> <span
  m='506531'>more</span> <span m='506886'>crime,</span> <span
  m='507240'>in</span> <span m='507595'>red.</span> </p><p><span
  m='507950'>So</span> <span m='508270'>now</span> <span m='508591'>the</span>
  <span m='508912'>most</span> <span m='509233'>crime</span> <span
  m='509554'>is</span> <span m='509875'>shown</span> <span m='510196'>by</span>
  <span m='510517'>the</span> <span m='510838'>red</span> <span
  m='511159'>spots</span> <span m='511480'>and</span> <span
  m='511860'>the</span> <span m='512240'>least</span> <span
  m='512620'>crime</span> <span m='513000'>is</span> <span
  m='513380'>shown</span> <span m='513760'>by</span> <span m='514140'>the</span>
  <span m='514520'>lighter</span> <span m='514900'>areas.</span> </p><p><span
  m='515280'>It</span> <span m='515609'>looks</span> <span
  m='515938'>like</span> <span m='516267'>Friday</span> <span
  m='516596'>night</span> <span m='516925'>is</span> <span m='517254'>a</span>
  <span m='517583'>pretty</span> <span m='517912'>common</span> <span
  m='518241'>time</span> <span m='518570'>for</span> <span
  m='518982'>motor</span> <span m='519395'>vehicle</span> <span
  m='519807'>thefts.</span> </p><p><span m='520220'>We</span> <span
  m='520468'>saw</span> <span m='520716'>something</span> <span
  m='520965'>that</span> <span m='521213'>we</span> <span
  m='521461'>didn't</span> <span m='521710'>really</span> <span
  m='521958'>see</span> <span m='522206'>in</span> <span m='522455'>the</span>
  <span m='522703'>heat</span> <span m='522951'>map</span> <span
  m='523200'>before.</span> </p><p><span m='524750'>It's</span> <span
  m='525112'>often</span> <span m='525474'>useful</span> <span
  m='525836'>to</span> <span m='526198'>change</span> <span
  m='526561'>the</span> <span m='526923'>color</span> <span
  m='527285'>scheme</span> <span m='527647'>depending</span> <span
  m='528010'>on</span> <span m='528298'>whether</span> <span
  m='528587'>you</span> <span m='528876'>want</span> <span
  m='529165'>high</span> <span m='529454'>values</span> <span
  m='529743'>or</span> <span m='530032'>low</span> <span
  m='530321'>values</span> <span m='530610'>to</span> <span
  m='531004'>pop</span> <span m='531398'>out,</span> <span m='531792'>and</span>
  <span m='532186'>the</span> <span m='532580'>feeling</span> <span
  m='532975'>you</span> <span m='533369'>want</span> <span m='533763'>the</span>
  <span m='534157'>plot</span> <span m='534551'>to</span> <span
  m='534945'>portray.</span> </p><p><span m='535340'>In</span> <span
  m='535676'>this</span> <span m='536012'>video,</span> <span
  m='536348'>we've</span> <span m='536684'>seen</span> <span
  m='537020'>how</span> <span m='537356'>to</span> <span
  m='537693'>create</span> <span m='538029'>some</span> <span
  m='538365'>new</span> <span m='538701'>types</span> <span m='539037'>of</span>
  <span m='539373'>plots.</span> </p><p><span m='539710'>In</span> <span
  m='540033'>the</span> <span m='540356'>next</span> <span
  m='540679'>video,</span> <span m='541002'>we'll</span> <span
  m='541325'>see</span> <span m='541648'>how</span> <span m='541971'>to</span>
  <span m='542294'>add</span> <span m='542617'>data</span> <span
  m='542940'>to</span> <span m='543783'>geographical</span> <span
  m='544626'>maps.</span> </p>
uid: 4ed777efe89a7ba8862e8441c0bc4ea5
type: course
layout: video
---
