---
about_this_resource_text: ''
embedded_media:
  - id: Video-YouTube-Stream
    media_location: 4MhGi6JSGbA
    parent_uid: 336eebaee5e68533c8be4f7ffd6a66c0
    title: Video-YouTube-Stream
    type: Video
    uid: 049ec08b0568afcffc7166a9ed4ff778
  - id: 3Play-3Play YouTube id-Stream
    media_location: 4MhGi6JSGbA
    parent_uid: 336eebaee5e68533c8be4f7ffd6a66c0
    title: 3Play-3Play YouTube id
    type: 3Play
    uid: 14aaae13b2c5471809bb3bf47b4a7241
  - id: Thumbnail-YouTube-JPG_1
    media_location: 'https://img.youtube.com/vi/4MhGi6JSGbA/default.jpg'
    parent_uid: 336eebaee5e68533c8be4f7ffd6a66c0
    title: Thumbnail-YouTube-JPG
    type: Thumbnail
    uid: 418c76374701a7331868272d71ed8ae2
  - id: 4MhGi6JSGbA.srt
    parent_uid: 336eebaee5e68533c8be4f7ffd6a66c0
    technical_location: >-
      https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/visualization/the-analytical-policeman-visualization-for-law-and-order/video-3-a-line-plot/video-3-a-line-plot-0/4MhGi6JSGbA.srt
    title: 3play caption file
    type: null
    uid: a6f3c24e9c9f4beffa3c6fd868e889ce
  - id: 4MhGi6JSGbA.pdf
    parent_uid: 336eebaee5e68533c8be4f7ffd6a66c0
    technical_location: >-
      https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/visualization/the-analytical-policeman-visualization-for-law-and-order/video-3-a-line-plot/video-3-a-line-plot-0/4MhGi6JSGbA.pdf
    title: 3play pdf file
    type: null
    uid: 0489fb1c91ccfcb9c2c6cb6abf7abb97
  - id: Caption-3Play YouTube id-SRT
    parent_uid: 336eebaee5e68533c8be4f7ffd6a66c0
    title: Caption-3Play YouTube id-SRT-English - US
    type: Caption
    uid: 3a0c12523344e819cd9703c010533acb
  - id: Transcript-3Play YouTube id-PDF
    parent_uid: 336eebaee5e68533c8be4f7ffd6a66c0
    title: Transcript-3Play YouTube id-PDF-English - US
    type: Transcript
    uid: 418a7dc33928223bf8e9b8406ac322ec
  - id: Video-InternetArchive-MP4
    media_location: >-
      https://archive.org/download/MIT15.071S17/MIT15_071S17_Session_7.3.05_300k.mp4
    parent_uid: 336eebaee5e68533c8be4f7ffd6a66c0
    title: Video-Internet Archive-MP4
    type: Video
    uid: d853341aefb51e83034e6a2478274c00
inline_embed_id: 63268512video3alineplot13862092
order_index: 1636
parent_uid: 1bd0d7e9c5ce0101823b0faa796ad873
related_resources_text: ''
short_url: video-3-a-line-plot-0
technical_location: >-
  https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/visualization/the-analytical-policeman-visualization-for-law-and-order/video-3-a-line-plot/video-3-a-line-plot-0
title: 'Video 3: A Line Plot'
transcript: >-
  <p><span m='4490'>In</span> <span m='4840'>this</span> <span
  m='5190'>video,</span> <span m='5540'>we'll</span> <span
  m='5890'>create</span> <span m='6240'>a</span> <span m='6590'>basic</span>
  <span m='6940'>line</span> <span m='7290'>plot</span> <span m='7640'>to</span>
  <span m='8300'>visualize</span> <span m='8960'>crime</span> <span
  m='9620'>trends.</span> </p><p><span m='10280'>Let's</span> <span
  m='10594'>start</span> <span m='10908'>by</span> <span
  m='11222'>reading</span> <span m='11537'>in</span> <span m='11851'>our</span>
  <span m='12165'>data.</span> </p><p><span m='12480'>We'll</span> <span
  m='12952'>call</span> <span m='13425'>it</span> <span m='13897'>mvt</span>
  <span m='14370'>for</span> <span m='14842'>motor</span> <span
  m='15315'>vehicle</span> <span m='15787'>thefts,</span> <span
  m='16260'>and</span> <span m='16829'>use</span> <span m='17398'>the</span>
  <span m='17967'>read.csv</span> <span m='18536'>function</span> <span
  m='19105'>to</span> <span m='19674'>read</span> <span m='20243'>in</span>
  <span m='20812'>the</span> <span m='21381'>file</span> <span
  m='21950'>mvt.csv.</span> </p><p><span m='22520'>We'll</span> <span
  m='23242'>add</span> <span m='23965'>the</span> <span
  m='24688'>argument</span> <span m='25411'>stringsAsFactors</span> <span
  m='26134'>=</span> <span m='26857'>FALSE,</span> <span m='27580'>since</span>
  <span m='27785'>we</span> <span m='27990'>have</span> <span m='28195'>a</span>
  <span m='28400'>text</span> <span m='28605'>field,</span> <span
  m='28810'>and</span> <span m='29015'>we</span> <span m='29220'>want</span>
  <span m='29662'>to</span> <span m='30104'>make</span> <span
  m='30547'>sure</span> <span m='30989'>it's</span> <span m='31431'>read</span>
  <span m='31874'>in</span> <span m='32316'>properly.</span> </p><p><span
  m='32759'>Let's</span> <span m='33013'>take</span> <span m='33267'>a</span>
  <span m='33521'>look</span> <span m='33775'>at</span> <span
  m='34029'>the</span> <span m='34283'>structure</span> <span
  m='34537'>of</span> <span m='34791'>our</span> <span m='35045'>data</span>
  <span m='35300'>using</span> <span m='36025'>the</span> <span
  m='36750'>str</span> <span m='37475'>function.</span> </p><p><span
  m='38200'>We</span> <span m='39038'>have</span> <span m='39876'>over</span>
  <span m='40714'>190,000</span> <span m='41552'>observations</span> <span
  m='42390'>of</span> <span m='42785'>three</span> <span
  m='43181'>different</span> <span m='43576'>variables--</span> <span
  m='43972'>the</span> <span m='44367'>date</span> <span m='44763'>of</span>
  <span m='45158'>the</span> <span m='45554'>crime,</span> <span
  m='45950'>and</span> <span m='46205'>the</span> <span
  m='46460'>location</span> <span m='46715'>of</span> <span m='46970'>the</span>
  <span m='47225'>crime,</span> <span m='47480'>in</span> <span
  m='47735'>terms</span> <span m='47990'>of</span> <span
  m='48677'>latitude</span> <span m='49365'>and</span> <span
  m='50052'>longitude.</span> </p><p><span m='50740'>We</span> <span
  m='51044'>want</span> <span m='51349'>to</span> <span m='51653'>first</span>
  <span m='51958'>convert</span> <span m='52262'>the</span> <span
  m='52567'>Date</span> <span m='52871'>variable</span> <span
  m='53176'>to</span> <span m='53480'>a</span> <span m='53785'>format</span>
  <span m='54090'>that</span> <span m='54384'>R</span> <span
  m='54678'>will</span> <span m='54972'>recognize</span> <span
  m='55267'>so</span> <span m='55561'>that</span> <span m='55855'>we</span>
  <span m='56150'>can</span> <span m='56444'>extract</span> <span
  m='56738'>the</span> <span m='57032'>day</span> <span m='57327'>of</span>
  <span m='57621'>the</span> <span m='57915'>week</span> <span
  m='58210'>and</span> <span m='58535'>the</span> <span m='58860'>hour</span>
  <span m='59185'>of</span> <span m='59510'>the</span> <span
  m='59835'>day.</span> </p><p><span m='60160'>We</span> <span
  m='60761'>can</span> <span m='61362'>do</span> <span m='61963'>this</span>
  <span m='62565'>using</span> <span m='63166'>the</span> <span
  m='63767'>strptime</span> <span m='64368'>function.</span> </p><p><span
  m='64970'>So</span> <span m='65412'>we</span> <span m='65855'>want</span>
  <span m='66297'>to</span> <span m='66740'>replace</span> <span
  m='67182'>our</span> <span m='67625'>variable,</span> <span
  m='68067'>Date,</span> <span m='68510'>with</span> <span m='69065'>the</span>
  <span m='69620'>output</span> <span m='70175'>of</span> <span
  m='70730'>the</span> <span m='71285'>strptime</span> <span
  m='71840'>function,</span> <span m='72395'>which</span> <span
  m='72950'>takes</span> <span m='73387'>as</span> <span m='73824'>a</span>
  <span m='74261'>first</span> <span m='74698'>argument</span> <span
  m='75135'>our</span> <span m='75572'>variable,</span> <span
  m='76009'>Date,</span> <span m='76446'>and</span> <span m='76883'>then</span>
  <span m='77320'>as</span> <span m='77646'>a</span> <span
  m='77972'>second</span> <span m='78299'>argument</span> <span
  m='78625'>the</span> <span m='78951'>format</span> <span m='79278'>that</span>
  <span m='79604'>the</span> <span m='79930'>date</span> <span
  m='80257'>is</span> <span m='80583'>in.</span> </p><p><span
  m='80910'>Here,</span> <span m='81257'>we</span> <span m='81604'>can</span>
  <span m='81951'>see</span> <span m='82299'>in</span> <span
  m='82646'>the</span> <span m='82993'>output</span> <span m='83340'>from</span>
  <span m='83688'>the</span> <span m='84035'>str</span> <span
  m='84382'>function</span> <span m='84730'>that</span> <span
  m='85298'>our</span> <span m='85866'>format</span> <span m='86435'>is</span>
  <span m='87003'>the</span> <span m='87571'>month</span> <span
  m='88140'>slash</span> <span m='88708'>the</span> <span m='89276'>day</span>
  <span m='89845'>slash</span> <span m='90413'>the</span> <span
  m='90981'>year,</span> <span m='91550'>and</span> <span m='92140'>then</span>
  <span m='92730'>the</span> <span m='93320'>hour</span> <span
  m='93910'>colon</span> <span m='94500'>minutes.</span> </p><p><span
  m='95090'>So</span> <span m='98165'>our</span> <span m='101241'>format</span>
  <span m='104316'>equals,</span> <span m='107392'>"%m/%d/%y</span> <span
  m='110467'>%H:%M",</span> <span m='113543'>close</span> <span
  m='116618'>the</span> <span m='119694'>parentheses,</span> <span
  m='122770'>and</span> <span m='123513'>hit</span> <span
  m='124256'>Enter.</span> </p><p><span m='125000'>In</span> <span
  m='125318'>this</span> <span m='125636'>format,</span> <span
  m='125954'>we</span> <span m='126272'>can</span> <span
  m='126590'>extract</span> <span m='126909'>the</span> <span
  m='127227'>hour</span> <span m='127545'>and</span> <span m='127863'>the</span>
  <span m='128181'>day</span> <span m='128500'>of</span> <span
  m='128794'>the</span> <span m='129088'>week</span> <span
  m='129382'>from</span> <span m='129677'>the</span> <span
  m='129971'>Date</span> <span m='130265'>variable,</span> <span
  m='130560'>and</span> <span m='130870'>we</span> <span m='131180'>can</span>
  <span m='131490'>add</span> <span m='131800'>these</span> <span
  m='132110'>as</span> <span m='132420'>new</span> <span
  m='132730'>variables</span> <span m='133040'>to</span> <span
  m='133350'>our</span> <span m='133660'>data</span> <span
  m='133970'>frame.</span> </p><p><span m='134280'>We</span> <span
  m='134721'>can</span> <span m='135162'>do</span> <span m='135603'>this</span>
  <span m='136044'>by</span> <span m='136485'>first</span> <span
  m='136926'>defining</span> <span m='137367'>our</span> <span
  m='137808'>new</span> <span m='138249'>variable,</span> <span
  m='138690'>mvt$Weekday</span> <span m='139150'>=</span> <span
  m='139610'>weekdays(mvt$Date).</span> </p><p><span m='149150'>Then,</span>
  <span m='149597'>to</span> <span m='150045'>add</span> <span
  m='150493'>the</span> <span m='150941'>hour,</span> <span
  m='151388'>which</span> <span m='151836'>we'll</span> <span
  m='152284'>call</span> <span m='152732'>mvt$Hour,</span> <span
  m='153180'>we</span> <span m='153769'>just</span> <span m='154359'>take</span>
  <span m='154949'>the</span> <span m='155539'>hour</span> <span
  m='156129'>variable</span> <span m='156719'>out</span> <span
  m='157309'>of</span> <span m='157899'>Date</span> <span
  m='158489'>variable.</span> </p><p><span m='159079'>This</span> <span
  m='159622'>only</span> <span m='160165'>exists</span> <span
  m='160709'>because</span> <span m='161252'>we</span> <span
  m='161796'>converted</span> <span m='162339'>the</span> <span
  m='162883'>Date</span> <span m='163426'>variable.</span> </p><p><span
  m='163970'>Let's</span> <span m='164172'>take</span> <span m='164374'>a</span>
  <span m='164576'>look</span> <span m='164778'>at</span> <span
  m='164980'>the</span> <span m='165182'>structure</span> <span
  m='165384'>of</span> <span m='165586'>our</span> <span m='165788'>data</span>
  <span m='165990'>again</span> <span m='166364'>to</span> <span
  m='166738'>see</span> <span m='167112'>what</span> <span m='167487'>it</span>
  <span m='167861'>looks</span> <span m='168235'>like.</span> </p><p><span
  m='168610'>Now,</span> <span m='169025'>we</span> <span m='169441'>have</span>
  <span m='169857'>two</span> <span m='170272'>more</span> <span
  m='170688'>variables--</span> <span m='171104'>Weekday,</span> <span
  m='171520'>which</span> <span m='171806'>gives</span> <span
  m='172093'>the</span> <span m='172380'>day</span> <span m='172666'>of</span>
  <span m='172953'>the</span> <span m='173240'>week,</span> <span
  m='173526'>and</span> <span m='173813'>Hour,</span> <span
  m='174100'>which</span> <span m='174481'>gives</span> <span
  m='174862'>the</span> <span m='175244'>hour</span> <span m='175625'>of</span>
  <span m='176007'>the</span> <span m='176388'>day.</span> </p><p><span
  m='176770'>Now,</span> <span m='177100'>we're</span> <span
  m='177430'>ready</span> <span m='177760'>to</span> <span
  m='178090'>make</span> <span m='178420'>some</span> <span
  m='178750'>line</span> <span m='179080'>plots.</span> </p><p><span
  m='179410'>Let's</span> <span m='179694'>start</span> <span
  m='179978'>by</span> <span m='180262'>creating</span> <span
  m='180547'>the</span> <span m='180831'>line</span> <span
  m='181115'>plot</span> <span m='181400'>we</span> <span m='181713'>saw</span>
  <span m='182026'>in</span> <span m='182339'>the</span> <span
  m='182652'>previous</span> <span m='182965'>video</span> <span
  m='183278'>with</span> <span m='183591'>just</span> <span
  m='183904'>one</span> <span m='184217'>line</span> <span m='184530'>and</span>
  <span m='184843'>a</span> <span m='185156'>value</span> <span
  m='185470'>for</span> <span m='185923'>every</span> <span
  m='186376'>day</span> <span m='186830'>of</span> <span m='187283'>the</span>
  <span m='187736'>week.</span> </p><p><span m='188190'>We</span> <span
  m='188474'>want</span> <span m='188758'>to</span> <span m='189042'>plot</span>
  <span m='189326'>as</span> <span m='189610'>that</span> <span
  m='189894'>value</span> <span m='190178'>the</span> <span
  m='190462'>total</span> <span m='190746'>number</span> <span
  m='191030'>of</span> <span m='191392'>crimes</span> <span m='191755'>on</span>
  <span m='192117'>each</span> <span m='192480'>day</span> <span
  m='192842'>of</span> <span m='193205'>the</span> <span m='193567'>week.</span>
  </p><p><span m='193930'>We</span> <span m='194272'>can</span> <span
  m='194615'>get</span> <span m='194958'>this</span> <span
  m='195300'>information</span> <span m='195643'>by</span> <span
  m='195986'>creating</span> <span m='196329'>a</span> <span
  m='196852'>table</span> <span m='197376'>of</span> <span m='197899'>the</span>
  <span m='198423'>Weekday</span> <span m='198946'>variable.</span> </p><p><span
  m='202820'>This</span> <span m='203180'>gives</span> <span
  m='203541'>the</span> <span m='203902'>total</span> <span
  m='204263'>amount</span> <span m='204623'>of</span> <span
  m='204984'>crime</span> <span m='205345'>on</span> <span
  m='205706'>each</span> <span m='206066'>day</span> <span m='206427'>of</span>
  <span m='206788'>the</span> <span m='207149'>week.</span> </p><p><span
  m='207510'>Let's</span> <span m='207837'>save</span> <span
  m='208165'>this</span> <span m='208492'>table</span> <span
  m='208820'>as</span> <span m='209147'>a</span> <span m='209475'>data</span>
  <span m='209802'>frame</span> <span m='210130'>so</span> <span
  m='210423'>that</span> <span m='210717'>we</span> <span m='211010'>can</span>
  <span m='211304'>pass</span> <span m='211598'>it</span> <span
  m='211891'>to</span> <span m='212185'>ggplot</span> <span m='212479'>as</span>
  <span m='212772'>our</span> <span m='213066'>data.</span> </p><p><span
  m='213360'>We'll</span> <span m='214206'>call</span> <span
  m='215053'>it</span> <span m='215900'>WeekdayCounts,</span> <span
  m='216746'>and</span> <span m='217593'>use</span> <span m='218440'>the</span>
  <span m='219286'>as.data.frame</span> <span m='220133'>function</span> <span
  m='220980'>to</span> <span m='221286'>convert</span> <span
  m='221592'>our</span> <span m='221898'>table</span> <span m='222205'>to</span>
  <span m='222511'>a</span> <span m='222817'>data</span> <span
  m='223123'>frame.</span> </p><p><span m='230000'>Let's</span> <span
  m='230265'>see</span> <span m='230530'>what</span> <span
  m='230795'>this</span> <span m='231060'>looks</span> <span
  m='231325'>like</span> <span m='231590'>with</span> <span
  m='231855'>the</span> <span m='232120'>str</span> <span
  m='232385'>function.</span> </p><p><span m='236300'>We</span> <span
  m='236620'>can</span> <span m='236941'>see</span> <span m='237262'>that</span>
  <span m='237583'>our</span> <span m='237904'>data</span> <span
  m='238224'>frame</span> <span m='238545'>has</span> <span
  m='238866'>seven</span> <span m='239187'>observations,</span> <span
  m='239508'>one</span> <span m='239829'>for</span> <span m='240186'>each</span>
  <span m='240543'>day</span> <span m='240900'>of</span> <span
  m='241257'>the</span> <span m='241614'>week,</span> <span
  m='241971'>and</span> <span m='242328'>two</span> <span
  m='242685'>different</span> <span m='243042'>variables.</span> </p><p><span
  m='243400'>The</span> <span m='243956'>first</span> <span
  m='244513'>variable,</span> <span m='245070'>called</span> <span
  m='245626'>Var1,</span> <span m='246183'>gives</span> <span
  m='246740'>the</span> <span m='247051'>name</span> <span m='247363'>of</span>
  <span m='247675'>the</span> <span m='247986'>day</span> <span
  m='248298'>of</span> <span m='248610'>the</span> <span m='248921'>week,</span>
  <span m='249233'>and</span> <span m='249545'>the</span> <span
  m='249856'>second</span> <span m='250168'>variable,</span> <span
  m='250480'>called</span> <span m='250933'>Freq,</span> <span
  m='251386'>for</span> <span m='251839'>frequency,</span> <span
  m='252292'>gives</span> <span m='252745'>the</span> <span
  m='253198'>total</span> <span m='253651'>amount</span> <span
  m='254104'>of</span> <span m='254557'>crime</span> <span m='255010'>on</span>
  <span m='255451'>that</span> <span m='255893'>day</span> <span
  m='256335'>of</span> <span m='256776'>the</span> <span m='257218'>week.</span>
  </p><p><span m='257660'>Now,</span> <span m='257938'>we're</span> <span
  m='258217'>ready</span> <span m='258495'>to</span> <span
  m='258774'>make</span> <span m='259052'>our</span> <span
  m='259331'>plot.</span> </p><p><span m='259610'>First,</span> <span
  m='260072'>we</span> <span m='260535'>need</span> <span m='260997'>to</span>
  <span m='261460'>load</span> <span m='261922'>the</span> <span
  m='262385'>ggplot2</span> <span m='262847'>package.</span> </p><p><span
  m='263310'>So</span> <span m='263635'>we'll</span> <span
  m='263960'>type</span> <span m='264285'>library(ggplot2).</span> </p><p><span
  m='269120'>Now,</span> <span m='269510'>we'll</span> <span
  m='269900'>create</span> <span m='270290'>our</span> <span
  m='270680'>plot</span> <span m='271070'>using</span> <span
  m='271460'>the</span> <span m='271850'>ggplot</span> <span
  m='272240'>function.</span> </p><p><span m='272630'>So</span> <span
  m='272955'>type</span> <span m='273281'>ggplot,</span> <span
  m='273606'>and</span> <span m='273932'>then</span> <span m='274257'>we</span>
  <span m='274583'>need</span> <span m='274908'>to</span> <span
  m='275234'>give</span> <span m='275560'>the</span> <span
  m='276082'>name</span> <span m='276605'>of</span> <span m='277127'>our</span>
  <span m='277650'>data,</span> <span m='278172'>which</span> <span
  m='278695'>is</span> <span m='279217'>WeekdayCounts.</span> </p><p><span
  m='279740'>And</span> <span m='280085'>then</span> <span m='280430'>we</span>
  <span m='280775'>need</span> <span m='281120'>to</span> <span
  m='281465'>define</span> <span m='281810'>our</span> <span
  m='282155'>aesthetic.</span> </p><p><span m='282500'>So</span> <span
  m='283153'>our</span> <span m='283807'>aesthetic</span> <span
  m='284461'>should</span> <span m='285115'>have</span> <span
  m='285768'>x</span> <span m='286422'>=</span> <span m='287076'>Var1,</span>
  <span m='287730'>since</span> <span m='288045'>we</span> <span
  m='288360'>want</span> <span m='288676'>the</span> <span m='288991'>day</span>
  <span m='289307'>of</span> <span m='289622'>the</span> <span
  m='289938'>week</span> <span m='290253'>on</span> <span m='290569'>the</span>
  <span m='290884'>x-axis,</span> <span m='291200'>and</span> <span
  m='291682'>y</span> <span m='292164'>=</span> <span m='292646'>Freq,</span>
  <span m='293128'>since</span> <span m='293611'>we</span> <span
  m='294093'>want</span> <span m='294575'>the</span> <span
  m='295057'>frequency,</span> <span m='295540'>the</span> <span
  m='296014'>number</span> <span m='296488'>of</span> <span
  m='296962'>crimes,</span> <span m='297437'>on</span> <span
  m='297911'>the</span> <span m='298385'>y-axis.</span> </p><p><span
  m='298860'>Now,</span> <span m='299152'>we</span> <span m='299445'>just</span>
  <span m='299738'>need</span> <span m='300031'>to</span> <span
  m='300324'>add</span> <span m='300617'>geom_line(aes(group=1)).</span>
  </p><p><span m='312670'>This</span> <span m='312971'>just</span> <span
  m='313272'>groups</span> <span m='313573'>all</span> <span
  m='313874'>of</span> <span m='314175'>our</span> <span m='314476'>data</span>
  <span m='314777'>into</span> <span m='315078'>one</span> <span
  m='315379'>line,</span> <span m='315680'>since</span> <span
  m='316047'>we</span> <span m='316415'>want</span> <span m='316782'>one</span>
  <span m='317150'>line</span> <span m='317517'>in</span> <span
  m='317885'>our</span> <span m='318252'>plot.</span> </p><p><span
  m='318620'>Go</span> <span m='319076'>ahead</span> <span m='319532'>and</span>
  <span m='319988'>hit</span> <span m='320444'>Enter.</span> </p><p><span
  m='320900'>We</span> <span m='321160'>can</span> <span m='321420'>see</span>
  <span m='321680'>that</span> <span m='321940'>this</span> <span
  m='322200'>is</span> <span m='322460'>very</span> <span
  m='322720'>close</span> <span m='322980'>to</span> <span m='323240'>the</span>
  <span m='323500'>plot</span> <span m='323760'>we</span> <span
  m='324020'>want.</span> </p><p><span m='324280'>We</span> <span
  m='324626'>have</span> <span m='324972'>the</span> <span
  m='325318'>total</span> <span m='325665'>number</span> <span
  m='326011'>of</span> <span m='326357'>crime</span> <span
  m='326703'>plotted</span> <span m='327050'>by</span> <span
  m='327275'>day</span> <span m='327500'>of</span> <span m='327726'>the</span>
  <span m='327951'>week,</span> <span m='328177'>but</span> <span
  m='328402'>our</span> <span m='328628'>days</span> <span m='328853'>of</span>
  <span m='329079'>the</span> <span m='329304'>week</span> <span
  m='329530'>are</span> <span m='329774'>a</span> <span m='330018'>little</span>
  <span m='330262'>bit</span> <span m='330507'>out</span> <span
  m='330751'>of</span> <span m='330995'>order.</span> </p><p><span
  m='331240'>We</span> <span m='331660'>have</span> <span
  m='332080'>Friday</span> <span m='332500'>first,</span> <span
  m='332920'>then</span> <span m='333340'>Monday,</span> <span
  m='333760'>then</span> <span m='334180'>Saturday,</span> <span
  m='334600'>then</span> <span m='335330'>Sunday,</span> <span
  m='336060'>etc.</span> </p><p><span m='336790'>What</span> <span
  m='337029'>ggplot</span> <span m='337268'>did</span> <span
  m='337507'>was</span> <span m='337746'>it</span> <span m='337985'>put</span>
  <span m='338224'>the</span> <span m='338463'>days</span> <span
  m='338702'>of</span> <span m='338941'>the</span> <span m='339180'>week</span>
  <span m='339420'>in</span> <span m='340116'>alphabetical</span> <span
  m='340813'>order.</span> </p><p><span m='341510'>But</span> <span
  m='341782'>we</span> <span m='342055'>actually</span> <span
  m='342327'>want</span> <span m='342600'>the</span> <span
  m='342872'>days</span> <span m='343145'>of</span> <span m='343417'>the</span>
  <span m='343690'>week</span> <span m='343962'>in</span> <span
  m='344235'>chronological</span> <span m='344507'>order</span> <span
  m='344780'>to</span> <span m='345120'>make</span> <span m='345460'>this</span>
  <span m='345800'>plot</span> <span m='346140'>a</span> <span
  m='346480'>bit</span> <span m='346820'>easier</span> <span
  m='347160'>to</span> <span m='347500'>read.</span> </p><p><span
  m='347840'>We</span> <span m='348233'>can</span> <span m='348626'>do</span>
  <span m='349020'>this</span> <span m='349413'>by</span> <span
  m='349806'>making</span> <span m='350200'>the</span> <span
  m='350593'>Var1</span> <span m='350986'>variable</span> <span
  m='351380'>an</span> <span m='351773'>ordered</span> <span
  m='352166'>factor</span> <span m='352560'>variable.</span> </p><p><span
  m='353930'>This</span> <span m='354385'>signals</span> <span
  m='354841'>to</span> <span m='355296'>ggplot</span> <span
  m='355752'>that</span> <span m='356207'>the</span> <span
  m='356663'>ordering</span> <span m='357118'>is</span> <span
  m='357574'>meaningful.</span> </p><p><span m='358030'>We</span> <span
  m='358458'>can</span> <span m='358887'>do</span> <span m='359316'>this</span>
  <span m='359745'>by</span> <span m='360174'>using</span> <span
  m='360603'>the</span> <span m='361032'>factor</span> <span
  m='361461'>function.</span> </p><p><span m='361890'>So</span> <span
  m='362983'>let's</span> <span m='364076'>start</span> <span
  m='365170'>by</span> <span m='366263'>typing</span> <span
  m='367356'>WeekdayCounts$Var1,</span> <span m='368450'>the</span> <span
  m='368786'>variable</span> <span m='369122'>we</span> <span
  m='369458'>want</span> <span m='369794'>to</span> <span
  m='370130'>convert,</span> <span m='370466'>and</span> <span
  m='370802'>set</span> <span m='371138'>that</span> <span
  m='371474'>equal</span> <span m='371810'>to</span> <span m='372184'>the</span>
  <span m='372558'>output</span> <span m='372932'>of</span> <span
  m='373307'>the</span> <span m='373681'>factor</span> <span
  m='374055'>function,</span> <span m='374430'>where</span> <span
  m='375325'>the</span> <span m='376220'>first</span> <span
  m='377115'>argument</span> <span m='378010'>is</span> <span
  m='378905'>our</span> <span m='379800'>variable,</span> <span
  m='380695'>WeekdayCounts$Var1,</span> <span m='381590'>the</span> <span
  m='382070'>second</span> <span m='382550'>argument</span> <span
  m='383030'>is</span> <span m='383510'>ordered</span> <span m='383990'>=</span>
  <span m='384470'>TRUE.</span> </p><p><span m='384950'>This</span> <span
  m='385302'>says</span> <span m='385655'>that</span> <span m='386007'>we</span>
  <span m='386360'>want</span> <span m='386712'>an</span> <span
  m='387065'>ordered</span> <span m='387417'>factor.</span> </p><p><span
  m='387770'>And</span> <span m='388152'>the</span> <span
  m='388535'>third</span> <span m='388918'>argument,</span> <span
  m='389301'>which</span> <span m='389684'>is</span> <span
  m='390067'>levels,</span> <span m='390450'>should</span> <span
  m='390732'>be</span> <span m='391014'>equal</span> <span m='391296'>to</span>
  <span m='391578'>a</span> <span m='391861'>vector</span> <span
  m='392143'>of</span> <span m='392425'>the</span> <span m='392707'>days</span>
  <span m='392990'>of</span> <span m='393195'>the</span> <span
  m='393401'>week</span> <span m='393607'>in</span> <span m='393813'>the</span>
  <span m='394019'>order</span> <span m='394225'>we</span> <span
  m='394430'>want</span> <span m='394636'>them</span> <span m='394842'>to</span>
  <span m='395048'>be</span> <span m='395254'>in.</span> </p><p><span
  m='395460'>We'll</span> <span m='395795'>use</span> <span
  m='396130'>the</span> <span m='396465'>c</span> <span
  m='396800'>function</span> <span m='397135'>to</span> <span
  m='397470'>do</span> <span m='397805'>this.</span> </p><p><span
  m='398140'>So</span> <span m='398477'>first,</span> <span m='398814'>in</span>
  <span m='399151'>quotes,</span> <span m='399488'>type</span> <span
  m='399825'>"Sunday"</span> <span m='400162'>--</span> <span
  m='400500'>we</span> <span m='401451'>want</span> <span
  m='402402'>Sunday</span> <span m='403353'>first--</span> <span
  m='404305'>and</span> <span m='405256'>then</span> <span
  m='406207'>"Monday",</span> <span m='407158'>"Tuesday",</span> <span
  m='408110'>"Wednesday",</span> <span m='410655'>"Thursday",</span> <span
  m='413200'>"Friday",</span> <span m='415745'>"Saturday".</span> </p><p><span
  m='421400'>Go</span> <span m='421853'>ahead</span> <span m='422306'>and</span>
  <span m='422760'>close</span> <span m='423213'>both</span> <span
  m='423666'>parentheses</span> <span m='424120'>and</span> <span
  m='424573'>hit</span> <span m='425026'>Enter.</span> </p><p><span
  m='425480'>Now,</span> <span m='425743'>let's</span> <span
  m='426006'>try</span> <span m='426269'>our</span> <span m='426532'>plot</span>
  <span m='426795'>again</span> <span m='427058'>by</span> <span
  m='427321'>just</span> <span m='427584'>hitting</span> <span
  m='427847'>the</span> <span m='428110'>up</span> <span m='428373'>arrow</span>
  <span m='428636'>twice</span> <span m='428900'>and</span> <span
  m='429600'>hitting</span> <span m='430300'>Enter.</span> </p><p><span
  m='431000'>Now,</span> <span m='431287'>this</span> <span m='431574'>is</span>
  <span m='431861'>the</span> <span m='432148'>plot</span> <span
  m='432435'>we</span> <span m='432722'>want.</span> </p><p><span
  m='433010'>We</span> <span m='433280'>have</span> <span m='433550'>the</span>
  <span m='433820'>total</span> <span m='434090'>crime</span> <span
  m='434360'>by</span> <span m='434630'>day</span> <span m='434900'>of</span>
  <span m='435170'>the</span> <span m='435440'>week</span> <span
  m='435710'>with</span> <span m='436066'>the</span> <span
  m='436423'>days</span> <span m='436780'>of</span> <span m='437136'>the</span>
  <span m='437493'>week</span> <span m='437850'>in</span> <span
  m='438206'>chronological</span> <span m='438563'>order.</span> </p><p><span
  m='438920'>The</span> <span m='439116'>last</span> <span
  m='439312'>thing</span> <span m='439508'>we'll</span> <span
  m='439704'>want</span> <span m='439900'>to</span> <span m='440096'>do</span>
  <span m='440292'>to</span> <span m='440488'>our</span> <span
  m='440684'>plot</span> <span m='440880'>is</span> <span m='441190'>just</span>
  <span m='441500'>change</span> <span m='441810'>the</span> <span
  m='442120'>x-</span> <span m='442430'>and</span> <span
  m='442740'>y-axis</span> <span m='443050'>labels,</span> <span
  m='443360'>since</span> <span m='443660'>they're</span> <span
  m='443960'>not</span> <span m='444260'>very</span> <span
  m='444560'>helpful</span> <span m='444860'>as</span> <span
  m='445160'>they</span> <span m='445460'>are</span> <span
  m='445760'>now.</span> </p><p><span m='446060'>To</span> <span
  m='446325'>do</span> <span m='446590'>this,</span> <span
  m='446855'>back</span> <span m='447120'>in</span> <span m='447385'>the</span>
  <span m='447650'>R</span> <span m='447915'>console,</span> <span
  m='448180'>just</span> <span m='448448'>hit</span> <span m='448716'>the</span>
  <span m='448985'>up</span> <span m='449253'>arrow</span> <span
  m='449521'>to</span> <span m='449790'>get</span> <span m='450058'>back</span>
  <span m='450326'>to</span> <span m='450595'>our</span> <span
  m='450863'>plotting</span> <span m='451131'>line,</span> <span
  m='451400'>and</span> <span m='451625'>then</span> <span
  m='451850'>we'll</span> <span m='452075'>add</span> <span
  m='452300'>xlab("Day</span> <span m='452525'>of</span> <span
  m='452750'>the</span> <span m='452975'>Week").</span> </p><p><span
  m='459630'>And</span> <span m='459911'>then</span> <span
  m='460192'>we'll</span> <span m='460473'>add</span> <span
  m='460755'>ylab("Total</span> <span m='461036'>Motor</span> <span
  m='461317'>Vehicle</span> <span m='461598'>Thefts").</span> </p><p><span
  m='474170'>Now,</span> <span m='474403'>this</span> <span m='474637'>is</span>
  <span m='474871'>the</span> <span m='475105'>plot</span> <span
  m='475338'>we</span> <span m='475572'>were</span> <span
  m='475806'>trying</span> <span m='476040'>to</span> <span
  m='476517'>generate</span> <span m='476994'>with</span> <span
  m='477471'>descriptive</span> <span m='477948'>labels</span> <span
  m='478425'>on</span> <span m='478902'>the</span> <span m='479379'>x-</span>
  <span m='479856'>and</span> <span m='480333'>y-axis.</span> </p><p><span
  m='480810'>In</span> <span m='481099'>the</span> <span m='481388'>next</span>
  <span m='481677'>video,</span> <span m='481966'>we'll</span> <span
  m='482255'>add</span> <span m='482544'>the</span> <span m='482833'>hour</span>
  <span m='483122'>of</span> <span m='483411'>the</span> <span
  m='483700'>day</span> <span m='483990'>to</span> <span m='484408'>our</span>
  <span m='484826'>line</span> <span m='485244'>plot,</span> <span
  m='485662'>and</span> <span m='486080'>then</span> <span
  m='486498'>create</span> <span m='486916'>a</span> <span
  m='487334'>heat</span> <span m='487752'>map.</span> </p>
uid: 336eebaee5e68533c8be4f7ffd6a66c0
type: courses
layout: video
---
