---
about_this_resource_text: ''
embedded_media:
  - id: Video-YouTube-Stream
    media_location: Du0HgYO3E6U
    parent_uid: 7e9bdd5e21043813ff938a472e74c206
    title: Video-YouTube-Stream
    type: Video
    uid: 2f9daeb9185dd79533ce9097ff6e7dcc
  - id: 3Play-3Play YouTube id-Stream
    media_location: Du0HgYO3E6U
    parent_uid: 7e9bdd5e21043813ff938a472e74c206
    title: 3Play-3Play YouTube id
    type: 3Play
    uid: 1834310dffaf7e7e77c51693eb477abb
  - id: Thumbnail-YouTube-JPG
    media_location: 'https://img.youtube.com/vi/Du0HgYO3E6U/default.jpg'
    parent_uid: 7e9bdd5e21043813ff938a472e74c206
    title: Thumbnail-YouTube-JPG
    type: Thumbnail
    uid: 14fa4c40f9d95cf02b65e758e3861c5c
  - id: Du0HgYO3E6U.srt
    parent_uid: 7e9bdd5e21043813ff938a472e74c206
    technical_location: >-
      https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/linear-regression/the-statistical-sommelier-an-introduction-to-linear-regression/video-4-linear-regression-in-r/video-4-linear-regression-in-r-0/Du0HgYO3E6U.srt
    title: 3play caption file
    type: null
    uid: df01a244414967d8ecd8283c50ab3c7f
  - id: Du0HgYO3E6U.pdf
    parent_uid: 7e9bdd5e21043813ff938a472e74c206
    technical_location: >-
      https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/linear-regression/the-statistical-sommelier-an-introduction-to-linear-regression/video-4-linear-regression-in-r/video-4-linear-regression-in-r-0/Du0HgYO3E6U.pdf
    title: 3play pdf file
    type: null
    uid: 779c76aec70f6d2c82b642b6f74eed1a
  - id: Caption-3Play YouTube id-SRT
    parent_uid: 7e9bdd5e21043813ff938a472e74c206
    title: Caption-3Play YouTube id-SRT-English - US
    type: Caption
    uid: e4b11d35cb70097be008bd507f9fdade
  - id: Transcript-3Play YouTube id-PDF
    parent_uid: 7e9bdd5e21043813ff938a472e74c206
    title: Transcript-3Play YouTube id-PDF-English - US
    type: Transcript
    uid: 0d5c11352372e350e6855ac8997210fb
  - id: Video-InternetArchive-MP4
    media_location: >-
      https://archive.org/download/MIT15.071S17/MIT15_071S17_Session_2.2.07_300k.mp4
    parent_uid: 7e9bdd5e21043813ff938a472e74c206
    title: Video-Internet Archive-MP4
    type: Video
    uid: e3683dd7c060911d33b74dd4293655e5
inline_embed_id: 11938729video4linearregressioninr74497800
order_index: 326
parent_uid: 9f456e81561bed0d7c0a516cd7739d20
related_resources_text: ''
short_url: video-4-linear-regression-in-r-0
technical_location: >-
  https://ocw.mit.edu/courses/sloan-school-of-management/15-071-the-analytics-edge-spring-2017/linear-regression/the-statistical-sommelier-an-introduction-to-linear-regression/video-4-linear-regression-in-r/video-4-linear-regression-in-r-0
title: 'Video 4: Linear Regression in R'
transcript: >-
  <p><span m='4500'>In</span> <span m='4880'>our</span> <span m='5261'>R</span>
  <span m='5642'>Console,</span> <span m='6023'>let's</span> <span
  m='6404'>start</span> <span m='6785'>by</span> <span m='7166'>loading</span>
  <span m='7547'>our</span> <span m='7928'>data</span> <span
  m='8309'>set.</span> </p><p><span m='8690'>Don't</span> <span
  m='8964'>forget</span> <span m='9238'>to</span> <span m='9512'>make</span>
  <span m='9786'>sure</span> <span m='10060'>you're</span> <span
  m='10334'>in</span> <span m='10608'>the</span> <span
  m='10882'>directory</span> <span m='11156'>containing</span> <span
  m='11430'>the</span> <span m='12407'>file</span> <span
  m='13385'>wine.csv</span> <span m='14362'>first.</span> </p><p><span
  m='15340'>We'll</span> <span m='15727'>call</span> <span m='16115'>our</span>
  <span m='16502'>data</span> <span m='16890'>frame</span> <span
  m='17277'>wine,</span> <span m='17665'>and</span> <span m='18052'>we'll</span>
  <span m='18440'>use</span> <span m='18926'>the</span> <span
  m='19412'>read.csv</span> <span m='19899'>function</span> <span
  m='20385'>to</span> <span m='20871'>read</span> <span m='21358'>in</span>
  <span m='21844'>the</span> <span m='22330'>data</span> <span
  m='22817'>file</span> <span m='23303'>wine.csv.</span> </p><p><span
  m='27930'>We</span> <span m='28163'>can</span> <span m='28396'>look</span>
  <span m='28630'>at</span> <span m='28863'>the</span> <span
  m='29096'>structure</span> <span m='29330'>of</span> <span
  m='29563'>our</span> <span m='29796'>data</span> <span m='30030'>by</span>
  <span m='30392'>using</span> <span m='30754'>the</span> <span
  m='31116'>str</span> <span m='31478'>function.</span> </p><p><span
  m='35300'>We</span> <span m='35502'>can</span> <span m='35704'>see</span>
  <span m='35906'>that</span> <span m='36108'>we</span> <span
  m='36311'>have</span> <span m='36513'>a</span> <span m='36715'>data</span>
  <span m='36917'>frame</span> <span m='37120'>with</span> <span
  m='37835'>25</span> <span m='38551'>observations</span> <span
  m='39267'>of</span> <span m='39982'>seven</span> <span
  m='40698'>different</span> <span m='41414'>variables.</span> </p><p><span
  m='42130'>Year</span> <span m='42563'>gives</span> <span m='42997'>the</span>
  <span m='43431'>year</span> <span m='43865'>the</span> <span
  m='44298'>wine</span> <span m='44732'>was</span> <span
  m='45166'>produced,</span> <span m='45600'>and</span> <span
  m='45890'>it's</span> <span m='46180'>just</span> <span m='46470'>a</span>
  <span m='46760'>unique</span> <span m='47050'>identifier</span> <span
  m='47340'>for</span> <span m='48070'>each</span> <span
  m='48800'>observation.</span> </p><p><span m='49530'>Price</span> <span
  m='49992'>is</span> <span m='50454'>the</span> <span
  m='50916'>dependent</span> <span m='51378'>variable</span> <span
  m='51841'>we're</span> <span m='52303'>trying</span> <span m='52765'>to</span>
  <span m='53227'>predict.</span> </p><p><span m='53690'>And</span> <span
  m='54752'>WinterRain,</span> <span m='55815'>AGST,</span> <span
  m='56878'>HarvestRain,</span> <span m='57941'>Age,</span> <span
  m='59004'>and</span> <span m='60067'>FrancePop</span> <span
  m='61130'>are</span> <span m='61652'>the</span> <span
  m='62174'>independent</span> <span m='62696'>variables</span> <span
  m='63218'>we'll</span> <span m='63741'>use</span> <span m='64263'>to</span>
  <span m='64785'>predict</span> <span m='65307'>Price.</span> </p><p><span
  m='65830'>We</span> <span m='66164'>can</span> <span m='66499'>also</span>
  <span m='66833'>look</span> <span m='67168'>at</span> <span
  m='67502'>the</span> <span m='67837'>statistical</span> <span
  m='68171'>summary</span> <span m='68506'>of</span> <span m='68840'>our</span>
  <span m='69175'>data</span> <span m='69510'>using</span> <span
  m='69815'>the</span> <span m='70120'>summary</span> <span
  m='70425'>function.</span> </p><p><span m='75160'>This</span> <span
  m='75507'>gives</span> <span m='75854'>us</span> <span
  m='76201'>information</span> <span m='76548'>about</span> <span
  m='76895'>the</span> <span m='77242'>range</span> <span m='77590'>of</span>
  <span m='78136'>values</span> <span m='78683'>for</span> <span
  m='79230'>each</span> <span m='79776'>variable</span> <span
  m='80323'>in</span> <span m='80870'>our</span> <span m='81416'>data</span>
  <span m='81963'>set.</span> </p><p><span m='82510'>Let's</span> <span
  m='83043'>now</span> <span m='83577'>create</span> <span m='84111'>a</span>
  <span m='84645'>one-variable</span> <span m='85178'>linear</span> <span
  m='85712'>regression</span> <span m='86246'>equation</span> <span
  m='86780'>using</span> <span m='87606'>AGST</span> <span m='88432'>to</span>
  <span m='89258'>predict</span> <span m='90084'>Price.</span> </p><p><span
  m='90910'>We'll</span> <span m='91680'>call</span> <span m='92450'>our</span>
  <span m='93220'>regression</span> <span m='93990'>model</span> <span
  m='94760'>model1,</span> <span m='95530'>and</span> <span
  m='95944'>we'll</span> <span m='96359'>use</span> <span m='96773'>the</span>
  <span m='97188'>lm</span> <span m='97602'>function,</span> <span
  m='98017'>which</span> <span m='98431'>stands</span> <span
  m='98846'>for</span> <span m='99260'>linear</span> <span
  m='99675'>model.</span> </p><p><span m='100090'>This</span> <span
  m='100380'>is</span> <span m='100670'>the</span> <span
  m='100960'>function</span> <span m='101250'>we'll</span> <span
  m='101540'>use</span> <span m='101830'>whenever</span> <span
  m='102120'>we</span> <span m='102538'>want</span> <span m='102957'>to</span>
  <span m='103376'>build</span> <span m='103795'>a</span> <span
  m='104213'>linear</span> <span m='104632'>regression</span> <span
  m='105051'>model.</span> </p><p><span m='105470'>Then</span> <span
  m='106168'>inside</span> <span m='106867'>parentheses,</span> <span
  m='107566'>type</span> <span m='108265'>Price,</span> <span
  m='108963'>our</span> <span m='109662'>dependent</span> <span
  m='110361'>variable,</span> <span m='111060'>and</span> <span
  m='111397'>then</span> <span m='111734'>a</span> <span m='112071'>tilde</span>
  <span m='112408'>symbol,</span> <span m='112745'>and</span> <span
  m='113082'>then</span> <span m='113420'>AGST,</span> <span
  m='114015'>the</span> <span m='114611'>independent</span> <span
  m='115206'>variable</span> <span m='115802'>we'll</span> <span
  m='116397'>use</span> <span m='116993'>in</span> <span m='117588'>this</span>
  <span m='118184'>model.</span> </p><p><span m='118780'>Then</span> <span
  m='119304'>after</span> <span m='119829'>a</span> <span
  m='120353'>comma,</span> <span m='120878'>we</span> <span
  m='121402'>need</span> <span m='121927'>to</span> <span m='122451'>add</span>
  <span m='122976'>data</span> <span m='123500'>=</span> <span
  m='124025'>wine</span> <span m='124550'>to</span> <span m='124887'>tell</span>
  <span m='125224'>the</span> <span m='125561'>lm</span> <span
  m='125898'>function</span> <span m='126235'>what</span> <span
  m='126572'>data</span> <span m='126910'>set</span> <span m='127455'>to</span>
  <span m='128001'>use</span> <span m='128546'>to</span> <span
  m='129092'>build</span> <span m='129637'>the</span> <span
  m='130183'>model.</span> </p><p><span m='130729'>We're</span> <span
  m='131051'>saving</span> <span m='131374'>the</span> <span
  m='131696'>output</span> <span m='132019'>of</span> <span
  m='132342'>the</span> <span m='132664'>lm</span> <span
  m='132987'>function</span> <span m='133310'>to</span> <span
  m='133806'>the</span> <span m='134302'>variable</span> <span
  m='134798'>named</span> <span m='135294'>model1.</span> </p><p><span
  m='135790'>So</span> <span m='136092'>when</span> <span m='136394'>we</span>
  <span m='136696'>hit</span> <span m='136998'>Enter,</span> <span
  m='137300'>we</span> <span m='137602'>didn't</span> <span
  m='137904'>see</span> <span m='138206'>any</span> <span
  m='138508'>output</span> <span m='138810'>because</span> <span
  m='139286'>it's</span> <span m='139762'>been</span> <span
  m='140238'>saved</span> <span m='140715'>to</span> <span m='141191'>the</span>
  <span m='141667'>variable</span> <span m='142143'>model1.</span> </p><p><span
  m='142620'>Let's</span> <span m='142912'>take</span> <span m='143204'>a</span>
  <span m='143496'>look</span> <span m='143788'>at</span> <span
  m='144081'>the</span> <span m='144373'>summary</span> <span
  m='144665'>of</span> <span m='144957'>model1.</span> </p><p><span
  m='148790'>The</span> <span m='149071'>first</span> <span
  m='149352'>thing</span> <span m='149633'>we</span> <span m='149915'>see</span>
  <span m='150196'>is</span> <span m='150477'>a</span> <span
  m='150758'>description</span> <span m='151040'>of</span> <span
  m='151410'>the</span> <span m='151780'>function</span> <span
  m='152150'>we</span> <span m='152520'>used</span> <span m='152890'>to</span>
  <span m='153260'>build</span> <span m='153630'>the</span> <span
  m='154000'>model.</span> </p><p><span m='154370'>Then</span> <span
  m='154797'>we</span> <span m='155224'>see</span> <span m='155651'>a</span>
  <span m='156079'>summary</span> <span m='156506'>of</span> <span
  m='156933'>the</span> <span m='157360'>residuals</span> <span
  m='157788'>or</span> <span m='158215'>error</span> <span
  m='158642'>terms.</span> </p><p><span m='159070'>Following</span> <span
  m='159437'>that</span> <span m='159805'>is</span> <span m='160172'>a</span>
  <span m='160540'>description</span> <span m='160907'>of</span> <span
  m='161275'>the</span> <span m='161642'>coefficients</span> <span
  m='162010'>of</span> <span m='162446'>our</span> <span
  m='162883'>model.</span> </p><p><span m='163320'>The</span> <span
  m='163761'>first</span> <span m='164202'>row</span> <span
  m='164643'>corresponds</span> <span m='165085'>to</span> <span
  m='165526'>the</span> <span m='165967'>intercept</span> <span
  m='166408'>term,</span> <span m='166850'>and</span> <span
  m='167277'>the</span> <span m='167705'>second</span> <span
  m='168133'>row</span> <span m='168561'>corresponds</span> <span
  m='168988'>to</span> <span m='169416'>our</span> <span
  m='169844'>independent</span> <span m='170272'>variable,</span> <span
  m='170700'>AGST.</span> </p><p><span m='173250'>The</span> <span
  m='173768'>Estimate</span> <span m='174286'>column</span> <span
  m='174804'>gives</span> <span m='175322'>estimates</span> <span
  m='175840'>of</span> <span m='176172'>the</span> <span m='176505'>beta</span>
  <span m='176838'>values</span> <span m='177171'>for</span> <span
  m='177504'>our</span> <span m='177837'>model.</span> </p><p><span
  m='178170'>So</span> <span m='178555'>here</span> <span m='178941'>beta</span>
  <span m='179327'>0,</span> <span m='179712'>or</span> <span
  m='180098'>the</span> <span m='180484'>coefficient</span> <span
  m='180870'>for</span> <span m='181420'>the</span> <span
  m='181970'>intercept</span> <span m='182520'>term,</span> <span
  m='183070'>is</span> <span m='183620'>estimated</span> <span
  m='184170'>to</span> <span m='184720'>be</span> <span m='185270'>-3.4.</span>
  </p><p><span m='185820'>And</span> <span m='186252'>beta</span> <span
  m='186684'>1,</span> <span m='187116'>or</span> <span m='187548'>the</span>
  <span m='187980'>coefficient</span> <span m='188412'>for</span> <span
  m='188844'>our</span> <span m='189276'>independent</span> <span
  m='189708'>variable,</span> <span m='190140'>is</span> <span
  m='190866'>estimated</span> <span m='191592'>to</span> <span
  m='192318'>be</span> <span m='193044'>0.635.</span> </p><p><span
  m='193770'>There's</span> <span m='194161'>additional</span> <span
  m='194553'>information</span> <span m='194945'>in</span> <span
  m='195336'>this</span> <span m='195728'>table</span> <span
  m='196120'>that</span> <span m='196598'>we'll</span> <span
  m='197077'>discuss</span> <span m='197555'>in</span> <span
  m='198034'>the</span> <span m='198512'>next</span> <span
  m='198991'>video.</span> </p><p><span m='199470'>Towards</span> <span
  m='199786'>the</span> <span m='200103'>bottom</span> <span
  m='200420'>of</span> <span m='200736'>the</span> <span
  m='201053'>output,</span> <span m='201370'>you</span> <span
  m='202195'>can</span> <span m='203020'>see</span> <span
  m='203845'>Multiple</span> <span m='204670'>R-squared,</span> <span
  m='205495'>0.435,</span> <span m='206320'>which</span> <span
  m='206595'>is</span> <span m='206871'>the</span> <span
  m='207147'>R-squared</span> <span m='207422'>value</span> <span
  m='207698'>that</span> <span m='207974'>we</span> <span
  m='208250'>discussed</span> <span m='208768'>in</span> <span
  m='209286'>the</span> <span m='209804'>previous</span> <span
  m='210322'>video.</span> </p><p><span m='210840'>Beside</span> <span
  m='211403'>it</span> <span m='211967'>is</span> <span m='212531'>a</span>
  <span m='213095'>number</span> <span m='213658'>labeled</span> <span
  m='214222'>Adjusted</span> <span m='214786'>R-squared.</span> </p><p><span
  m='215350'>In</span> <span m='215938'>this</span> <span
  m='216526'>case,</span> <span m='217114'>it's</span> <span
  m='217702'>0.41.</span> </p><p><span m='218290'>This</span> <span
  m='218731'>number</span> <span m='219173'>adjusts</span> <span
  m='219615'>the</span> <span m='220056'>R-squared</span> <span
  m='220498'>value</span> <span m='220940'>to</span> <span
  m='221366'>account</span> <span m='221793'>for</span> <span
  m='222220'>the</span> <span m='222646'>number</span> <span
  m='223073'>of</span> <span m='223500'>independent</span> <span
  m='223926'>variables</span> <span m='224353'>used</span> <span
  m='224780'>relative</span> <span m='225242'>to</span> <span
  m='225705'>the</span> <span m='226168'>number</span> <span
  m='226631'>of</span> <span m='227094'>data</span> <span
  m='227557'>points.</span> </p><p><span m='228020'>Multiple</span> <span
  m='228588'>R-squared</span> <span m='229156'>will</span> <span
  m='229724'>always</span> <span m='230292'>increase</span> <span
  m='230860'>if</span> <span m='231273'>you</span> <span m='231686'>add</span>
  <span m='232100'>more</span> <span m='232513'>independent</span> <span
  m='232926'>variables.</span> </p><p><span m='233340'>But</span> <span
  m='233844'>Adjusted</span> <span m='234348'>R-squared</span> <span
  m='234852'>will</span> <span m='235356'>decrease</span> <span
  m='235860'>if</span> <span m='236215'>you</span> <span m='236571'>add</span>
  <span m='236927'>an</span> <span m='237282'>independent</span> <span
  m='237638'>variable</span> <span m='237994'>that</span> <span
  m='238350'>doesn't</span> <span m='238875'>help</span> <span
  m='239400'>the</span> <span m='239925'>model.</span> </p><p><span
  m='240450'>This</span> <span m='240766'>is</span> <span m='241082'>a</span>
  <span m='241399'>good</span> <span m='241715'>way</span> <span
  m='242031'>to</span> <span m='242348'>determine</span> <span
  m='242664'>if</span> <span m='242980'>an</span> <span
  m='243297'>additional</span> <span m='243613'>variable</span> <span
  m='243930'>should</span> <span m='244338'>even</span> <span
  m='244747'>be</span> <span m='245155'>included</span> <span
  m='245564'>in</span> <span m='245972'>the</span> <span
  m='246381'>model.</span> </p><p><span m='246790'>We'll</span> <span
  m='247125'>also</span> <span m='247461'>discuss</span> <span
  m='247797'>other</span> <span m='248132'>ways</span> <span
  m='248468'>to</span> <span m='248804'>select</span> <span
  m='249140'>important</span> <span m='249782'>independent</span> <span
  m='250425'>variables</span> <span m='251068'>in</span> <span
  m='251711'>the</span> <span m='252354'>next</span> <span
  m='252997'>video.</span> </p><p><span m='253640'>Let's</span> <span
  m='253996'>also</span> <span m='254352'>compute</span> <span
  m='254708'>the</span> <span m='255064'>sum</span> <span m='255420'>of</span>
  <span m='255776'>squared</span> <span m='256132'>errors,</span> <span
  m='256488'>or</span> <span m='256844'>SSE,</span> <span m='257200'>for</span>
  <span m='257780'>our</span> <span m='258360'>model.</span> </p><p><span
  m='258940'>Our</span> <span m='259306'>residuals,</span> <span
  m='259672'>or</span> <span m='260038'>error</span> <span
  m='260404'>terms,</span> <span m='260770'>are</span> <span
  m='261136'>stored</span> <span m='261502'>in</span> <span
  m='261868'>the</span> <span m='262234'>vector</span> <span
  m='262600'>model1$residuals.</span> </p><p><span m='269050'>By</span> <span
  m='269416'>hitting</span> <span m='269782'>Enter,</span> <span
  m='270148'>we</span> <span m='270514'>can</span> <span m='270880'>see</span>
  <span m='271246'>the</span> <span m='271613'>values</span> <span
  m='271979'>of</span> <span m='272345'>all</span> <span m='272711'>of</span>
  <span m='273077'>our</span> <span m='273443'>residuals.</span> </p><p><span
  m='273810'>We</span> <span m='274228'>can</span> <span
  m='274646'>compute</span> <span m='275064'>the</span> <span
  m='275482'>Sum</span> <span m='275900'>of</span> <span
  m='276318'>Squared</span> <span m='276736'>Errors,</span> <span
  m='277154'>or</span> <span m='277572'>SSE,</span> <span m='277990'>by</span>
  <span m='278690'>taking</span> <span m='279390'>the</span> <span
  m='280090'>sum(model1$residuals^2).</span> </p><p><span m='287190'>If</span>
  <span m='287541'>we</span> <span m='287892'>type</span> <span
  m='288243'>SSE</span> <span m='288594'>and</span> <span m='288945'>hit</span>
  <span m='289296'>Enter,</span> <span m='289647'>we</span> <span
  m='289998'>can</span> <span m='290350'>see</span> <span m='291051'>that</span>
  <span m='291752'>our</span> <span m='292453'>sum</span> <span
  m='293154'>of</span> <span m='293855'>squared</span> <span
  m='294556'>errors</span> <span m='295257'>is</span> <span
  m='295958'>5.73.</span> </p><p><span m='296659'>Now</span> <span
  m='296996'>let's</span> <span m='297334'>add</span> <span
  m='297671'>another</span> <span m='298009'>variable</span> <span
  m='298347'>to</span> <span m='298684'>our</span> <span
  m='299022'>regression</span> <span m='299360'>model,</span> <span
  m='300465'>HarvestRain.</span> </p><p><span m='301570'>We'll</span> <span
  m='301953'>call</span> <span m='302336'>our</span> <span m='302720'>new</span>
  <span m='303103'>model</span> <span m='303486'>model2.</span> </p><p><span
  m='307060'>And</span> <span m='307491'>again,</span> <span
  m='307922'>we'll</span> <span m='308353'>use</span> <span
  m='308784'>the</span> <span m='309215'>lm</span> <span
  m='309646'>function</span> <span m='310077'>to</span> <span
  m='310508'>predict</span> <span m='310939'>Price,</span> <span
  m='311370'>but</span> <span m='312125'>this</span> <span
  m='312881'>time</span> <span m='313637'>using</span> <span
  m='314392'>AGST</span> <span m='315148'>and</span> <span
  m='315904'>HarvestRain.</span> </p><p><span m='320050'>When</span> <span
  m='320362'>you</span> <span m='320674'>want</span> <span m='320986'>to</span>
  <span m='321298'>use</span> <span m='321610'>more</span> <span
  m='321922'>than</span> <span m='322234'>one</span> <span
  m='322546'>independent</span> <span m='322858'>variable,</span> <span
  m='323170'>you</span> <span m='323466'>can</span> <span m='323763'>just</span>
  <span m='324060'>separate</span> <span m='324357'>them</span> <span
  m='324654'>with</span> <span m='324951'>a</span> <span m='325248'>plus</span>
  <span m='325545'>sign</span> <span m='325842'>like</span> <span
  m='326139'>we</span> <span m='326436'>did</span> <span m='326733'>here.</span>
  </p><p><span m='327030'>Then</span> <span m='327323'>we</span> <span
  m='327616'>again</span> <span m='327909'>need</span> <span
  m='328202'>to</span> <span m='328495'>indicate</span> <span
  m='328788'>that</span> <span m='329081'>the</span> <span
  m='329374'>data</span> <span m='329667'>that</span> <span
  m='329960'>should</span> <span m='330350'>be</span> <span
  m='330740'>used</span> <span m='331130'>is</span> <span
  m='331520'>wine.</span> </p><p><span m='335170'>Let's</span> <span
  m='335444'>take</span> <span m='335719'>a</span> <span m='335993'>look</span>
  <span m='336268'>at</span> <span m='336542'>the</span> <span
  m='336817'>summary</span> <span m='337091'>of</span> <span
  m='337366'>our</span> <span m='337640'>new</span> <span
  m='337915'>model</span> <span m='338190'>using</span> <span
  m='338487'>the</span> <span m='338785'>summary</span> <span
  m='339082'>function.</span> </p><p><span m='343900'>We</span> <span
  m='344158'>have</span> <span m='344417'>a</span> <span m='344676'>third</span>
  <span m='344935'>row</span> <span m='345194'>in</span> <span
  m='345453'>our</span> <span m='345712'>Coefficients</span> <span
  m='345971'>table</span> <span m='346230'>now</span> <span
  m='346907'>corresponding</span> <span m='347585'>to</span> <span
  m='348262'>HarvestRain.</span> </p><p><span m='348940'>The</span> <span
  m='349401'>coefficient</span> <span m='349862'>estimate</span> <span
  m='350323'>for</span> <span m='350785'>this</span> <span m='351246'>new</span>
  <span m='351707'>independent</span> <span m='352168'>variable</span> <span
  m='352630'>is</span> <span m='353940'>negative</span> <span
  m='355250'>0.00457.</span> </p><p><span m='356560'>And</span> <span
  m='356821'>if</span> <span m='357083'>you</span> <span m='357344'>look</span>
  <span m='357606'>at</span> <span m='357867'>the</span> <span
  m='358129'>R-squared</span> <span m='358390'>near</span> <span
  m='358652'>the</span> <span m='358913'>bottom</span> <span
  m='359175'>of</span> <span m='359436'>the</span> <span
  m='359698'>output,</span> <span m='359960'>you</span> <span
  m='360303'>can</span> <span m='360646'>see</span> <span m='360989'>that</span>
  <span m='361332'>this</span> <span m='361675'>variable</span> <span
  m='362018'>really</span> <span m='362361'>helped</span> <span
  m='362704'>our</span> <span m='363047'>model.</span> </p><p><span
  m='363390'>Our</span> <span m='363916'>Multiple</span> <span
  m='364443'>R-squared</span> <span m='364970'>and</span> <span
  m='365496'>Adjusted</span> <span m='366023'>R-squared</span> <span
  m='366550'>both</span> <span m='367128'>increased</span> <span
  m='367707'>significantly</span> <span m='368286'>compared</span> <span
  m='368865'>to</span> <span m='369443'>the</span> <span
  m='370022'>previous</span> <span m='370601'>model.</span> </p><p><span
  m='371180'>This</span> <span m='371506'>indicates</span> <span
  m='371832'>that</span> <span m='372158'>this</span> <span
  m='372485'>new</span> <span m='372811'>model</span> <span m='373137'>is</span>
  <span m='373463'>probably</span> <span m='373790'>better</span> <span
  m='374406'>than</span> <span m='375022'>the</span> <span
  m='375638'>previous</span> <span m='376254'>model.</span> </p><p><span
  m='376870'>Let's</span> <span m='377141'>now</span> <span
  m='377412'>also</span> <span m='377683'>compute</span> <span
  m='377954'>the</span> <span m='378225'>sum</span> <span m='378496'>of</span>
  <span m='378767'>squared</span> <span m='379038'>errors</span> <span
  m='379310'>for</span> <span m='379782'>this</span> <span m='380255'>new</span>
  <span m='380727'>model.</span> </p><p><span m='381200'>So</span> <span
  m='381761'>SSE</span> <span m='382323'>equals,</span> <span
  m='382885'>and</span> <span m='383446'>then</span> <span
  m='384008'>sum(model2$residuals^2).</span> </p><p><span m='391960'>If</span>
  <span m='392255'>we</span> <span m='392550'>type</span> <span
  m='392846'>SSE,</span> <span m='393141'>we</span> <span m='393436'>can</span>
  <span m='393732'>see</span> <span m='394027'>that</span> <span
  m='394323'>the</span> <span m='394618'>sum</span> <span m='394913'>of</span>
  <span m='395209'>squared</span> <span m='395504'>errors</span> <span
  m='395800'>for</span> <span m='396328'>model2</span> <span
  m='396857'>is</span> <span m='397385'>2.97,</span> <span
  m='397914'>which</span> <span m='398442'>is</span> <span
  m='398971'>much</span> <span m='399500'>better</span> <span
  m='399916'>than</span> <span m='400333'>the</span> <span m='400750'>sum</span>
  <span m='401166'>of</span> <span m='401583'>squared</span> <span
  m='402000'>errors</span> <span m='402416'>for</span> <span
  m='402833'>model1.</span> </p><p><span m='403250'>Now</span> <span
  m='403575'>let's</span> <span m='403900'>build</span> <span
  m='404225'>a</span> <span m='404550'>third</span> <span
  m='404875'>model,</span> <span m='405200'>this</span> <span
  m='405525'>time</span> <span m='405850'>with</span> <span
  m='406293'>all</span> <span m='406736'>of</span> <span m='407180'>our</span>
  <span m='407623'>independent</span> <span m='408066'>variables.</span>
  </p><p><span m='408510'>We'll</span> <span m='409148'>call</span> <span
  m='409786'>this</span> <span m='410424'>one</span> <span
  m='411062'>model3.</span> </p><p><span m='411700'>And</span> <span
  m='412584'>again,</span> <span m='413469'>use</span> <span
  m='414353'>the</span> <span m='415238'>lm</span> <span
  m='416122'>function</span> <span m='417007'>to</span> <span
  m='417891'>predict</span> <span m='418776'>Price</span> <span
  m='419660'>using</span> <span m='420545'>AGST</span> <span
  m='421430'>and</span> <span m='423646'>HarvestRain</span> <span
  m='425862'>and</span> <span m='428078'>WinterRain</span> <span
  m='430295'>and</span> <span m='432511'>Age</span> <span m='434727'>and</span>
  <span m='436943'>FrancePop.</span> </p><p><span m='442170'>Again,</span> <span
  m='442451'>we</span> <span m='442732'>need</span> <span m='443013'>to</span>
  <span m='443295'>tell</span> <span m='443576'>the</span> <span
  m='443857'>lm</span> <span m='444138'>function</span> <span
  m='444420'>to</span> <span m='445073'>use</span> <span m='445726'>the</span>
  <span m='446380'>data</span> <span m='447033'>set</span> <span
  m='447686'>wine.</span> </p><p><span m='448340'>Let's</span> <span
  m='448556'>take</span> <span m='448773'>a</span> <span m='448990'>look</span>
  <span m='449206'>at</span> <span m='449423'>the</span> <span
  m='449640'>summary</span> <span m='449856'>of</span> <span
  m='450073'>model3.</span> </p><p><span m='455810'>Now</span> <span
  m='456250'>the</span> <span m='456690'>Coefficients</span> <span
  m='457130'>table</span> <span m='457570'>has</span> <span
  m='458010'>six</span> <span m='458450'>rows,</span> <span
  m='458890'>one</span> <span m='459330'>for</span> <span m='459770'>the</span>
  <span m='460210'>intercept</span> <span m='460650'>and</span> <span
  m='461039'>one</span> <span m='461429'>for</span> <span m='461819'>each</span>
  <span m='462209'>of</span> <span m='462599'>the</span> <span
  m='462989'>five</span> <span m='463379'>independent</span> <span
  m='463769'>variables.</span> </p><p><span m='464159'>If</span> <span
  m='464395'>we</span> <span m='464632'>look</span> <span m='464869'>at</span>
  <span m='465106'>the</span> <span m='465342'>bottom</span> <span
  m='465579'>of</span> <span m='465816'>the</span> <span
  m='466053'>output,</span> <span m='466290'>we</span> <span
  m='466636'>can</span> <span m='466982'>again</span> <span
  m='467328'>see</span> <span m='467674'>that</span> <span m='468020'>the</span>
  <span m='468366'>Multiple</span> <span m='468712'>R-squared</span> <span
  m='469058'>and</span> <span m='469404'>Adjusted</span> <span
  m='469750'>R-squared</span> <span m='470640'>have</span> <span
  m='471530'>both</span> <span m='472420'>increased.</span> </p><p><span
  m='473310'>Let's</span> <span m='473578'>now</span> <span
  m='473847'>compute</span> <span m='474116'>the</span> <span
  m='474385'>sum</span> <span m='474653'>of</span> <span
  m='474922'>squared</span> <span m='475191'>errors</span> <span
  m='475460'>for</span> <span m='475880'>this</span> <span m='476300'>new</span>
  <span m='476720'>model.</span> </p><p><span m='477140'>SSE</span> <span
  m='477915'>equals</span> <span m='478690'>the</span> <span
  m='479465'>sum(model3$residuals^2).</span> </p><p><span m='489350'>And</span>
  <span m='489641'>if</span> <span m='489932'>we</span> <span
  m='490224'>type</span> <span m='490515'>SSE,</span> <span m='490807'>we</span>
  <span m='491098'>can</span> <span m='491390'>see</span> <span
  m='491681'>that</span> <span m='491972'>the</span> <span m='492264'>sum</span>
  <span m='492555'>of</span> <span m='492847'>squared</span> <span
  m='493138'>errors</span> <span m='493430'>for</span> <span
  m='494105'>model3</span> <span m='494780'>is</span> <span
  m='495455'>1.7,</span> <span m='496130'>even</span> <span
  m='496805'>better</span> <span m='497480'>than</span> <span
  m='498155'>before.</span> </p><p><span m='498830'>In</span> <span
  m='499198'>the</span> <span m='499566'>next</span> <span
  m='499935'>video,</span> <span m='500303'>we'll</span> <span
  m='500671'>determine</span> <span m='501040'>if</span> <span
  m='501383'>we</span> <span m='501726'>should</span> <span
  m='502070'>keep</span> <span m='502413'>all</span> <span m='502756'>of</span>
  <span m='503100'>these</span> <span m='503443'>variables</span> <span
  m='503786'>in</span> <span m='504130'>our</span> <span m='504473'>final</span>
  <span m='504816'>model.</span> </p>
uid: 7e9bdd5e21043813ff938a472e74c206
type: courses
layout: video
---
