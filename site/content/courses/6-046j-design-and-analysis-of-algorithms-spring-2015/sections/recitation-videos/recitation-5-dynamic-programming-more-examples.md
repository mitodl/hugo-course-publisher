---
about_this_resource_text: >-
  <p><strong>Description:</strong> In this recitation, problems related to
  dynamic programming are discussed.</p> <p><strong>Instructors:</strong> Ling
  Ren</p>
embedded_media:
  - id: Video-YouTube-Stream
    media_location: krZI60lKPek
    parent_uid: 4e74a89850cd47fb0b8f7b7e0fc2bf6b
    title: Video-YouTube-Stream
    type: Video
    uid: 6e09608ec9be4c0fccc980328ab935ca
  - id: Thumbnail-YouTube-JPG
    media_location: 'https://img.youtube.com/vi/krZI60lKPek/default.jpg'
    parent_uid: 4e74a89850cd47fb0b8f7b7e0fc2bf6b
    title: Thumbnail-YouTube-JPG
    type: Thumbnail
    uid: 2cb9b0b995b94d43bfa95c714f7fbfa2
  - id: 3Play-3PlayYouTubeid-Stream
    media_location: krZI60lKPek
    parent_uid: 4e74a89850cd47fb0b8f7b7e0fc2bf6b
    title: 3Play-3Play YouTube id
    type: 3Play
    uid: 0b8b47d2f688eb83b349b3a89a28d034
  - id: krZI60lKPek.srt
    parent_uid: 4e74a89850cd47fb0b8f7b7e0fc2bf6b
    technical_location: >-
      https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-046j-design-and-analysis-of-algorithms-spring-2015/recitation-videos/recitation-5-dynamic-programming-more-examples/krZI60lKPek.srt
    title: 3play caption file
    type: null
    uid: b0b792e499fe215a899009c33f43ffa2
  - id: krZI60lKPek.pdf
    parent_uid: 4e74a89850cd47fb0b8f7b7e0fc2bf6b
    technical_location: >-
      https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-046j-design-and-analysis-of-algorithms-spring-2015/recitation-videos/recitation-5-dynamic-programming-more-examples/krZI60lKPek.pdf
    title: 3play pdf file
    type: null
    uid: 25a49f173dc534bf565b38506f6a479d
  - id: Caption-3Play YouTube id-SRT
    parent_uid: 4e74a89850cd47fb0b8f7b7e0fc2bf6b
    title: Caption-3Play YouTube id-SRT-English - US
    type: Caption
    uid: 432194f56cc5821506f508c17024e3e3
  - id: Transcript-3Play YouTube id-PDF
    parent_uid: 4e74a89850cd47fb0b8f7b7e0fc2bf6b
    title: Transcript-3Play YouTube id-PDF-English - US
    type: Transcript
    uid: 464d6eaf944b90f8a2c92b7f1d149b75
  - id: Video-iTunesU-MP4
    media_location: 'https://itunes.apple.com/us/itunes-u/id1081126744'
    parent_uid: 4e74a89850cd47fb0b8f7b7e0fc2bf6b
    title: Video-iTunes U-MP4
    type: Video
    uid: 698880175c2402d9d41390cccbe4cd87
  - id: Video-InternetArchive-MP4
    media_location: 'https://archive.org/download/MIT6.046JS15/MIT6_046JS15_rec05_300k.mp4'
    parent_uid: 4e74a89850cd47fb0b8f7b7e0fc2bf6b
    title: Video-Internet Archive-MP4
    type: Video
    uid: b9cabec49aec4fb2b331d5106ff428d2
inline_embed_id: '59880094recitation5:dynamicprogramming:moreexamples96939535'
order_index: 390
parent_uid: 8c671299aae36eba669ca13490c21dec
related_resources_text: ''
short_url: recitation-5-dynamic-programming-more-examples
technical_location: >-
  https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-046j-design-and-analysis-of-algorithms-spring-2015/recitation-videos/recitation-5-dynamic-programming-more-examples
title: 'Recitation 5: Dynamic Programming: More Examples'
transcript: >-
  <p><span m="100">The</span> <span m="190">following</span> <span
  m="630">content</span> <span m="1230">is</span> <span m="1340">provided</span>
  <span m="1780">under</span> <span m="2060">a</span> <span
  m="2100">Creative</span> <span m="2500">Commons</span> <span
  m="2910">license.</span> <span m="4019">Your</span> <span
  m="4210">support</span> <span m="4710">will</span> <span m="4870">help</span>
  <span m="5110">MIT</span> <span m="5570">OpenCourseWare</span> <span
  m="6360">continue</span> <span m="6870">to</span> <span m="6950">offer</span>
  <span m="7360">high</span> <span m="7600">quality</span> <span
  m="8119">educational</span> <span m="8750">resources</span> <span
  m="9370">for</span> <span m="9520">free.</span> <span m="10740">To</span>
  <span m="10840">make</span> <span m="10930">a</span> <span
  m="10990">donation,</span> <span m="11680">or</span> <span
  m="11940">view</span> <span m="12380">additional</span> <span
  m="12800">materials</span> <span m="13330">from</span> <span
  m="13490">100</span> <span m="13920">of</span> <span m="14030">MIT</span>
  <span m="14460">courses,</span> <span m="15590">visit</span> <span
  m="15800">MIT</span> <span m="16210">OpenCourseWare</span> <span
  m="17250">at</span> <span m="17430">ocw.mit.edu.</span></p><p><span
  m="21150">LING REN: Everyone,</span> <span m="22110">today</span> <span
  m="22820">we're</span> <span m="23090">going</span> <span m="23310">to</span>
  <span m="23530">look</span> <span m="23740">at</span> <span
  m="24030">dynamic</span> <span m="24440">programming</span> <span
  m="24870">again.</span> <span m="29000">So</span> <span m="29450">I</span>
  <span m="29520">think</span> <span m="29750">I</span> <span
  m="29830">have</span> <span m="30540">mentioned</span> <span
  m="30950">several</span> <span m="31220">times,</span> <span m="31700">so
  you</span> <span m="31820">should</span> <span m="32180">all</span> <span
  m="32640">know</span> <span m="32880">it</span> <span m="33000">by</span>
  <span m="33110">heart</span> <span m="33380">now,</span> <span
  m="34590">the</span> <span m="35110">dynamic</span> <span
  m="35550">programming,</span> <span m="36170">its</span> <span
  m="36440">main</span> <span m="36660">idea</span> <span m="37420">is</span>
  <span m="39970">divide</span> <span m="40420">the</span> <span
  m="40500">problem</span> <span m="41280">into</span> <span
  m="41350">subproblems</span> <span m="42676">and</span> <span
  m="46080">reuse</span> <span m="46460">the</span> <span
  m="46560">results</span> <span m="47370">of</span> <span m="47530">the</span>
  <span m="47680">problems</span> <span m="48080">you</span> <span
  m="48230">already</span> <span m="48520">solved.</span> <span
  m="49680">Right?</span> <span m="50600">And,</span> <span m="51000">of</span>
  <span m="51130">course,</span> <span m="51440">in</span> <span
  m="51900">6.046</span> <span m="52750">we</span> <span m="52940">always</span>
  <span m="53270">care</span> <span m="53440">about</span> <span m="53660">the
  runtime.</span> <span m="57440">So</span> <span m="58010">those</span> <span
  m="58360">are</span> <span m="58470">the</span> <span m="58580">two</span>
  <span m="61675">big</span> <span m="62100">themes</span> <span
  m="62630">for</span> <span m="63030">dynamic</span> <span
  m="63400">programming.</span></p><p><span m="66430">Now,</span> <span
  m="67100">let's</span> <span m="67300">start</span> <span
  m="67610">with</span> <span m="67860">a</span> <span m="68240">warm-up</span>
  <span m="68470">example.</span> <span m="69070">It's</span> <span
  m="69400">extremely</span> <span m="69820">simple.</span> <span
  m="72120">Let's</span> <span m="72320">say</span> <span m="72630">we</span>
  <span m="72960">have</span> <span m="73170">a</span> <span
  m="73590">grid,</span> <span m="76870">and</span> <span
  m="77560">there's</span> <span m="77870">a</span> <span m="78480">robot</span>
  <span m="79990">from,</span> <span m="80510">say,</span> <span
  m="80730">coordinate</span> <span m="81180">1,1</span> <span
  m="82330">and</span> <span m="82720">it</span> <span m="82850">wants</span>
  <span m="83100">to</span> <span m="83240">go</span> <span m="83450">to</span>
  <span m="83780">coordinate</span> <span m="84980">m,n.</span> <span
  m="86980">So</span> <span m="87150">at</span> <span m="87320">every</span>
  <span m="87570">step,</span> <span m="88050">it</span> <span
  m="88250">can</span> <span m="88390">only</span> <span m="89390">either</span>
  <span m="90010">take</span> <span m="90230">a</span> <span
  m="90290">step</span> <span m="90600">up,</span> <span m="90980">or</span>
  <span m="91210">take</span> <span m="91390">a</span> <span
  m="91440">step</span> <span m="91950">on</span> <span m="92070">the</span>
  <span m="92130">right.</span> <span m="93160">So</span> <span
  m="93440">how</span> <span m="93590">many</span> <span
  m="94230">distinct</span> <span m="95070">paths</span> <span
  m="95580">are</span> <span m="95950">there</span> <span m="96370">for</span>
  <span m="96740">the</span> <span m="96910">robot</span> <span
  m="97240">to</span> <span m="97340">take?</span> <span m="106330">Is</span>
  <span m="106510">the</span> <span m="106560">question</span> <span
  m="106870">clear?</span> <span m="109290">So</span> <span m="109480">we</span>
  <span m="109580">have</span> <span m="109760">a</span> <span
  m="109830">robot</span> <span m="110240">at</span> <span
  m="111260">coordinate</span> <span m="111680">1,1.</span> <span
  m="111870">It</span> <span m="112220">wants</span> <span m="112520">to</span>
  <span m="112640">go</span> <span m="112810">to</span> <span
  m="113010">coordinate</span> <span m="113400">m,n.</span> <span
  m="114420">And</span> <span m="115080">every</span> <span
  m="115380">step,</span> <span m="115810">it</span> <span m="115970">can</span>
  <span m="116130">either</span> <span m="116490">take</span> <span
  m="116740">a</span> <span m="116820">step</span> <span m="117130">up,</span>
  <span m="117410">or</span> <span m="118050">take</span> <span
  m="118240">a</span> <span m="118290">step</span> <span m="118530">to</span>
  <span m="118630">the</span> <span m="118740">right.</span> <span
  m="119420">How</span> <span m="119500">many</span> <span
  m="119760">distinct</span> <span m="120170">path</span> <span
  m="120450">are</span> <span m="120800">there</span> <span
  m="122070">that</span> <span m="122340">can</span> <span
  m="122520">take</span> <span m="122740">the</span> <span
  m="122870">robot</span> <span m="123370">to</span> <span m="123570">its</span>
  <span m="123770">destination?</span> <span m="130180">Any</span> <span
  m="130479">ideas</span> <span m="130699">how</span> <span m="130810">to</span>
  <span m="130889">solve</span> <span m="131090">that?</span> <span
  m="139624">Go ahead.</span></p><p><span m="140123">AUDIENCE: So,</span> <span
  m="140622">we define</span> <span m="141121">subproblems</span> <span
  m="141620">as</span> <span m="142618">the</span> <span
  m="143117">number</span> <span m="143616">of</span> <span
  m="144115">distinct</span> <span m="144614">paths</span> <span
  m="145113">from</span> <span m="145612">some</span> <span
  m="146610">point</span> <span m="147109">x,y</span> <span m="147710">to</span>
  <span m="148680">m,n.</span> <span m="150640">Then</span> <span m="151130">the
  number</span> <span m="151620">of distinct</span> <span m="152110">paths
  from</span> <span m="152600">some point</span> <span m="153090">is</span>
  <span m="154560">the number</span> <span m="155050">of paths</span> <span
  m="155540">if you</span> <span m="156030">go up</span> <span m="156520">if
  you're</span> <span m="157010">allowed</span> <span m="157500">to go
  up,</span> <span m="157990">plus</span> <span m="158480">the number</span>
  <span m="158970">of paths</span> <span m="159950">if you</span> <span
  m="160440">go right</span> <span m="160930">if you're</span> <span
  m="161420">allowed to</span> <span m="161910">go right.</span> <span
  m="162400">So</span> <span m="162890">if you were on</span> <span
  m="163380">the edge,</span> <span m="163870">[INAUDIBLE].</span></p><p><span
  m="164880">LING REN: Yup,</span> <span m="165260">yup.</span> <span
  m="167520">Does</span> <span m="167670">everyone</span> <span
  m="167820">got</span> <span m="168010">that?</span> <span
  m="168520">So,</span> <span m="168790">it's</span> <span
  m="168910">very</span> <span m="169080">simple.</span> <span
  m="169540">So,</span> <span m="170150">I</span> <span m="170260">know</span>
  <span m="170970">I</span> <span m="170990">have</span> <span
  m="171120">only</span> <span m="171310">one</span> <span m="171580">way</span>
  <span m="171940">to</span> <span m="172250">get</span> <span
  m="172440">to</span> <span m="172620">these</span> <span
  m="172840">points.</span> <span m="173590">I</span> <span
  m="173690">need</span> <span m="173850">to</span> <span m="174050">go</span>
  <span m="174250">all</span> <span m="174400">the</span> <span
  m="174490">way</span> <span m="174610">right.</span> <span
  m="175230">And</span> <span m="175410">only</span> <span m="175610">one</span>
  <span m="175830">way</span> <span m="176050">to</span> <span
  m="176200">get</span> <span m="176360">to</span> <span m="176710">these</span>
  <span m="176930">points.</span> <span m="177340">I</span> <span
  m="177440">need</span> <span m="177590">to</span> <span m="177660">go</span>
  <span m="177910">all the</span> <span m="178000">way</span> <span
  m="178760">up.</span> <span m="179560">So</span> <span m="179770">for
  all</span> <span m="180340">the</span> <span m="180440">intermediate</span>
  <span m="180720">nodes,</span> <span m="181720">my</span> <span
  m="182200">number</span> <span m="182520">of</span> <span
  m="182630">choices</span> <span m="184470">are--</span> <span m="185500">is
  this</span> <span m="185580">board moving?</span> <span m="187220">Are</span>
  <span m="187330">just</span> <span m="187610">the</span> <span
  m="187830">number</span> <span m="188120">of</span> <span
  m="189010">distinct</span> <span m="189450">paths</span> <span
  m="190360">I</span> <span m="190470">can</span> <span m="191290">come</span>
  <span m="191560">from</span> <span m="191790">my</span> <span
  m="191910">left,</span> <span m="192490">plus</span> <span
  m="192900">the</span> <span m="192990">number</span> <span
  m="193340">of</span> <span m="193490">distinct</span> <span
  m="193730">path</span> <span m="193990">I</span> <span m="194060">can</span>
  <span m="194230">come</span> <span m="194420">from</span> <span
  m="194610">bottom.</span> <span m="196060">And</span> <span
  m="196210">then</span> <span m="196500">I</span> <span m="196770">can go
  in.</span> <span m="197200">For every</span> <span m="197570">node,</span>
  <span m="197960">I'll</span> <span m="198230">just</span> <span
  m="198480">take</span> <span m="198640">a</span> <span m="198710">sum</span>
  <span m="199060">between</span> <span m="199840">the</span> <span
  m="199940">two</span> <span m="200080">numbers</span> <span
  m="200500">on</span> <span m="200580">my</span> <span m="200680">left</span>
  <span m="200940">and</span> <span m="201110">on</span> <span
  m="201220">my</span> <span m="201330">bottom.</span> <span
  m="203200">And</span> <span m="203600">go</span> <span m="203730">from</span>
  <span m="203890">there.</span> <span m="205900">OK.</span> <span
  m="206495">Is</span> <span m="206790">that</span> <span m="206980">clear?
  </span></p><p><span m="211960">So</span> <span m="212240">this</span> <span
  m="212670">example</span> <span m="213210">is</span> <span
  m="213380">very</span> <span m="213610">simple,</span> <span
  m="214010">but</span> <span m="214200">it</span> <span m="214320">does</span>
  <span m="215570">illustrate</span> <span m="216210">the</span> <span
  m="216420">point</span> <span m="216710">of</span> <span
  m="216990">dynamic</span> <span m="217400">programming</span> <span
  m="217830">very well.</span> <span m="221130">You</span> <span
  m="221290">solve</span> <span m="221560">subproblems,</span> <span
  m="222480">and</span> <span m="222670">ask</span> <span m="222990">how</span>
  <span m="223160">many</span> <span m="224260">distinct</span> <span
  m="224660">path</span> <span m="224950">can</span> <span m="225130">I</span>
  <span m="225210">come</span> <span m="225430">here,</span> <span
  m="227270">and</span> <span m="227490">you</span> <span
  m="227660">reuse</span> <span m="227980">the</span> <span
  m="228100">results</span> <span m="228610">of,</span> <span
  m="228840">for</span> <span m="229270">example,</span> <span
  m="229930">this</span> <span m="230070">subproblem</span> <span
  m="231270">because</span> <span m="232210">you</span> <span
  m="232370">are</span> <span m="232430">using</span> <span m="232770">it</span>
  <span m="232910">to</span> <span m="233290">compute</span> <span
  m="234200">this</span> <span m="234430">number</span> <span
  m="235180">and</span> <span m="235840">that</span> <span
  m="236060">number.</span> <span m="238400">If</span> <span
  m="238500">you</span> <span m="238620">don't</span> <span m="238880">do</span>
  <span m="239010">that,</span> <span m="239420">if</span> <span
  m="239550">you</span> <span m="241220">don't</span> <span
  m="241480">memorize</span> <span m="242000">and</span> <span
  m="242140">reuse</span> <span m="242440">the</span> <span
  m="242520">results,</span> <span m="243220">then</span> <span
  m="243960">your</span> <span m="243990">runtime</span> <span
  m="244330">will</span> <span m="244460">be</span> <span
  m="244920">worse.</span> <span m="246230">So</span> <span
  m="246320">what's</span> <span m="246480">the</span> <span
  m="246550">runtime</span> <span m="246870">of</span> <span
  m="247000">that?</span> <span m="256510">Speak</span> <span
  m="256750">up.</span></p><p><span m="257601">AUDIENCE:
  [INAUDIBLE]</span></p><p><span m="259810">LING REN: It's</span> <span
  m="260070">just</span> <span m="262170">m</span> <span m="262350">times</span>
  <span m="262600">n.</span> <span m="264220">Why?</span> <span
  m="264600">Because</span> <span m="265010">I</span> <span
  m="265150">have</span> <span m="265620">this</span> <span
  m="265870">many</span> <span m="266190">unique</span> <span
  m="266660">sub</span> <span m="266890">problems.</span> <span
  m="268320">One</span> <span m="268560">at</span> <span m="268740">each</span>
  <span m="268960">point,</span> <span m="271520">and</span> <span
  m="271760">I'm</span> <span m="271860">just</span> <span
  m="272060">taking</span> <span m="272370">the</span> <span
  m="272440">sum</span> <span m="272700">of</span> <span m="272810">two</span>
  <span m="272950">numbers</span> <span m="273580">at</span> <span
  m="273730">each</span> <span m="273890">subproblem,</span> <span
  m="274440">so</span> <span m="274720">it</span> <span m="274850">takes</span>
  <span m="275120">me</span> <span m="275410">constant</span> <span
  m="275790">time</span> <span m="277470">to</span> <span
  m="277630">merge</span> <span m="277980">the</span> <span
  m="278060">results</span> <span m="278390">from</span> <span m="278470">my
  subproblems</span> <span m="279180">to</span> <span m="279310">get</span>
  <span m="279480">my</span> <span m="279600">problem.</span> <span
  m="281490">So</span> <span m="283360">to</span> <span
  m="283520">analyze</span> <span m="283870">runtime,</span> <span
  m="284370">usually</span> <span m="285050">we</span> <span
  m="285220">ask</span> <span m="285990">the</span> <span
  m="286060">question</span> <span m="286550">how</span> <span
  m="286630">many</span> <span m="288130">unique</span> <span
  m="288630">problems</span> <span m="288915">do</span> <span
  m="289200">I</span> <span m="289400">have.</span> <span m="291010">And</span>
  <span m="291570">what's</span> <span m="291800">the</span> <span
  m="291870">amount</span> <span m="292110">of</span> <span
  m="292210">merge</span> <span m="292470">work</span> <span m="292760">I
  have</span> <span m="293152">to do</span> <span m="294330">at</span> <span
  m="294500">every</span> <span m="294680">step?</span> <span
  m="304590">That's</span> <span m="304760">the</span> <span
  m="304900">toy</span> <span m="305080">example.</span></p><p><span
  m="309685">Now</span> <span m="310150">let's</span> <span
  m="310370">look</span> <span m="310540">at</span> <span m="310690">some</span>
  <span m="311250">more</span> <span m="312030">complicated</span> <span
  m="312560">examples.</span> <span m="315660">Our</span> <span
  m="315720">first</span> <span m="315990">one</span> <span m="316360">is</span>
  <span m="316530">called</span> <span m="316910">make</span> <span
  m="317150">change.</span> <span m="321150">As</span> <span
  m="321370">its</span> <span m="321530">name</span> <span
  m="321740">suggests,</span> <span m="322760">we</span> <span
  m="322830">have</span> <span m="323290">a</span> <span m="323410">bunch</span>
  <span m="323640">of</span> <span m="323770">coins.</span> <span
  m="324320">s1,</span> <span m="325700">s2,</span> <span m="328040">all</span>
  <span m="328140">the</span> <span m="328240">way</span> <span
  m="328380">to,</span> <span m="328720">say,</span> <span m="329710">sm.</span>
  <span m="331710">So</span> <span m="332000">each</span> <span
  m="332150">coin</span> <span m="332480">has</span> <span
  m="332680">some</span> <span m="332850">values,</span> <span
  m="333450">like</span> <span m="333620">1 cent,</span> <span m="334120">5
  cent,</span> <span m="334320">10 cent.</span> <span m="335600">We're</span>
  <span m="335860">going</span> <span m="336090">to</span> <span
  m="336350">make</span> <span m="336920">change</span> <span
  m="337500">for</span> <span m="337730">a</span> <span m="337770">total</span>
  <span m="338070">of</span> <span m="338420">n cents,</span> <span
  m="339500">and</span> <span m="339750">ask</span> <span
  m="341640">what's</span> <span m="341880">the</span> <span
  m="342040">minimum</span> <span m="342550">number</span> <span
  m="342850">of</span> <span m="342960">coins</span> <span m="343550">do</span>
  <span m="343680">I</span> <span m="343780">need</span> <span
  m="344560">to</span> <span m="346090">make</span> <span
  m="346400">change</span> <span m="346660">of</span> <span m="347120">n</span>
  <span m="347290">cents.</span></p><p><span m="353440">So</span> <span
  m="354290">to</span> <span m="354480">guarantee</span> <span
  m="354960">that</span> <span m="355150">we</span> <span m="355270">can</span>
  <span m="355390">always</span> <span m="355710">make</span> <span
  m="355910">this</span> <span m="356090">change,</span> <span
  m="356540">we'll</span> <span m="356710">set</span> <span m="357010">s1</span>
  <span m="357610">to</span> <span m="357940">be</span> <span
  m="358040">1.</span> <span m="358990">Otherwise,</span> <span
  m="359520">there's</span> <span m="359740">a</span> <span
  m="359790">chance</span> <span m="360130">that</span> <span
  m="360850">the</span> <span m="360960">problem</span> <span
  m="361290">is</span> <span m="361470">unsolvable.</span> <span
  m="368700">Any</span> <span m="369050">ideas?</span> <span
  m="369860">Is</span> <span m="370080">the</span> <span
  m="370710">problem</span> <span m="371010">clear?</span></p><p><span
  m="371466">STUDENT: How do</span> <span m="371922">you find</span> <span
  m="372378">s1 again?</span> <span m="372834">Or</span> <span
  m="373290">si?</span></p><p><span m="375800">LING REN: What,</span> <span
  m="376110">these</span> <span m="376780">numbers?</span> <span m="377970">They
  are</span> <span m="378280">inputs.</span> <span m="379690">They are</span>
  <span m="379910">also</span> <span m="380110">inputs.</span> <span
  m="380870">It</span> <span m="380970">could</span> <span m="381220">be</span>
  <span m="381550">1 cent,</span> <span m="382050">5 cent,</span> <span
  m="382460">10 cent.</span> <span m="382840">Or</span> <span m="383040">3
  cent,</span> <span m="383530">7 cent.</span> <span m="385790">Though</span>
  <span m="385970">the</span> <span m="386070">smallest</span> <span
  m="386450">one</span> <span m="386620">is</span> <span
  m="386720">always</span> <span m="386970">1.</span> <span
  m="390446">OK.</span> <span m="390920">I</span> <span m="391010">need</span>
  <span m="391180">to</span> <span m="391280">find</span> <span
  m="391550">a</span> <span m="391600">combination</span> <span
  m="392060">of</span> <span m="392220">them.</span> <span m="392410">For</span>
  <span m="392720">each</span> <span m="392920">of</span> <span
  m="393030">them,</span> <span m="393390">I</span> <span m="393540">have</span>
  <span m="394270">an</span> <span m="394320">infinite</span> <span
  m="394680">number</span> <span m="394910">of</span> <span
  m="395000">them.</span> <span m="395330">So</span> <span m="395360">I</span>
  <span m="395450">can</span> <span m="395630">find</span> <span
  m="396720">two</span> <span m="396870">of</span> <span
  m="397000">these,</span> <span m="397290">three</span> <span
  m="397500">of</span> <span m="397580">that,</span> <span
  m="397980">five</span> <span m="398250">of</span> <span
  m="398360">that,</span> <span m="399230">such</span> <span
  m="399460">that</span> <span m="399680">their</span> <span
  m="399830">sum</span> <span m="400300">is</span> <span m="400500">n.</span>
  <span m="402960">Is</span> <span m="403090">the</span> <span
  m="403170">problem</span> <span m="403450">clear?</span> <span
  m="408600">OK.</span> <span m="408865">Any</span> <span
  m="409130">ideas</span> <span m="409350">how</span> <span m="409470">to</span>
  <span m="409570">solve that?</span></p><p><span m="415995">So</span> <span
  m="416470">let's</span> <span m="416660">just</span> <span
  m="416950">use</span> <span m="417780">a</span> <span m="417850">naive</span>
  <span m="418410">or</span> <span m="418700">very</span> <span
  m="418950">straightforward</span> <span m="419630">algorithms.</span> <span
  m="432440">Go ahead.</span></p><p><span m="433190">AUDIENCE: You</span> <span
  m="433685">pick one,</span> <span m="434180">and then</span> <span
  m="435170">you do</span> <span m="435665">mc</span> <span m="436160">of n
  minus</span> <span m="437645">that.</span></p><p><span m="438640">LING REN:
  OK,</span> <span m="439030">great.</span> <span m="440000">Yeah,</span> <span
  m="440260">let's</span> <span m="440470">just</span> <span
  m="440680">do</span> <span m="441960">exhaustive</span> <span
  m="442370">search.</span> <span m="443460">Let's</span> <span
  m="443640">pick</span> <span m="445340">si.</span> <span m="447220">If</span>
  <span m="447370">I</span> <span m="447450">pick</span> <span
  m="447690">this</span> <span m="447880">coin,</span> <span
  m="448860">then</span> <span m="449080">my subproblem</span> <span
  m="449770">becomes</span> <span m="450350">n</span> <span
  m="450640">minus</span> <span m="453540">the</span> <span
  m="453690">coin</span> <span m="453920">value.</span> <span
  m="455220">And</span> <span m="455390">of</span> <span
  m="455500">course,</span> <span m="455750">I</span> <span
  m="455870">use</span> <span m="456120">the</span> <span m="456210">one</span>
  <span m="456370">coin.</span> <span m="457950">That's</span> <span
  m="458390">si.</span> <span m="459230">So</span> <span m="459440">then</span>
  <span m="459680">I</span> <span m="459740">think</span> <span
  m="459940">the</span> <span m="460000">min</span> <span m="463370">of</span>
  <span m="463530">this</span> <span m="464490">for</span> <span
  m="466030">all</span> <span m="466180">the i's,</span> <span
  m="469430">and</span> <span m="469650">that's</span> <span
  m="470180">the</span> <span m="470450">solution.</span> <span
  m="474300">So</span> <span m="474430">far</span> <span m="474600">so</span>
  <span m="474650">good?</span></p><p><span m="482655">OK.</span> <span
  m="483140">So</span> <span m="483430">what's</span> <span
  m="483640">the</span> <span m="483760">runtime</span> <span
  m="484340">of</span> <span m="484530">this</span> <span
  m="485010">algorithm?</span> <span m="495968">If</span> <span
  m="496450">it's</span> <span m="496670">not</span> <span
  m="497510">immediately</span> <span m="497980">obvious,</span> <span
  m="499370">then</span> <span m="499520">we</span> <span m="499640">ask</span>
  <span m="500060">how</span> <span m="500190">many</span> <span
  m="500510">unique</span> <span m="500880">subproblems</span> <span
  m="501780">are</span> <span m="501850">there.</span> <span
  m="503620">And</span> <span m="505540">how</span> <span m="505650">much</span>
  <span m="505850">work</span> <span m="506060">do</span> <span
  m="506150">I</span> <span m="506230">have</span> <span m="506390">to</span>
  <span m="506500">do</span> <span m="507160">to</span> <span
  m="507330">go</span> <span m="507520">from</span> <span m="507760">my</span>
  <span m="507820">subproblems</span> <span m="508470">to</span> <span
  m="508900">my</span> <span m="509400">original</span> <span
  m="509760">problem?</span> <span m="513460">So</span> <span
  m="513600">how</span> <span m="513700">many</span> <span
  m="513880">subproblem</span> <span m="514320">are</span> <span
  m="514620">there?</span> <span m="529670">So</span> <span m="529880">to</span>
  <span m="529990">be</span> <span m="530090">clear,</span> <span
  m="531060">for</span> <span m="531230">this</span> <span
  m="531420">one,</span> <span m="531670">we</span> <span m="531780">have</span>
  <span m="531960">to</span> <span m="532180">call</span> <span
  m="533300">this</span> <span m="533520">recursive</span> <span
  m="533940">call</span> <span m="534120">again.</span> <span
  m="534730">n</span> <span m="535230">minus</span> <span m="535570">si,</span>
  <span m="536040">probably</span> <span m="536340">minus</span> <span
  m="536650">sj.</span> <span m="545300">And</span> <span m="545520">if</span>
  <span m="545600">you</span> <span m="545730">cannot</span> <span
  m="546140">compute</span> <span m="546560">how</span> <span
  m="546690">many</span> <span m="546920">subproblems</span> <span
  m="547440">are</span> <span m="547550">there,</span> <span
  m="547860">let's</span> <span m="548060">just</span> <span
  m="548240">give</span> <span m="548400">a</span> <span
  m="548460">bound.</span> <span m="563360">Any</span> <span
  m="563490">ideas?</span> <span m="571320">John,</span> <span
  m="571610">right?</span></p><p><span m="572826">AUDIENCE: I'm</span> <span
  m="573314">not</span> <span m="573802">sure</span> <span
  m="574290">there</span> <span m="574778">would be</span> <span m="575266">more
  than</span> <span m="575754">n</span> <span m="576242">subproblems,</span>
  <span m="578194">because</span> <span m="578682">the</span> <span
  m="579170">smallest</span> <span m="579658">amount</span> <span m="580634">we
  can</span> <span m="581122">subtract</span> <span m="581610">from</span> <span
  m="582586">the</span> <span m="583074">original</span> <span
  m="583562">is</span> <span m="584050">1.</span> <span m="584538">And if</span>
  <span m="585026">we keep</span> <span m="585514">subtracting</span> <span
  m="586002">1 repeatedly,</span> <span m="586978">we get</span> <span
  m="587466">n subproblems,</span> <span m="587954">and that</span> <span
  m="588442">will cover</span> <span m="588930">everything--</span> <span
  m="589418">that</span> <span m="589906">subproblem.</span></p><p><span
  m="590882">LING REN: Yeah,</span> <span m="591370">correct.</span> <span
  m="591870">So</span> <span m="593410">this</span> <span m="593690">may</span>
  <span m="593820">not</span> <span m="594050">be</span> <span
  m="594180">a</span> <span m="594220">very</span> <span m="594420">tight</span>
  <span m="594690">bound,</span> <span m="595260">but</span> <span
  m="596150">we</span> <span m="596380">know</span> <span m="596870">we</span>
  <span m="597010">cannot</span> <span m="597310">have</span> <span
  m="597500">more</span> <span m="597720">than</span> <span
  m="598070">this</span> <span m="598270">number</span> <span
  m="598570">of</span> <span m="598780">subproblems.</span> <span
  m="599830">Actually,</span> <span m="600590">I</span> <span m="600670">don't
  need</span> <span m="600950">to</span> <span m="601070">even</span> <span
  m="601360">put</span> <span m="601550">the</span> <span
  m="601640">order</span> <span m="601990">there.</span> <span
  m="604300">I</span> <span m="604420">know</span> <span m="604650">we</span>
  <span m="604810">can</span> <span m="605160">have</span> <span
  m="605440">no</span> <span m="605670">more</span> <span m="605850">than</span>
  <span m="606110">n</span> <span m="606240">subproblems.</span> <span
  m="607410">They're</span> <span m="607560">just</span> <span
  m="607790">make</span> <span m="607980">change</span> <span
  m="608220">of</span> <span m="608350">n,</span> <span m="608840">n
  minus</span> <span m="609080">1,</span> <span m="609310">n minus</span> <span
  m="609650">2,</span> <span m="610330">all</span> <span m="610460">the</span>
  <span m="610530">way</span> <span m="610650">to</span> <span
  m="612250">make</span> <span m="612470">change</span> <span
  m="612660">1.</span> <span m="614010">And</span> <span
  m="614460">actually,</span> <span m="615040">this</span> <span
  m="615300">bound</span> <span m="615570">is</span> <span
  m="615710">pretty</span> <span m="615960">tight,</span> <span
  m="616590">because</span> <span m="617670">we</span> <span
  m="617800">set</span> <span m="618420">our</span> <span
  m="618700">smallest</span> <span m="618830">coin</span> <span
  m="618880">is</span> <span m="619230">1,</span> <span m="619590">so</span>
  <span m="619960">we</span> <span m="620100">won't</span> <span
  m="620630">make</span> <span m="620880">a</span> <span
  m="620940">recursive</span> <span m="621410">call</span> <span
  m="621700">to</span> <span m="621940">make</span> <span
  m="622160">change</span> <span m="622420">n</span> <span
  m="622520">minus</span> <span m="622820">1,</span> <span
  m="623580">right?</span> <span m="625320">If</span> <span m="625600">I</span>
  <span m="625790">pick</span> <span m="626650">the</span> <span m="626870">1
  coin,</span> <span m="627776">the</span> <span m="628230">1 cent</span> <span
  m="628460">coin</span> <span m="628730">first.</span> <span
  m="629470">And</span> <span m="629530">then</span> <span
  m="629730">from</span> <span m="629910">there,</span> <span
  m="630400">I</span> <span m="630500">will</span> <span m="631100">pick</span>
  <span m="631310">a</span> <span m="631540">1</span> <span
  m="631760">cent</span> <span m="631880">coin</span> <span
  m="632100">again.</span> <span m="632710">That</span> <span
  m="632960">gives</span> <span m="633150">me</span> <span m="633310">a</span>
  <span m="633370">subproblem</span> <span m="633880">with</span> <span
  m="634140">n</span> <span m="634260">minus</span> <span m="634570">2.</span>
  <span m="635850">So</span> <span m="636530">indeed,</span> <span
  m="637000">I</span> <span m="637130">will</span> <span
  m="637370">encounter</span> <span m="637830">all</span> <span
  m="638040">the</span> <span m="638170">n</span> <span
  m="638390">subproblems.</span></p><p><span m="642120">OK,</span> <span
  m="642490">so</span> <span m="643720">having</span> <span
  m="644140">realized</span> <span m="644500">that,</span> <span
  m="645140">how</span> <span m="645380">much</span> <span
  m="645590">work</span> <span m="645810">do</span> <span m="645910">I</span>
  <span m="645990">have</span> <span m="646140">to</span> <span
  m="646260">do</span> <span m="646830">to</span> <span m="646990">go</span>
  <span m="647140">from</span> <span m="647310">here</span> <span
  m="647840">to</span> <span m="648010">there?</span></p><p><span
  m="656316">AUDIENCE: [INAUDIBLE]</span></p><p><span m="658240">LING REN:
  Correct.</span> <span m="658870">Because</span> <span m="659190">I'm</span>
  <span m="659480">taking</span> <span m="659720">the</span> <span
  m="659800">min</span> <span m="660130">of</span> <span m="660570">how</span>
  <span m="660700">many</span> <span m="661690">terms?</span> <span
  m="662430">m</span> <span m="662630">terms.</span> <span m="665370">So</span>
  <span m="665600">that's</span> <span m="665850">our</span> <span
  m="666020">runtime.</span> <span m="678390">Any</span> <span
  m="678700">questions</span> <span m="679050">so far?</span> <span
  m="682110">If</span> <span m="682260">not,</span> <span m="683160">let</span>
  <span m="683240">me</span> <span m="683340">take</span> <span
  m="683520">a</span> <span m="683570">digression.</span> <span
  m="685090">So,</span> <span m="685780">make</span> <span
  m="686030">change,</span> <span m="686820">this</span> <span
  m="687080">problem.</span> <span m="688710">If</span> <span
  m="688810">you</span> <span m="688910">think</span> <span
  m="688960">about</span> <span m="689170">it,</span> <span
  m="689540">it's</span> <span m="689730">very</span> <span
  m="689930">similar</span> <span m="690330">to</span> <span
  m="691030">knapsack.</span> <span m="695140">Has</span> <span
  m="695290">anyone</span> <span m="696380">not</span> <span
  m="696620">heard</span> <span m="696800">of</span> <span
  m="696930">this</span> <span m="697100">problem?</span> <span
  m="698300">Knapsack</span> <span m="698720">means</span> <span
  m="699400">you</span> <span m="699510">have</span> <span m="699770">a</span>
  <span m="699850">bunch</span> <span m="700050">of</span> <span
  m="700150">items.</span> <span m="700530">You</span> <span
  m="700630">want</span> <span m="700740">to</span> <span m="700840">pack</span>
  <span m="701130">these</span> <span m="701590">into</span> <span
  m="701730">a</span> <span m="701820">bag,</span> <span m="702430">and</span>
  <span m="702560">the</span> <span m="702630">bag</span> <span
  m="702890">has</span> <span m="703110">a</span> <span
  m="704110">certain</span> <span m="704410">size.</span> <span
  m="705880">So</span> <span m="706020">each</span> <span m="706250">item</span>
  <span m="706550">has</span> <span m="706770">a</span> <span
  m="706830">certain</span> <span m="707090">value,</span> <span
  m="707520">and</span> <span m="707660">you</span> <span m="707810">want</span>
  <span m="707960">to</span> <span m="708120">pack</span> <span
  m="709520">the</span> <span m="710520">items</span> <span
  m="711150">that</span> <span m="711300">have</span> <span
  m="711530">the</span> <span m="712030">largest</span> <span
  m="712580">combined</span> <span m="713050">value</span> <span
  m="713570">into</span> <span m="713930">your bag.</span> <span
  m="716160">So,</span> <span m="720520">why</span> <span m="720690">are</span>
  <span m="720780">they</span> <span m="721160">similar?</span></p><p><span
  m="724110">So</span> <span m="724370">in</span> <span m="724470">some</span>
  <span m="724670">sense,</span> <span m="724970">n</span> <span
  m="725440">is</span> <span m="725630">our</span> <span m="725840">size.</span>
  <span m="727070">We</span> <span m="727260">want</span> <span
  m="727400">to</span> <span m="727960">pick</span> <span m="728950">a</span>
  <span m="729050">bunch</span> <span m="729290">of</span> <span
  m="729610">coins</span> <span m="730080">to</span> <span
  m="730230">make</span> <span m="730440">the</span> <span
  m="730550">size</span> <span m="730810">n.</span> <span m="731590">And</span>
  <span m="731860">each</span> <span m="732140">coin</span> <span
  m="732470">here</span> <span m="732720">actually</span> <span
  m="733190">has</span> <span m="733400">a</span> <span
  m="733470">negative</span> <span m="733860">value,</span> <span
  m="734720">because</span> <span m="734790">we</span> <span
  m="734940">want</span> <span m="735170">to</span> <span m="735540">pick</span>
  <span m="735730">the</span> <span m="735820">min</span> <span
  m="736080">of</span> <span m="736220">it.</span> <span m="737350">If</span>
  <span m="737450">you</span> <span m="737570">do</span> <span
  m="737700">that,</span> <span m="738110">then</span> <span
  m="738450">this</span> <span m="738640">problem</span> <span
  m="738970">is</span> <span m="739060">exactly</span> <span
  m="739480">knapsack.</span> <span m="740590">And</span> <span
  m="740800">knapsack</span> <span m="741180">is</span> <span
  m="741370">NP-complete.</span> <span m="746080">That</span> <span
  m="746190">means</span> <span m="746710">we</span> <span
  m="747040">don't</span> <span m="747350">know</span> <span m="748190">a</span>
  <span m="749540">polynomial</span> <span m="750030">solution</span> <span
  m="750410">to</span> <span m="750510">it</span> <span m="750650">yet.</span>
  <span m="752130">However,</span> <span m="752740">we</span> <span
  m="753050">just</span> <span m="753270">found</span> <span
  m="753470">one.</span> <span m="756900">Our</span> <span
  m="757120">input</span> <span m="757450">is,</span> <span m="758070">m</span>
  <span m="758290">stuff</span> <span m="758870">and</span> <span
  m="759030">n.</span> <span m="759840">Our</span> <span
  m="760020">solution</span> <span m="760500">is</span> <span
  m="760630">polynomial</span> <span m="761120">to</span> <span
  m="761210">m,</span> <span m="761490">and</span> <span
  m="761640">polynomial</span> <span m="762000">to</span> <span
  m="762190">n.</span> <span m="765866">If</span> <span m="766360">this</span>
  <span m="766530">is</span> <span m="766680">true,</span> <span
  m="767640">then</span> <span m="768810">I</span> <span m="768950">have</span>
  <span m="769160">found</span> <span m="769440">the</span> <span
  m="770140">polynomial</span> <span m="770570">solution</span> <span
  m="771040">to</span> <span m="771180">one</span> <span m="771480">NP</span>
  <span m="771780">problem.</span> <span m="773120">So</span> <span
  m="773370">P</span> <span m="773540">equals</span> <span m="773830">NP.</span>
  <span m="774320">SO</span> <span m="774610">we</span> <span
  m="774710">should</span> <span m="774960">all</span> <span
  m="775140">be</span> <span m="775290">getting</span> <span
  m="775550">Turing</span> <span m="775760">award</span> <span
  m="775860">for</span> <span m="776200">that.</span> <span m="778370">So</span>
  <span m="778480">clearly</span> <span m="778770">something's</span> <span
  m="779140">wrong.</span> <span m="782760">But</span> <span
  m="783720">there's</span> <span m="783940">no</span> <span
  m="784050">problem</span> <span m="784360">with</span> <span
  m="784480">this</span> <span m="784620">solution.</span> <span
  m="787000">This</span> <span m="787390">covers</span> <span
  m="787680">all</span> <span m="787780">the</span> <span
  m="787860">cases.</span> <span m="789330">And</span> <span
  m="789390">our</span> <span m="789570">analysis</span> <span
  m="790820">is</span> <span m="791000">definitely</span> <span
  m="791370">correct.</span></p><p><span m="798840">So</span> <span
  m="799620">does</span> <span m="799790">anyone</span> <span
  m="801570">get</span> <span m="801770">what</span> <span m="801920">I'm</span>
  <span m="802060">asking?</span> <span m="802885">So</span> <span
  m="803370">what's</span> <span m="803620">the</span> <span
  m="803740">contradiction</span> <span m="804250">here?</span> <span
  m="809540">I will</span> <span m="810000">probably</span> <span
  m="810350">discuss</span> <span m="810790">this</span> <span
  m="811800">later,</span> <span m="812490">in</span> <span
  m="812670">later</span> <span m="812890">lectures</span> <span
  m="813670">when</span> <span m="813850">we</span> <span m="814000">get</span>
  <span m="814200">to</span> <span m="814970">complexity</span> <span
  m="815410">or</span> <span m="815820">reduction.</span> <span
  m="817390">But</span> <span m="817770">to</span> <span m="817910">give</span>
  <span m="818070">a</span> <span m="818120">short</span> <span
  m="818360">answer,</span> <span m="819070">the</span> <span
  m="819160">problem</span> <span m="819500">is</span> <span
  m="819650">that</span> <span m="820640">when</span> <span m="820840">we</span>
  <span m="820980">say</span> <span m="821220">the</span> <span
  m="821310">input</span> <span m="821660">is</span> <span m="821820">n,</span>
  <span m="824410">its</span> <span m="824670">size</span> <span
  m="825210">is</span> <span m="825390">not</span> <span m="825650">n.</span>
  <span m="826200">So</span> <span m="826680">I</span> <span
  m="826790">only</span> <span m="827070">need</span> <span
  m="827670">log</span> <span m="828040">n</span> <span m="828210">this</span>
  <span m="831090">to</span> <span m="831240">represent</span> <span
  m="831770">this</span> <span m="831970">input.</span> <span
  m="834680">Make</span> <span m="834840">sense?</span> <span
  m="837090">Therefore,</span> <span m="837620">for</span> <span
  m="837950">log</span> <span m="838320">n</span> <span m="838690">length</span>
  <span m="839030">input,</span> <span m="839710">my</span> <span
  m="839840">runtime</span> <span m="840270">is</span> <span
  m="840430">n.</span> <span m="841040">That</span> <span
  m="841250">means</span> <span m="841450">my</span> <span
  m="841670">runtime</span> <span m="842050">is</span> <span
  m="842350">exponential.</span> <span m="843640">It's</span> <span
  m="843810">not</span> <span m="843960">polynomial.</span> <span
  m="846940">OK.</span> <span m="848002">Now</span> <span
  m="848400">that's</span> <span m="848670">the</span> <span
  m="848800">end</span> <span m="849000">of</span> <span m="849080">the</span>
  <span m="849100">digression.</span></p><p><span m="864170">Now</span> <span
  m="864280">let's</span> <span m="865000">look</span> <span
  m="865250">at</span> <span m="865400">another</span> <span
  m="865650">example.</span> <span m="868960">This</span> <span
  m="869140">one</span> <span m="869390">is</span> <span
  m="869520">called</span> <span m="870580">rectangular</span> <span
  m="871180">blocks.</span> <span m="881350">So in</span> <span
  m="881650">this</span> <span m="882010">problem,</span> <span
  m="882740">we</span> <span m="882970">have</span> <span m="883240">a</span>
  <span m="883320">bunch</span> <span m="883560">of</span> <span
  m="883990">blocks.</span> <span m="885130">Say</span> <span
  m="886830">1,</span> <span m="887180">2,</span> <span m="887480">all</span>
  <span m="887600">the</span> <span m="887680">way</span> <span
  m="887770">to</span> <span m="887900">n.</span> <span m="888530">And</span>
  <span m="888770">each</span> <span m="889350">of</span> <span
  m="889460">them</span> <span m="889810">has</span> <span m="890150">a</span>
  <span m="890680">length,</span> <span m="892850">width,</span> <span
  m="893530">and</span> <span m="893630">height.</span> <span
  m="894310">So</span> <span m="894520">it's</span> <span m="894650">a</span>
  <span m="894800">three-dimensional</span> <span m="895640">block.</span> <span
  m="898580">So</span> <span m="898710">I</span> <span m="898830">want</span>
  <span m="899050">to</span> <span m="899430">put</span> <span
  m="899910">blocks,</span> <span m="900950">stack</span> <span
  m="901330">them</span> <span m="901650">on</span> <span m="901780">top</span>
  <span m="901950">of</span> <span m="902070">each</span> <span
  m="902200">other</span> <span m="902790">to get</span> <span
  m="903170">the</span> <span m="903450">maximum</span> <span
  m="903930">height.</span> <span m="905070">But</span> <span
  m="905270">in</span> <span m="905340">order</span> <span m="905480">for</span>
  <span m="905840">j</span> <span m="907090">to</span> <span
  m="907250">be</span> <span m="907620">put</span> <span m="907910">on</span>
  <span m="908070">top</span> <span m="908270">of</span> <span
  m="908370">i,</span> <span m="910230">I</span> <span m="910370">require</span>
  <span m="914200">the</span> <span m="914490">length</span> <span
  m="914820">of</span> <span m="914960">j</span> <span m="915690">to</span>
  <span m="916000">be</span> <span m="916300">smaller</span> <span
  m="916460">then</span> <span m="916670">the</span> <span
  m="916720">length</span> <span m="917100">of</span> <span m="917530">i,</span>
  <span m="918530">and</span> <span m="919100">the</span> <span
  m="919300">width</span> <span m="919590">of</span> <span m="919750">j</span>
  <span m="920310">is</span> <span m="920390">also</span> <span
  m="920780">smaller</span> <span m="921240">with</span> <span m="921390">width
  of</span> <span m="921730">i.</span></p><p><span m="923800">So</span> <span
  m="924920">visually</span> <span m="925340">I</span> <span
  m="925420">just</span> <span m="925660">meant</span> <span
  m="926720">this</span> <span m="926940">is</span> <span m="927080">a</span>
  <span m="927150">block.</span> <span m="929190">I can</span> <span
  m="929350">put</span> <span m="929500">another</span> <span
  m="929740">block</span> <span m="929980">on</span> <span
  m="930080">there.</span> <span m="931250">They</span> <span
  m="931400">are</span> <span m="931990">smaller</span> <span
  m="932300">in</span> <span m="932660">width</span> <span m="932880">and</span>
  <span m="932990">length.</span> <span m="934176">But</span> <span
  m="935460">I</span> <span m="935650">cannot</span> <span m="936070">put</span>
  <span m="936230">this</span> <span m="936420">guy</span> <span
  m="936950">on</span> <span m="937090">top</span> <span m="937230">of</span>
  <span m="937340">it</span> <span m="937620">because</span> <span
  m="939540">one</span> <span m="939700">of</span> <span m="939760">its</span>
  <span m="939930">dimension</span> <span m="940590">is</span> <span
  m="941450">larger</span> <span m="941870">than</span> <span
  m="942480">the</span> <span m="942580">underlying</span> <span
  m="943030">block.</span> <span m="944190">And</span> <span
  m="944350">to</span> <span m="944440">make</span> <span
  m="944630">things</span> <span m="944820">simple,</span> <span
  m="947170">that's</span> <span m="947420">not</span> <span
  m="947620">allowed,</span> <span m="948000">rotating.</span> <span
  m="948910">So</span> <span m="949260">OK,</span> <span m="949610">I</span>
  <span m="949660">can</span> <span m="950010">rotate.</span> <span
  m="950360">It</span> <span m="950550">still</span> <span
  m="950790">doesn't</span> <span m="951010">fit.</span> <span
  m="951280">But</span> <span m="951930">you see</span> <span
  m="952080">the</span> <span m="953060">complication.</span> <span
  m="953730">So</span> <span m="953900">you</span> <span m="954190">allow</span>
  <span m="954580">rotate,</span> <span m="955020">then</span> <span
  m="955660">there's</span> <span m="955940">more</span> <span
  m="956110">possibility.</span> <span m="958610">Length</span> <span
  m="958830">and</span> <span m="958990">width</span> <span
  m="960240">are</span> <span m="960570">so</span> <span m="960780">one</span>
  <span m="960960">of</span> <span m="961060">them</span> <span
  m="961260">is</span> <span m="961900">north-south,</span> <span
  m="962560">the</span> <span m="962650">other</span> <span m="962900">is</span>
  <span m="963630">east-west,</span> <span m="964580">and</span> <span
  m="964860">you</span> <span m="964980">cannot</span> <span
  m="965290">change</span> <span m="965530">that.</span> <span
  m="968770">OK.</span> <span m="969380">Is</span> <span m="969560">the</span>
  <span m="969620">problem</span> <span m="969900">clear?</span> <span
  m="970580">You</span> <span m="970690">want</span> <span m="970790">to</span>
  <span m="970910">stack</span> <span m="971320">one</span> <span
  m="972480">on</span> <span m="972620">top</span> <span m="972750">of</span>
  <span m="972840">each</span> <span m="972970">other</span> <span
  m="973380">to</span> <span m="973540">get</span> <span m="973910">the</span>
  <span m="974140">maximum</span> <span m="974520">height.</span></p><p><span
  m="985100">Any</span> <span m="985370">ideas?</span> <span
  m="988140">Again,</span> <span m="988480">let's</span> <span
  m="988740">start</span> <span m="988940">from</span> <span
  m="989250">simple</span> <span m="989580">algorithm.</span> <span
  m="990510">Say,</span> <span m="991600">let's</span> <span
  m="991790">just</span> <span m="992030">try</span> <span
  m="992250">everything</span> <span m="992610">out.</span> <span
  m="1007670">OK,</span> <span m="1008170">go</span> <span
  m="1008280">ahead.</span></p><p><span m="1008430">AUDIENCE: If you try</span>
  <span m="1008899">everything else,</span> <span m="1009368">you have</span>
  <span m="1009837">n factorial.</span></p><p><span m="1011244">LING REN:
  Pardon?</span></p><p><span m="1011713">AUDIENCE: It would</span> <span
  m="1012182">be O</span> <span m="1012651">of</span> <span m="1013120">n
  factorial?</span></p><p><span m="1014060">LING REN: You're</span> <span
  m="1014420">going</span> <span m="1014620">too</span> <span
  m="1014730">fast.</span> <span m="1015130">Let's</span> <span
  m="1015660">write</span> <span m="1015890">the</span> <span
  m="1016270">algorithm</span> <span m="1016690">first.</span> <span
  m="1017360">So</span> <span m="1017720">I</span> <span m="1017800">want</span>
  <span m="1017970">to</span> <span m="1018030">solve</span> <span
  m="1018270">my</span> <span m="1019046">rectangle</span> <span
  m="1019432">block</span> <span m="1019820">problem,</span> <span
  m="1020910">say</span> <span m="1021070">from</span> <span m="1021730">1
  to</span> <span m="1021990">n.</span> <span m="1024480">What</span> <span
  m="1024829">are my</span> <span m="1025069">subproblems?</span></p><p><span
  m="1029967">AUDIENCE: Choose</span> <span m="1030430">one</span> <span
  m="1030893">block.</span></p><p><span m="1031829">LING REN: OK.</span> <span
  m="1032210">Let's</span> <span m="1032500">choose</span> <span
  m="1032720">one</span> <span m="1032880">block.</span></p><p><span
  m="1033140">AUDIENCE: And then you</span> <span m="1033627">run</span> <span
  m="1034114">RB</span> <span m="1034601">of</span> <span
  m="1035575">everything</span> <span m="1036062">except</span> <span
  m="1036549">that block.</span></p><p><span m="1039970">LING REN: So</span>
  <span m="1040280">I</span> <span m="1040380">get</span> <span
  m="1040569">its</span> <span m="1040710">height,</span> <span
  m="1041180">and</span> <span m="1041609">then</span> <span
  m="1042089">I</span> <span m="1042190">have</span> <span m="1042369">a</span>
  <span m="1042430">subproblem.</span> <span m="1045410">What</span> <span
  m="1045569">is</span> <span m="1045700">the</span> <span
  m="1045849">subproblem?</span> <span m="1046630">And</span> <span
  m="1046910">then</span> <span m="1047099">I'll</span> <span
  m="1047200">take</span> <span m="1047410">a</span> <span
  m="1047460">max.</span> <span m="1055330">So</span> <span
  m="1055480">the</span> <span m="1055580">difficulty</span> <span
  m="1055990">here</span> <span m="1058900">is</span> <span
  m="1060230">this</span> <span m="1060600">subproblem.</span> <span
  m="1061920">So</span> <span m="1062960">Andrew,</span> <span
  m="1063340">right?</span> <span m="1064410">So</span> <span
  m="1064540">Andrew</span> <span m="1064800">said</span> <span
  m="1065510">it's</span> <span m="1065780">just</span> <span
  m="1067540">everything</span> <span m="1068660">except</span> <span
  m="1070080">i.</span> <span m="1071320">Is that</span> <span m="1071660">the
  case?</span> <span m="1073410">Go ahead.</span></p><p><span
  m="1073910">AUDIENCE: It's everything</span> <span m="1074410">except</span>
  <span m="1074910">i,</span> <span m="1075410">and anything</span> <span
  m="1075910">with</span> <span m="1076410">wider</span> <span
  m="1076910">or</span> <span m="1077410">longer</span> <span m="1077910">than
  i.</span></p><p><span m="1079305">LING REN: Do you</span> <span
  m="1079680">get</span> <span m="1079820">that?</span> <span
  m="1080630">Not</span> <span m="1080830">only</span> <span
  m="1081260">do</span> <span m="1081410">we</span> <span
  m="1081540">have</span> <span m="1081720">to</span> <span
  m="1081830">exclude</span> <span m="1082360">i,</span> <span
  m="1083260">we</span> <span m="1083420">also</span> <span
  m="1083600">have</span> <span m="1083730">to</span> <span
  m="1083860">exclude</span> <span m="1084890">everything</span> <span
  m="1086000">longer</span> <span m="1086670">or</span> <span
  m="1087150">wider</span> <span m="1087770">than</span> <span
  m="1087920">i.</span> <span m="1088880">So</span> <span
  m="1089360">that's</span> <span m="1089580">actually</span> <span
  m="1089880">a</span> <span m="1089940">messy</span> <span
  m="1090190">problem.</span> <span m="1093580">So</span> <span
  m="1093730">let</span> <span m="1093850">me</span> <span
  m="1093950">define</span> <span m="1095470">this</span> <span
  m="1095660">subproblem</span> <span m="1096580">to</span> <span
  m="1096720">be</span> <span m="1097700">a</span> <span
  m="1097830">compatible</span> <span m="1098400">set</span> <span
  m="1099960">of</span> <span m="1104020">w</span> <span m="1104200">i.</span>
  <span m="1105480">And</span> <span m="1105990">let</span> <span
  m="1106120">me</span> <span m="1106210">define</span> <span
  m="1106520">that</span> <span m="1108560">to</span> <span
  m="1108690">be</span> <span m="1110660">the</span> <span
  m="1110770">set</span> <span m="1111050">of</span> <span
  m="1111510">blocks</span> <span m="1113570">where</span> <span
  m="1114090">the</span> <span m="1114540">length</span> <span
  m="1115290">is</span> <span m="1115540">smaller</span> <span
  m="1116080">than</span> <span m="1116630">the</span> <span
  m="1116770">required</span> <span m="1117230">length,</span> <span
  m="1118140">and</span> <span m="1118370">their</span> <span
  m="1118640">which</span> <span m="1121470">is</span> <span
  m="1121650">also</span> <span m="1121900">smaller</span> <span
  m="1122600">than</span> <span m="1122820">the</span> <span
  m="1122930">required</span> <span m="1123360">width.</span> <span
  m="1125420">So</span> <span m="1125560">this</span> <span
  m="1125740">should</span> <span m="1125950">remind</span> <span
  m="1126310">you</span> <span m="1126450">of</span> <span
  m="1126620">the</span> <span m="1126980">weighted</span> <span
  m="1127440">interval</span> <span m="1127790">scheduling</span> <span
  m="1128280">problem,</span> <span m="1129450">where</span> <span
  m="1129700">we</span> <span m="1129820">define a</span> <span
  m="1131000">compatible</span> <span m="1131730">set</span> <span
  m="1133200">once</span> <span m="1133430">we</span> <span
  m="1133650">have</span> <span m="1133810">chosen</span> <span m="1134490">some
  block.</span> <span m="1138960">Question?</span></p><p><span
  m="1139323">AUDIENCE: What are we</span> <span m="1139686">trying to do</span>
  <span m="1140050">here?</span> <span m="1140525">Are we trying</span> <span
  m="1141000">to minimize</span> <span m="1141950">h?</span></p><p><span
  m="1144180">LING REN: Maximize</span> <span m="1144670">h.</span> <span
  m="1145340">We want</span> <span m="1145490">to</span> <span
  m="1145920">get</span> <span m="1146120">as</span> <span
  m="1146350">high</span> <span m="1146470">as</span> <span
  m="1146600">possible.</span> <span m="1152500">I</span> <span
  m="1152630">choose</span> <span m="1152750">a</span> <span
  m="1152820">block,</span> <span m="1153260">I get</span> <span
  m="1153420">its</span> <span m="1153530">height,</span> <span
  m="1153990">and</span> <span m="1154230">then</span> <span
  m="1154620">I</span> <span m="1154860">find</span> <span
  m="1155170">out</span> <span m="1155320">the</span> <span
  m="1155420">competitive</span> <span m="1156100">remaining</span> <span
  m="1156520">blocks,</span> <span m="1156930">and</span> <span
  m="1157160">I</span> <span m="1157190">want</span> <span m="1157370">to</span>
  <span m="1157510">stack</span> <span m="1157810">them</span> <span
  m="1157990">on</span> <span m="1158070">top</span> <span m="1158230">of</span>
  <span m="1158330">it.</span> <span m="1165450">Everyone</span> <span
  m="1165790">agrees</span> <span m="1166830">this</span> <span
  m="1167100">solution</span> <span m="1167520">is</span> <span
  m="1167650">correct?</span> <span m="1169330">OK,</span> <span
  m="1169980">then</span> <span m="1170780">let's</span> <span
  m="1171050">analyze</span> <span m="1171400">its</span> <span
  m="1171560">runtime.</span> <span m="1180640">So</span> <span
  m="1181200">how</span> <span m="1181510">do</span> <span m="1181590">we</span>
  <span m="1181730">analyze</span> <span m="1182080">runtime?</span> <span
  m="1192020">So</span> <span m="1192410">what's</span> <span
  m="1192620">the</span> <span m="1192730">first</span> <span
  m="1192980">question</span> <span m="1193400">I</span> <span
  m="1193510">always</span> <span m="1193800">ask?</span></p><p><span
  m="1195374">AUDIENCE: How many</span> <span
  m="1195841">subproblems?</span></p><p><span m="1197710">LING REN: Yeah.</span>
  <span m="1198220">I'm</span> <span m="1198860">not</span> <span
  m="1199220">sure</span> <span m="1199410">who</span> <span
  m="1199530">said</span> <span m="1199700">that,</span> <span
  m="1199980">but</span> <span m="1200140">how</span> <span
  m="1200280">many</span> <span m="1200470">subproblems</span> <span
  m="1200930">do</span> <span m="1201230">we</span> <span
  m="1201410">have?</span></p><p><span m="1219841">AUDIENCE: At most</span>
  <span m="1220334">n?</span></p><p><span m="1222130">LING REN: At</span> <span
  m="1222410">most</span> <span m="1222680">n.</span> <span
  m="1225510">Can</span> <span m="1225760">you</span> <span
  m="1225810">explain</span> <span m="1226510">why</span> <span
  m="1226650">is</span> <span m="1226750">that</span> <span m="1226920">the
  case?</span> <span m="1227460">Or it's</span> <span m="1227580">just</span>
  <span m="1227790">a</span> <span m="1227860">guess?</span></p><p><span
  m="1229150">AUDIENCE: Because</span> <span m="1233220">if</span> <span
  m="1235210">n</span> <span m="1235730">is</span> <span
  m="1235900">compatible--</span> <span m="1237070">nothing</span> <span
  m="1237340">in</span> <span m="1237450">the compatible--</span> <span
  m="1238565">n</span> <span m="1239060">will not be</span> <span m="1239555">in
  the</span> <span m="1240050">compatible</span> <span m="1240240">set</span>
  <span m="1240550">of anything</span> <span m="1241047">that is</span> <span
  m="1241544">in the compatible</span> <span m="1242041">set of
  n.</span></p><p><span m="1244029">LING REN: OK,</span> <span
  m="1244530">that's</span> <span m="1244700">very</span> <span
  m="1245380">tricky.</span> <span m="1245780">I</span> <span
  m="1246280">didn't</span> <span m="1246360">get</span> <span
  m="1246520">that.</span> <span m="1246650">Can you</span> <span
  m="1246950">say that</span> <span m="1247290">again?</span></p><p><span
  m="1248580">AUDIENCE: Because</span> <span m="1249970">for</span> <span
  m="1250450">example,</span> <span m="1250930">if you start</span> <span
  m="1251330">with n,</span> <span m="1251686">then</span> <span
  m="1252042">everything</span> <span m="1252400">that's</span> <span
  m="1252630">in the</span> <span m="1252970">compatible</span> <span
  m="1253530">set of</span> <span m="1254700">n.</span> <span m="1256140">n
  won't</span> <span m="1256620">be in the</span> <span
  m="1257100">compatible</span> <span m="1257580">set of</span> <span
  m="1258540">that.</span></p><p><span m="1261910">LING REN: OK.</span> <span
  m="1262165">I</span> <span m="1262770">think</span> <span m="1263050">I</span>
  <span m="1263180">got</span> <span m="1263380">what</span> <span
  m="1263660">you said.</span> <span m="1264290">So,</span> <span
  m="1264800">if</span> <span m="1265570">we</span> <span
  m="1265800">think</span> <span m="1266020">there</span> <span
  m="1266160">are</span> <span m="1266260">only</span> <span
  m="1266500">n</span> <span m="1266670">subproblems,</span> <span
  m="1267890">what are</span> <span m="1268080">they?</span> <span
  m="1268330">They</span> <span m="1268450">have</span> <span
  m="1268690">to</span> <span m="1268810">be</span> <span
  m="1269720">compatible</span> <span m="1270270">sets</span> <span
  m="1272080">l1,</span> <span m="1273550">w1,</span> <span
  m="1274940">then</span> <span m="1275350">l2,</span> <span
  m="1275880">w2.</span> <span m="1276976">These</span> <span m="1277352">are
  the</span> <span m="1277730">n</span> <span m="1278180">unique</span> <span
  m="1278500">subproblems</span> <span m="1279000">you</span> <span
  m="1279140">are</span> <span m="1279220">thinking</span> <span
  m="1279660">about.</span> <span m="1281670">Is</span> <span
  m="1281830">there</span> <span m="1282000">any</span> <span
  m="1282160">chance</span> <span m="1282580">that</span> <span
  m="1282790">I</span> <span m="1282850">will</span> <span
  m="1283070">get</span> <span m="1283260">a</span> <span
  m="1283610">compatible</span> <span m="1284110">set</span> <span
  m="1284540">like</span> <span m="1284790">something</span> <span
  m="1285180">like</span> <span m="1285450">l3</span> <span
  m="1286130">but</span> <span m="1286650">w5?</span> <span
  m="1289580">If</span> <span m="1289700">I</span> <span m="1289860">ever</span>
  <span m="1290140">have</span> <span m="1290340">this</span> <span
  m="1290790">subproblem</span> <span m="1291630">then,</span> <span
  m="1292470">well,</span> <span m="1293320">my</span> <span
  m="1293490">number</span> <span m="1293780">of</span> <span
  m="1293870">subproblems</span> <span m="1294540">are</span> <span
  m="1295090">kind</span> <span m="1295330">of</span> <span
  m="1295410">exploding.</span></p><p><span m="1303450">Yeah,</span> <span
  m="1303670">I</span> <span m="1304050">see</span> <span
  m="1304300">many</span> <span m="1304540">of</span> <span
  m="1304630">you</span> <span m="1304770">are</span> <span
  m="1306730">saying</span> <span m="1307060">no.</span> <span
  m="1309210">Why</span> <span m="1309320">not?</span> <span
  m="1310210">Because</span> <span m="1310860">if</span> <span
  m="1311050">we</span> <span m="1311210">have</span> <span m="1311490">a</span>
  <span m="1311680">subproblem,</span> <span m="1312300">say,</span> <span
  m="1312870">compatible</span> <span m="1313130">set</span> <span
  m="1313390">of</span> <span m="1313850">l i</span> <span
  m="1314180">and</span> <span m="1314820">w i,</span> <span
  m="1317170">and</span> <span m="1317750">if</span> <span m="1317890">we</span>
  <span m="1318030">go</span> <span m="1318260">from</span> <span
  m="1318490">here,</span> <span m="1321650">and</span> <span
  m="1321900">choose</span> <span m="1323760">the</span> <span
  m="1323860">next</span> <span m="1324130">block,</span> <span
  m="1324740">say</span> <span m="1325160">t,</span> <span
  m="1330610">it's</span> <span m="1330800">guaranteed</span> <span
  m="1331370">that</span> <span m="1331640">t</span> <span m="1333840">is</span>
  <span m="1335130">shorter</span> <span m="1335840">and</span> <span
  m="1336060">narrower.</span> <span m="1338370">That</span> <span
  m="1338630">means</span> <span m="1339930">our</span> <span
  m="1340020">new</span> <span m="1340150">subproblem,</span> <span
  m="1340980">or</span> <span m="1341130">new</span> <span
  m="1341280">compatible</span> <span m="1341770">set</span> <span
  m="1342300">becomes--</span> <span m="1348490">our</span> <span
  m="1348970">new</span> <span m="1349170">subproblem</span> <span
  m="1349670">needs</span> <span m="1349830">to</span> <span
  m="1349920">be</span> <span m="1350040">compatible</span> <span
  m="1350530">with</span> <span m="1350730">t</span> <span
  m="1351650">instead</span> <span m="1351960">of</span> <span
  m="1352060">i.</span> <span m="1353750">So,</span> <span
  m="1354520">the</span> <span m="1354660">only</span> <span
  m="1355830">subproblems</span> <span m="1356380">I</span> <span
  m="1356460">can</span> <span m="1356650">get</span> <span
  m="1357020">are</span> <span m="1357310">these</span> <span
  m="1357590">ones.</span> <span m="1359580">I</span> <span
  m="1359720">cannot</span> <span m="1360030">have</span> <span
  m="1360680">one</span> <span m="1360910">of</span> <span
  m="1361020">these.</span> <span m="1365330">The</span> <span
  m="1365430">number of</span> <span m="1365700">subproblems</span> <span
  m="1366250">are</span> <span m="1367320">n.</span> <span
  m="1368446">And</span> <span m="1370690">how</span> <span
  m="1370800">much</span> <span m="1370980">work</span> <span
  m="1371180">do</span> <span m="1371280">I</span> <span m="1371350">have</span>
  <span m="1371500">to</span> <span m="1371610">do</span> <span
  m="1375450">at</span> <span m="1375600">each</span> <span
  m="1375790">level?</span></p><p><span m="1380780">AUDIENCE:
  n.</span></p><p><span m="1383200">LING REN: n,</span> <span
  m="1383480">because</span> <span m="1383680">I'm</span> <span
  m="1383800">just</span> <span m="1384020">taking</span> <span
  m="1384230">the</span> <span m="1384330">max,</span> <span
  m="1385540">and</span> <span m="1385830">there</span> <span
  m="1386090">are</span> <span m="1386590">n</span> <span
  m="1387590">potential</span> <span m="1387990">choices</span> <span
  m="1389020">inside</span> <span m="1389370">my</span> <span
  m="1389460">max.</span> <span m="1393710">So</span> <span
  m="1393940">runtime</span> <span m="1394380">n</span> <span
  m="1394500">squared.</span> <span m="1404160">OK,</span> <span
  m="1404310">we're</span> <span m="1404470">not</span> <span
  m="1404850">fully</span> <span m="1404940">done,</span> <span
  m="1406240">because</span> <span m="1408900">there</span> <span
  m="1409110">is</span> <span m="1409240">an</span> <span
  m="1409330">extra</span> <span m="1409800">step</span> <span
  m="1412810">when</span> <span m="1413120">we're</span> <span
  m="1413330">trying</span> <span m="1413560">to</span> <span
  m="1413640">do</span> <span m="1413760">this.</span> <span
  m="1415350">We</span> <span m="1415470">have</span> <span
  m="1415680">to</span> <span m="1416230">figure</span> <span
  m="1416540">out</span> <span m="1417840">what</span> <span
  m="1418430">each</span> <span m="1418660">of</span> <span
  m="1418760">these</span> <span m="1418970">are.</span> <span
  m="1422260">Because</span> <span m="1422710">once</span> <span
  m="1422930">I</span> <span m="1423000">go</span> <span m="1423220">into</span>
  <span m="1423910">this</span> <span m="1424140">subproblem,</span> <span
  m="1425060">I</span> <span m="1425190">need</span> <span m="1425360">to</span>
  <span m="1425470">take</span> <span m="1425670">a</span> <span
  m="1425730">max</span> <span m="1426980">on</span> <span
  m="1427740">all</span> <span m="1428000">the</span> <span
  m="1428150">blocks</span> <span m="1429320">that's</span> <span
  m="1429550">in</span> <span m="1429690">this</span> <span
  m="1429900">set.</span> <span m="1431120">I have</span> <span
  m="1431270">to</span> <span m="1431380">know</span> <span
  m="1431820">what</span> <span m="1432040">blocks</span> <span
  m="1432410">are</span> <span m="1432590">in</span> <span
  m="1432720">that</span> <span m="1432920">set.</span> <span
  m="1437780">Is</span> <span m="1437930">that</span> <span
  m="1438040">hard?</span> <span m="1440530">So</span> <span
  m="1440950">how</span> <span m="1441130">would</span> <span
  m="1441230">you</span> <span m="1441300">do</span> <span
  m="1441400">that?</span></p><p><span m="1442542">AUDIENCE: You just</span>
  <span m="1443464">check</span> <span m="1443925">for</span> <span
  m="1444386">all of them,</span> <span m="1444847">and that's</span> <span
  m="1445308">O of n.</span></p><p><span m="1447160">LING REN: OK.</span> <span
  m="1447540">So,</span> <span m="1448830">I</span> <span
  m="1448970">check</span> <span m="1449220">all</span> <span
  m="1449370">of</span> <span m="1449480">them.</span> <span
  m="1449950">That's</span> <span m="1450230">O</span> <span
  m="1450400">of</span> <span m="1450490">n.</span> <span m="1455240">I'm</span>
  <span m="1455370">pretty</span> <span m="1455570">sure</span> <span
  m="1455810">you</span> <span m="1456140">just</span> <span
  m="1456200">meant</span> <span m="1456830">scanning,</span> <span
  m="1457520">scan</span> <span m="1457770">the</span> <span
  m="1457870">entire</span> <span m="1458170">thing,</span> <span
  m="1458600">and</span> <span m="1458900">pick</span> <span
  m="1459120">out</span> <span m="1459640">the</span> <span
  m="1459730">compatible</span> <span m="1460170">ones.</span> <span
  m="1460970">But</span> <span m="1461120">that's</span> <span
  m="1461340">for</span> <span m="1462260">this</span> <span
  m="1462520">subproblem.</span> <span m="1463140">We</span> <span
  m="1463240">have</span> <span m="1463380">to</span> <span
  m="1463490">do</span> <span m="1463630">it</span> <span m="1463770">for</span>
  <span m="1463870">every</span> <span m="1464290">one.</span> <span
  m="1467130">Or</span> <span m="1467720">there</span> <span
  m="1467910">may</span> <span m="1468190">be</span> <span m="1468390">a</span>
  <span m="1468480">better</span> <span m="1468740">way.</span> <span
  m="1469230">So</span> <span m="1469350">I</span> <span
  m="1469430">think</span> <span m="1469640">the</span> <span
  m="1469760">previous</span> <span m="1470080">TA</span> <span
  m="1470380">is</span> <span m="1470580">telling</span> <span
  m="1470860">me</span> <span m="1471010">there's</span> <span
  m="1471240">a</span> <span m="1471290">better</span> <span
  m="1471500">way</span> <span m="1471640">to</span> <span m="1471760">do</span>
  <span m="1471920">that.</span> <span m="1473020">So</span> <span
  m="1474510">in</span> <span m="1474770">order</span> <span
  m="1474880">to</span> <span m="1475000">find</span> <span
  m="1475350">the</span> <span m="1475430">entire</span> <span
  m="1475860">compatible</span> <span m="1476310">stuff,</span> <span
  m="1476730">he</span> <span m="1476890">claims</span> <span
  m="1477720">he</span> <span m="1477820">can</span> <span m="1477970">do</span>
  <span m="1478100">it</span> <span m="1478190">in</span> <span m="1478550">n
  log n,</span> <span m="1478910">but I</span> <span m="1479150">haven't</span>
  <span m="1479370">checked</span> <span m="1479540">that,</span> <span
  m="1479740">so</span> <span m="1479830">I'm</span> <span
  m="1479940">not</span> <span m="1480090">sure.</span> <span
  m="1480290">This</span> <span m="1480530">is</span> <span m="1480680">a</span>
  <span m="1482160">folklore</span> <span m="1483240">legend</span> <span
  m="1483600">here.</span> <span m="1485230">Yeah,</span> <span
  m="1485560">we'll</span> <span m="1485720">double</span> <span
  m="1485920">check</span> <span m="1486090">that</span> <span
  m="1486250">offline.</span> <span m="1486880">But</span> <span
  m="1487240">assuming</span> <span m="1488330">if</span> <span
  m="1488440">I</span> <span m="1488520">don't</span> <span
  m="1488710">have</span> <span m="1488910">this,</span> <span
  m="1489370">then</span> <span m="1491080">figure</span> <span
  m="1491440">out</span> <span m="1491670">all</span> <span
  m="1491920">these</span> <span m="1492290">subproblems</span> <span
  m="1493200">will</span> <span m="1493290">also</span> <span
  m="1493610">take</span> <span m="1494290">n</span> <span
  m="1494490">squared.</span> <span m="1495960">Then</span> <span
  m="1496110">my</span> <span m="1496270">total</span> <span
  m="1496570">runtime</span> <span m="1497000">is</span> <span
  m="1497410">n</span> <span m="1497620">squared</span> <span m="1497910">plus
  n</span> <span m="1498350">squared,</span> <span m="1498910">and</span> <span
  m="1499070">still</span> <span m="1499350">n</span> <span
  m="1499540">squared.</span> <span m="1506540">Question?</span></p><p><span
  m="1506900">AUDIENCE: Is the</span> <span m="1507371">n log n</span> <span
  m="1507842">solution</span> <span m="1508784">giving us</span> <span
  m="1509255">sorting</span> <span m="1509726">this</span> <span
  m="1510197">by</span> <span m="1510668">[INAUDIBLE]?</span></p><p><span
  m="1514450">LING REN: Yeah,</span> <span m="1514640">I</span> <span
  m="1514740">think</span> <span m="1514970">it</span> <span
  m="1515240">should</span> <span m="1515440">be</span> <span
  m="1515580">something</span> <span m="1515930">along</span> <span
  m="1516340">those</span> <span m="1516640">lines,</span> <span
  m="1517460">but</span> <span m="1517500">yeah,</span> <span
  m="1517960">I</span> <span m="1518330">haven't</span> <span
  m="1518540">figured</span> <span m="1518750">out</span> <span
  m="1518920">whether</span> <span m="1519110">you</span> <span
  m="1519260">sort</span> <span m="1519640">by</span> <span
  m="1519850">length</span> <span m="1520540">or</span> <span
  m="1520930">by</span> <span m="1521110">width.</span> <span
  m="1522070">You</span> <span m="1522160">can</span> <span
  m="1522270">only</span> <span m="1522480">sort</span> <span
  m="1522700">by</span> <span m="1523670">one</span> <span m="1523860">of</span>
  <span m="1523980">them.</span> <span m="1525890">So</span> <span
  m="1526260">after</span> <span m="1526560">sorting,</span> <span
  m="1527390">say</span> <span m="1527690">let's</span> <span
  m="1527980">sort</span> <span m="1528220">by</span> <span
  m="1528360">length.</span> <span m="1529150">Then</span> <span
  m="1529630">after</span> <span m="1530670">sorting,</span> <span
  m="1531240">I</span> <span m="1531630">may</span> <span m="1531840">get</span>
  <span m="1532070">something</span> <span m="1532400">like</span> <span
  m="1532600">this.</span> <span m="1534570">And</span> <span
  m="1535040">if</span> <span m="1535170">I'm</span> <span
  m="1535420">asking</span> <span m="1535800">what's</span> <span
  m="1535980">the</span> <span m="1536080">compatible</span> <span
  m="1536530">set</span> <span m="1536790">of</span> <span
  m="1537060">width</span> <span m="1537600">this</span> <span
  m="1537840">guy,</span> <span m="1538280">I</span> <span
  m="1538400">still</span> <span m="1538620">have</span> <span
  m="1538780">to</span> <span m="1539910">kick</span> <span
  m="1540160">all</span> <span m="1540290">of</span> <span
  m="1540390">them</span> <span m="1540540">out.</span> <span
  m="1548942">Yeah,</span> <span m="1549430">so</span> <span
  m="1549540">it's</span> <span m="1550290">not</span> <span
  m="1550440">entirely</span> <span m="1550800">clear</span> <span
  m="1551420">to</span> <span m="1551540">me</span> <span m="1551670">how
  to</span> <span m="1551770">do</span> <span m="1551950">it,</span> <span
  m="1552130">but</span> <span m="1552430">I</span> <span
  m="1552540">think</span> <span m="1552900">you</span> <span m="1553280">can
  potentially</span> <span m="1553980">consider</span> <span
  m="1556520">having</span> <span m="1556820">another,</span> <span
  m="1557240">say,</span> <span m="1557610">binary</span> <span
  m="1557930">search</span> <span m="1558120">tree</span> <span
  m="1558740">that's</span> <span m="1558990">sorted</span> <span
  m="1559370">by</span> <span m="1559550">width,</span> <span
  m="1560550">and</span> <span m="1560800">you</span> <span
  m="1560920">can</span> <span m="1561060">go</span> <span m="1561250">in</span>
  <span m="1561550">and</span> <span m="1562430">just</span> <span
  m="1562630">delete</span> <span m="1563190">everything</span> <span
  m="1563610">larger</span> <span m="1563910">than</span> <span
  m="1564580">a</span> <span m="1564700">certain</span> <span
  m="1565020">width.</span> <span m="1566280">So</span> <span
  m="1566370">that's</span> <span m="1566600">the,</span> <span
  m="1567230">yeah.</span> <span m="1568640">OK,</span> <span
  m="1568750">go</span> <span m="1569150">ahead.</span></p><p><span
  m="1569642">AUDIENCE: Can you</span> <span m="1570134">convert</span> <span
  m="1570626">into a directed</span> <span m="1571120">graph,</span> <span
  m="1571966">where</span> <span m="1573340">each</span> <span m="1573815">pair
  of</span> <span m="1574290">shapes</span> <span m="1574765">that's
  compatible,</span> <span m="1575240">you do</span> <span m="1576665">an
  edge.</span> <span m="1577615">And then</span> <span m="1578565">path
  find.</span></p><p><span m="1580950">LING REN: OK.</span> <span
  m="1582100">OK.</span> <span m="1584510">But</span> <span
  m="1585320">constructing</span> <span m="1585940">that</span> <span
  m="1586140">graph</span> <span m="1587660">already</span> <span
  m="1587960">takes</span> <span m="1588150">O</span> <span m="1588620">n</span>
  <span m="1588790">squared,</span> <span m="1589653">correct?</span> <span
  m="1594856">Yeah,</span> <span m="1595340">OK,</span> <span
  m="1595570">let's</span> <span m="1595740">move</span> <span
  m="1595930">on.</span> <span m="1596470">I</span> <span
  m="1596940">don't</span> <span m="1597120">have</span> <span
  m="1597250">time</span> <span m="1597450">to</span> <span m="1597830">figure
  this</span> <span m="1597990">out.</span> <span m="1601390">So,</span> <span
  m="1602770">this</span> <span m="1602980">problem</span> <span
  m="1603380">is</span> <span m="1604100">remotely</span> <span
  m="1604680">similar</span> <span m="1605120">to</span> <span
  m="1608440">interval</span> <span m="1608730">scheduling,</span> <span
  m="1609160">weighted</span> <span m="1609320">interval</span> <span
  m="1610000">scheduling,</span> <span m="1611340">in</span> <span
  m="1611860">a</span> <span m="1611920">sense</span> <span
  m="1612180">that</span> <span m="1612350">it</span> <span
  m="1612450">has</span> <span m="1612620">some</span> <span
  m="1612850">compatible</span> <span m="1613540">set.</span> <span
  m="1614630">And</span> <span m="1615130">in</span> <span
  m="1615310">the</span> <span m="1615380">very</span> <span
  m="1615580">first</span> <span m="1617140">lecture</span> <span
  m="1617510">and</span> <span m="1617630">recitation,</span> <span
  m="1618430">we</span> <span m="1618540">have</span> <span
  m="1618720">two</span> <span m="1619620">algorithm</span> <span
  m="1620000">for</span> <span m="1620760">weighted</span> <span
  m="1621070">interval</span> <span m="1621490">scheduling,</span> <span
  m="1622400">and</span> <span m="1622590">one</span> <span
  m="1622780">of</span> <span m="1622890">them</span> <span
  m="1623150">is</span> <span m="1623380">better</span> <span
  m="1623580">than</span> <span m="1623740">the</span> <span
  m="1623830">other.</span> <span m="1624960">And</span> <span
  m="1625080">this</span> <span m="1625250">one</span> <span
  m="1625490">looks</span> <span m="1625740">like</span> <span
  m="1626000">the</span> <span m="1626120">naive</span> <span
  m="1626330">algorithm.</span> <span m="1633480">So,</span> <span
  m="1635260">does</span> <span m="1635560">anyone</span> <span
  m="1635890">remember</span> <span m="1636510">what</span> <span
  m="1636830">the</span> <span m="1637730">better</span> <span
  m="1638010">algorithm</span> <span m="1638380">is</span> <span
  m="1638780">for</span> <span m="1638930">weighted</span> <span
  m="1639380">interval</span> <span m="1639660">scheduling?</span></p><p><span
  m="1666710">But</span> <span m="1666840">instead</span> <span
  m="1667170">of</span> <span m="1669630">checking</span> <span
  m="1670020">every</span> <span m="1671080">one</span> <span
  m="1672140">as</span> <span m="1672310">my</span> <span
  m="1672460">potential</span> <span m="1673900">lowest</span> <span
  m="1674300">one,</span> <span m="1675530">it</span> <span
  m="1675790">really</span> <span m="1675990">doesn't</span> <span
  m="1676220">make</span> <span m="1676360">sense</span> <span m="1676760">to do
  that.</span> <span m="1677230">Because</span> <span m="1677780">for</span>
  <span m="1677950">the</span> <span m="1678030">very</span> <span
  m="1678230">small</span> <span m="1678510">ones,</span> <span
  m="1679030">I</span> <span m="1679160">shouldn't</span> <span
  m="1679520">put</span> <span m="1680070">them</span> <span
  m="1680250">as</span> <span m="1680410">my</span> <span
  m="1680570">bottom</span> <span m="1680910">one.</span> <span
  m="1683420">I</span> <span m="1683500">should</span> <span
  m="1683670">try</span> <span m="1684360">the</span> <span
  m="1684460">larger</span> <span m="1684780">ones</span> <span
  m="1685590">first</span> <span m="1686880">as</span> <span
  m="1687060">the</span> <span m="1687140">very</span> <span
  m="1687340">bottom</span> <span m="1687640">one.</span> <span m="1689518">Go
  ahead.</span> <span m="1689940">Oh,</span> <span m="1690110">you're
  not--</span></p><p><span m="1691908">AUDIENCE: You could</span> <span
  m="1692404">create</span> <span m="1692900">a sorted</span> <span
  m="1693396">list</span> <span m="1693892">of</span> <span
  m="1694388">length</span> <span m="1694884">n</span> <span m="1695380">with
  the</span> <span m="1695876">width.</span> <span m="1696868">So</span> <span
  m="1697364">you know</span> <span m="1697860">that</span> <span
  m="1698356">items that are</span> <span m="1698852">later</span> <span
  m="1699348">in the list,</span> <span m="1699844">they're not going to
  be</span> <span m="1700340">in the</span> <span m="1701332">first</span> <span
  m="1702324">level</span> <span m="1702820">of the</span> <span
  m="1703316">tower.</span></p><p><span m="1704330">LING REN: Yeah,</span> <span
  m="1704520">correct.</span> <span m="1706030">So,</span> <span
  m="1707070">just</span> <span m="1707510">in</span> <span
  m="1707640">the</span> <span m="1707770">same</span> <span
  m="1708660">line</span> <span m="1708850">of</span> <span
  m="1708950">thought</span> <span m="1709230">as</span> <span
  m="1709430">weighted</span> <span m="1709830">interval</span> <span
  m="1709950">scheduling,</span> <span m="1710620">let's</span> <span
  m="1710830">first</span> <span m="1711240">sort</span> <span
  m="1711480">them.</span> <span m="1713290">But</span> <span
  m="1713440">then,</span> <span m="1713760">it's</span> <span
  m="1714015">a</span> <span m="1714270">little</span> <span
  m="1714480">tricky</span> <span m="1714770">because</span> <span
  m="1715160">do</span> <span m="1715270">I sort</span> <span
  m="1715690">by</span> <span m="1715970">length</span> <span
  m="1716340">or</span> <span m="1716480">width?</span> <span
  m="1717700">So</span> <span m="1717820">I'm</span> <span
  m="1717930">not</span> <span m="1718090">sure</span> <span
  m="1718320">yet,</span> <span m="1718910">so</span> <span
  m="1719310">let's</span> <span m="1719530">just</span> <span
  m="1719730">sort</span> <span m="1719990">by</span> <span
  m="1720150">length</span> <span m="1723120">and</span> <span
  m="1723330">then</span> <span m="1723550">width.</span> <span
  m="1726790">So</span> <span m="1726960">this</span> <span
  m="1727160">means</span> <span m="1727420">if</span> <span
  m="1727600">they</span> <span m="1728030">have</span> <span
  m="1728230">the</span> <span m="1728320">same</span> <span
  m="1728520">length,</span> <span m="1728790">then</span> <span
  m="1728910">I'll</span> <span m="1729070">sort</span> <span
  m="1729290">them</span> <span m="1729420">by</span> <span
  m="1729550">width.</span> <span m="1730180">So I</span> <span
  m="1730340">can</span> <span m="1730510">create</span> <span
  m="1730770">a</span> <span m="1730830">sorted</span> <span
  m="1731150">list.</span> <span m="1732810">Let</span> <span
  m="1732890">me</span> <span m="1733020">just</span> <span
  m="1733390">assume</span> <span m="1733810">that</span> <span
  m="1734050">it's</span> <span m="1734280">in-place</span> <span
  m="1734410">sort,</span> <span m="1734920">and</span> <span m="1735310">now
  I</span> <span m="1735560">have</span> <span m="1735710">the</span> <span
  m="1735810">sorted</span> <span m="1736120">list.</span> <span
  m="1738570">So</span> <span m="1738640">once</span> <span m="1738860">I</span>
  <span m="1738940">have</span> <span m="1739120">that,</span> <span
  m="1742130">the</span> <span m="1743300">potential</span> <span
  m="1743840">solutions</span> <span m="1744320">I</span> <span
  m="1744370">should</span> <span m="1744540">consider</span> <span
  m="1745020">is</span> <span m="1745210">that</span> <span
  m="1745790">whether</span> <span m="1746040">or</span> <span
  m="1746160">not</span> <span m="1746980">I</span> <span m="1747120">put</span>
  <span m="1747410">my</span> <span m="1747550">first</span> <span
  m="1747850">block</span> <span m="1748220">as</span> <span
  m="1748790">the</span> <span m="1749040">bottom</span> <span
  m="1749350">one.</span> <span m="1751680">It</span> <span
  m="1751790">doesn't</span> <span m="1751970">make</span> <span
  m="1752110">sense</span> <span m="1752360">for</span> <span
  m="1752470">me</span> <span m="1752630">to</span> <span m="1752780">put</span>
  <span m="1752970">a</span> <span m="1753360">later</span> <span
  m="1753650">one</span> <span m="1754020">down.</span> <span
  m="1755470">So</span> <span m="1757730">my</span> <span
  m="1759684">original</span> <span m="1760460">problem</span> <span
  m="1762000">becomes</span> <span m="1762970">taking</span> <span
  m="1763470">the</span> <span m="1763520">max,</span> <span
  m="1765175">and</span> <span m="1765570">whether</span> <span
  m="1766080">or</span> <span m="1766250">not</span> <span m="1766660">I</span>
  <span m="1766830">choose</span> <span m="1767790">block</span> <span
  m="1768250">one.</span> <span m="1769540">If</span> <span m="1769670">I</span>
  <span m="1769760">do,</span> <span m="1771980">then</span> <span
  m="1772110">I</span> <span m="1772240">get</span> <span m="1772440">its</span>
  <span m="1772590">weight--</span> <span m="1773450">height,</span> <span
  m="1773710">sorry.</span> <span m="1775470">And</span> <span
  m="1776180">my</span> <span m="1776510">subproblem</span> <span
  m="1776860">is</span> <span m="1780870">the</span> <span
  m="1780990">ones</span> <span m="1781370">compatible</span> <span
  m="1781900">with</span> <span m="1782080">it.</span></p><p><span
  m="1788300">If</span> <span m="1788490">I</span> <span m="1788640">do</span>
  <span m="1788790">not</span> <span m="1789030">choose</span> <span
  m="1789250">it,</span> <span m="1790880">then</span> <span
  m="1791060">my</span> <span m="1791170">sub</span> <span
  m="1791380">problem</span> <span m="1791770">is</span> <span
  m="1794332">like</span> <span m="1794830">what</span> <span
  m="1795030">Andrew</span> <span m="1795220">first</span> <span
  m="1795290">said,</span> <span m="1796050">from</span> <span
  m="1796310">2</span> <span m="1796620">all</span> <span m="1796930">the
  way</span> <span m="1797120">to n.</span> <span m="1800710">So</span> <span
  m="1802200">why</span> <span m="1802350">is</span> <span
  m="1802470">this</span> <span m="1802640">correct?</span> <span
  m="1804260">So</span> <span m="1804470">I</span> <span
  m="1804570">claim</span> <span m="1805030">this</span> <span
  m="1805650">covers</span> <span m="1806510">all</span> <span
  m="1806540">the</span> <span m="1806610">cases.</span> <span
  m="1808250">Either</span> <span m="1808830">h1</span> <span
  m="1810111">is</span> <span m="1810540">chosen</span> <span
  m="1811070">as</span> <span m="1811290">the</span> <span
  m="1811390">first</span> <span m="1811910">bottom</span> <span
  m="1812160">one,</span> <span m="1812450">or</span> <span
  m="1812830">it's</span> <span m="1813040">not.</span> <span
  m="1813800">It's</span> <span m="1813990">not</span> <span
  m="1814140">chosen</span> <span m="1814420">at all.</span> <span
  m="1815050">It's</span> <span m="1815220">impossible</span> <span
  m="1815780">for</span> <span m="1815980">h1</span> <span m="1816380">to</span>
  <span m="1816510">be</span> <span m="1816990">somewhere</span> <span
  m="1817340">in</span> <span m="1817410">the</span> <span
  m="1817490">middle,</span> <span m="1817990">because</span> <span
  m="1818190">it</span> <span m="1818300">has</span> <span
  m="1818470">the</span> <span m="1818580">longest,</span> <span
  m="1819850">largest</span> <span m="1820280">length.</span> <span
  m="1821960">OK.</span> <span m="1825400">So</span> <span
  m="1825630">how</span> <span m="1825720">many</span> <span
  m="1825970">subproblems</span> <span m="1826120">do</span> <span m="1826470">I
  have?</span> <span m="1838826">Go ahead.</span> <span m="1840320">Still</span>
  <span m="1840600">n.</span> <span m="1843330">So</span> <span
  m="1843880">there are</span> <span m="1844470">all</span> <span
  m="1844650">of</span> <span m="1844750">these</span> <span
  m="1845520">compatible</span> <span m="1845800">set</span> <span
  m="1846080">of</span> <span m="1846516">l1</span> <span m="1847388">w1,</span>
  <span m="1847824">l2</span> <span m="1848360">w2.</span> <span
  m="1849780">But</span> <span m="1850010">it</span> <span
  m="1850630">looks</span> <span m="1850920">like</span> <span
  m="1851150">I</span> <span m="1851220">do</span> <span m="1851410">have</span>
  <span m="1851610">some</span> <span m="1851810">new</span> <span
  m="1851950">subproblems.</span></p><p><span m="1857940">These</span> <span
  m="1858310">do</span> <span m="1858410">not</span> <span
  m="1858660">exist</span> <span m="1859220">before.</span> <span
  m="1862060">However,</span> <span m="1862610">there</span> <span
  m="1862800">are</span> <span m="1862820">only</span> <span
  m="1863630">n</span> <span m="1863830">of</span> <span
  m="1863940">them.</span> <span m="1865860">They're</span> <span
  m="1866000">just</span> <span m="1866250">a</span> <span
  m="1867390">suffix</span> <span m="1868433">of</span> <span
  m="1868856">the</span> <span m="1869280">entire</span> <span
  m="1869590">set.</span> <span m="1870640">So</span> <span m="1870810">I</span>
  <span m="1870910">still</span> <span m="1871210">have</span> <span
  m="1871450">O</span> <span m="1871640">of n</span> <span
  m="1872050">subproblems.</span> <span m="1873240">And</span> <span
  m="1873380">at</span> <span m="1873500">each</span> <span
  m="1873650">step,</span> <span m="1874090">I'm</span> <span
  m="1874340">doing</span> <span m="1876360">constant</span> <span
  m="1876740">amount</span> <span m="1876800">of</span> <span
  m="1876980">work.</span> <span m="1878050">There are</span> <span
  m="1878220">just</span> <span m="1878410">two</span> <span
  m="1878510">items.</span> <span m="1879510">So</span> <span
  m="1881010">we</span> <span m="1881150">found</span> <span
  m="1881430">an</span> <span m="1882180">order</span> <span
  m="1882350">n</span> <span m="1882570">solution.</span> <span
  m="1886200">Are</span> <span m="1886320">we</span> <span
  m="1886410">done?</span> <span m="1887460">Is</span> <span
  m="1887620">it</span> <span m="1887980">really</span> <span
  m="1888550">order</span> <span m="1888690">n?</span> <span
  m="1890700">OK,</span> <span m="1890970">no.</span></p><p><span
  m="1891160">AUDIENCE: You still</span> <span m="1891587">have to find</span>
  <span m="1892014">the c.</span></p><p><span m="1892870">LING REN: Yeah.</span>
  <span m="1893170">I</span> <span m="1893320">still</span> <span
  m="1893550">have</span> <span m="1893740">to</span> <span
  m="1894000">find</span> <span m="1894750">all</span> <span
  m="1894910">these</span> <span m="1895080">c's.</span> <span
  m="1895980">And</span> <span m="1896830">first,</span> <span m="1897180">I
  actually</span> <span m="1897550">have</span> <span m="1898060">a</span> <span
  m="1898120">sort</span> <span m="1898410">step.</span> <span
  m="1899060">That</span> <span m="1899300">sort</span> <span
  m="1899480">step</span> <span m="1899760">is</span> <span m="1900530">n</span>
  <span m="1900580">log n.</span> <span m="1903710">Yeah,</span> <span
  m="1903800">then</span> <span m="1904010">again,</span> <span
  m="1905550">well,</span> <span m="1905830">if we</span> <span
  m="1905960">do</span> <span m="1906080">it</span> <span
  m="1906190">naively,</span> <span m="1906860">then</span> <span
  m="1907310">it's</span> <span m="1908130">again</span> <span
  m="1908560">n</span> <span m="1908720">squared,</span> <span
  m="1910390">because</span> <span m="1910900">I</span> <span
  m="1910990">have</span> <span m="1911150">to</span> <span
  m="1911996">find</span> <span m="1912420">this</span> <span
  m="1912850">compatible</span> <span m="1913290">set,</span> <span
  m="1913640">each</span> <span m="1913820">of</span> <span
  m="1913940">them.</span> <span m="1914720">But</span> <span
  m="1915160">if</span> <span m="1915710">there's</span> <span
  m="1915960">an</span> <span m="1916200">n log n</span> <span
  m="1916520">solution</span> <span m="1916940">to</span> <span
  m="1917130">find</span> <span m="1917590">these</span> <span
  m="1917850">compatible</span> <span m="1918250">sets,</span> <span
  m="1918680">then</span> <span m="1918890">my</span> <span
  m="1919220">final</span> <span m="1919460">runtime</span> <span
  m="1919800">is</span> <span m="1919900">n</span> <span m="1920050">log
  n.</span> <span m="1925530">Make</span> <span m="1925720">sense?</span> <span
  m="1937780">Any</span> <span m="1937850">questions</span> <span m="1938220">so
  far?</span></p><p><span m="1949050">OK.</span> <span m="1950400">So</span>
  <span m="1951360">now</span> <span m="1951580">we</span> <span
  m="1951690">actually</span> <span m="1951960">have</span> <span
  m="1952200">a</span> <span m="1952690">choice.</span> <span
  m="1954490">So</span> <span m="1954730">we</span> <span m="1954860">can</span>
  <span m="1955360">either</span> <span m="1957700">go</span> <span
  m="1957870">through</span> <span m="1958050">another</span> <span
  m="1958440">DP</span> <span m="1958770">example,</span> <span
  m="1959560">I</span> <span m="1959660">do</span> <span m="1959710">have</span>
  <span m="1959890">another</span> <span m="1960130">one.</span> <span
  m="1960835">But</span> <span m="1962340">Nancy,</span> <span
  m="1962940">one</span> <span m="1963100">of</span> <span
  m="1963190">the</span> <span m="1963250">lecturers</span> <span
  m="1963580">suggested,</span> <span m="1964150">that</span> <span
  m="1964510">it</span> <span m="1964710">seems</span> <span
  m="1965250">that</span> <span m="1965500">many</span> <span
  m="1965740">people</span> <span m="1966060">have</span> <span
  m="1966240">some</span> <span m="1966690">trouble</span> <span
  m="1967020">understanding</span> <span m="1967560">yesterday's</span> <span
  m="1967990">lecture</span> <span m="1968420">on</span> <span
  m="1968800">universal</span> <span m="1969370">hashing</span> <span
  m="1969720">and perfect</span> <span m="1970100">hashing.</span> <span
  m="1970850">So</span> <span m="1971000">we</span> <span m="1971100">can</span>
  <span m="1971210">also</span> <span m="1971450">consider</span> <span
  m="1972690">going</span> <span m="1972910">through</span> <span
  m="1973050">that.</span> <span m="1974130">Well,</span> <span
  m="1974430">of</span> <span m="1974540">course,</span> <span
  m="1974720">the</span> <span m="1974820">third</span> <span
  m="1975010">option</span> <span m="1975250">is</span> <span
  m="1975410">to</span> <span m="1975540">just</span> <span
  m="1975750">call</span> <span m="1975910">it</span> <span m="1975990">a</span>
  <span m="1976090">day.</span> <span m="1979300">So,</span> <span
  m="1979990">let</span> <span m="1980100">me</span> <span
  m="1980220">just</span> <span m="1980960">take a poll.</span> <span
  m="1981620">How</span> <span m="1981710">many</span> <span
  m="1981980">people</span> <span m="1983160">before</span> <span
  m="1983610">we</span> <span m="1983790">go</span> <span
  m="1983990">over</span> <span m="1984170">the</span> <span
  m="1984250">hash</span> <span m="1984770">stuff?</span> <span
  m="1988780">How</span> <span m="1988890">many</span> <span
  m="1989110">people</span> <span m="1989420">prefer</span> <span
  m="1990110">another</span> <span m="1990400">DP</span> <span
  m="1990600">example?</span> <span m="1994100">OK.</span> <span
  m="1994390">Sorry</span> <span m="1994630">guys.</span> <span
  m="1995400">How</span> <span m="1995490">many</span> <span
  m="1995670">people</span> <span m="1995910">just</span> <span
  m="1996050">want</span> <span m="1996180">to</span> <span
  m="1996260">leave?</span> <span m="1997980">It's</span> <span
  m="1998130">fine.</span> <span m="1998575">OK.</span> <span
  m="1999020">Great.</span> <span m="1999370">That's</span> <span
  m="1999560">it.</span></p><p><span m="2003740">OK.</span> <span
  m="2003940">So,</span> <span m="2004450">so</span> <span
  m="2004570">much</span> <span m="2004760">for</span> <span
  m="2004850">DP.</span> <span m="2006270">We</span> <span m="2006410">do</span>
  <span m="2006540">have</span> <span m="2006700">another</span> <span
  m="2006910">example.</span> <span m="2007470">We</span> <span
  m="2007510">will</span> <span m="2007610">release</span> <span m="2007780">it
  in</span> <span m="2008110">recitation</span> <span m="2008550">notes.</span>
  <span m="2008940">For</span> <span m="2009040">those</span> <span
  m="2009220">of</span> <span m="2009310">you</span> <span
  m="2009440">who</span> <span m="2009520">are</span> <span
  m="2009630">interested,</span> <span m="2010510">you</span> <span
  m="2010610">can</span> <span m="2010620">take</span> <span
  m="2010750">a</span> <span m="2010800">look.</span> <span
  m="2012140">So,</span> <span m="2012670">well,</span> <span
  m="2014490">sure</span> <span m="2014670">you all</span> <span
  m="2014950">know</span> <span m="2015220">that</span> <span
  m="2015980">we</span> <span m="2016180">haven't</span> <span
  m="2017120">go</span> <span m="2017230">into</span> <span
  m="2017490">DP</span> <span m="2017960">in the</span> <span
  m="2018050">main</span> <span m="2018260">lectures</span> <span
  m="2018590">yet.</span> <span m="2019120">So</span> <span
  m="2019260">this</span> <span m="2019430">is</span> <span
  m="2019660">really</span> <span m="2019920">just</span> <span
  m="2020150">a</span> <span m="2020210">warm</span> <span m="2020430">up</span>
  <span m="2021960">to</span> <span m="2022090">prepare</span> <span
  m="2022510">you</span> <span m="2022970">to</span> <span m="2023180">go</span>
  <span m="2023340">to</span> <span m="2023480">the</span> <span
  m="2023720">more</span> <span m="2024130">advanced</span> <span
  m="2024420">DP</span> <span m="2024710">concepts.</span> <span
  m="2025690">And</span> <span m="2026160">also,</span> <span
  m="2026800">DP</span> <span m="2027490">will</span> <span
  m="2027690">be</span> <span m="2027830">covered</span> <span
  m="2028105">in</span> <span m="2028380">quiz</span> <span
  m="2028600">1.</span> <span m="2030270">But</span> <span
  m="2031680">the</span> <span m="2031800">difficulty</span> <span
  m="2032820">will be</span> <span m="2033240">strictly</span> <span
  m="2034000">easier</span> <span m="2034880">than</span> <span
  m="2035520">the</span> <span m="2035800">examples</span> <span
  m="2036320">we</span> <span m="2036680">covered</span> <span
  m="2036940">here.</span> <span m="2041368">OK?</span></p><p><span
  m="2068460">Now</span> <span m="2068679">let's</span> <span
  m="2070010">review</span> <span m="2070639">universal</span> <span
  m="2071179">and</span> <span m="2071310">perfect</span> <span
  m="2071630">hashing.</span> <span m="2072510">So</span> <span
  m="2072650">it's</span> <span m="2073060">not</span> <span
  m="2073440">like</span> <span m="2073760">I</span> <span
  m="2074020">have</span> <span m="2074179">a</span> <span
  m="2074290">better</span> <span m="2074449">way</span> <span
  m="2074620">to</span> <span m="2074739">teach</span> <span
  m="2074980">it.</span> <span m="2075960">Our</span> <span
  m="2076159">advantage</span> <span m="2076600">here</span> <span
  m="2076850">is</span> <span m="2076960">that</span> <span
  m="2077100">we</span> <span m="2077230">have</span> <span
  m="2077429">fewer</span> <span m="2077650">people,</span> <span
  m="2078010">so</span> <span m="2078110">you</span> <span
  m="2078230">can</span> <span m="2078330">ask</span> <span
  m="2078989">questions</span> <span m="2079449">you</span> <span
  m="2079679">have.</span> <span m="2081460">So</span> <span
  m="2081670">let</span> <span m="2081770">me</span> <span
  m="2082090">start</span> <span m="2082480">with</span> <span
  m="2082650">the</span> <span m="2082730">motivating</span> <span
  m="2083199">example.</span> <span m="2083719">So</span> <span
  m="2083920">why</span> <span m="2084040">do</span> <span m="2084130">we</span>
  <span m="2084230">care</span> <span m="2084380">about</span> <span
  m="2084550">hash?</span> <span m="2087520">It's</span> <span
  m="2087699">because</span> <span m="2090110">we</span> <span
  m="2090230">want</span> <span m="2090400">to</span> <span
  m="2090520">create</span> <span m="2090840">a</span> <span
  m="2090900">hash</span> <span m="2091100">table</span> <span
  m="2092770">of,</span> <span m="2093150">say,</span> <span
  m="2093590">n.</span> <span m="2094860">It has</span> <span
  m="2095150">n</span> <span m="2095400">bins.</span> <span m="2100170">And
  we</span> <span m="2100300">will</span> <span m="2100600">receive</span> <span
  m="2101150">input,</span> <span m="2102450">say,</span> <span
  m="2102610">k0,</span> <span m="2103380">k1,</span> <span
  m="2103930">all</span> <span m="2104400">the way</span> <span
  m="2104820">to</span> <span m="2105260">k</span> <span m="2106020">n</span>
  <span m="2106160">minus</span> <span m="2106450">1.</span> <span
  m="2107340">n</span> <span m="2107560">keys.</span> <span
  m="2108610">And</span> <span m="2108780">we'll</span> <span
  m="2109030">create</span> <span m="2109280">a</span> <span
  m="2109300">hash</span> <span m="2109520">function</span> <span
  m="2109910">to</span> <span m="2110000">each</span> <span
  m="2110230">of</span> <span m="2110350">them</span> <span
  m="2112110">to</span> <span m="2112240">map</span> <span
  m="2112490">them</span> <span m="2112720">to</span> <span
  m="2112950">one</span> <span m="2113180">of</span> <span
  m="2113310">the</span> <span m="2113560">bins.</span> <span
  m="2114580">That</span> <span m="2114720">the</span> <span
  m="2114780">hope</span> <span m="2115060">is</span> <span
  m="2115300">that</span> <span m="2118470">if</span> <span m="2118800">n</span>
  <span m="2118950">is</span> <span m="2120920">theta</span> <span
  m="2121230">m,</span> <span m="2122220">or</span> <span m="2122480">in
  the</span> <span m="2122750">other</span> <span m="2122910">way,</span> <span
  m="2123140">m</span> <span m="2123250">is</span> <span
  m="2123420">theta</span> <span m="2123600">n,</span> <span
  m="2124490">then</span> <span m="2124760">each</span> <span
  m="2125030">bin</span> <span m="2125290">should</span> <span
  m="2125520">contain</span> <span m="2126040">a</span> <span
  m="2126110">constant</span> <span m="2126450">number</span> <span
  m="2126660">of</span> <span m="2126760">keys.</span></p><p><span
  m="2130310">So</span> <span m="2130480">to</span> <span
  m="2130610">complete</span> <span m="2130910">the</span> <span
  m="2130990">picture,</span> <span m="2132370">all</span> <span
  m="2132540">the</span> <span m="2132670">keys</span> <span
  m="2132920">are</span> <span m="2133250">drawn</span> <span
  m="2133580">from</span> <span m="2133860">a</span> <span
  m="2133900">universe</span> <span m="2135470">that</span> <span
  m="2135660">has</span> <span m="2135880">size</span> <span
  m="2139260">u.</span> <span m="2140060">And</span> <span
  m="2140200">this</span> <span m="2140340">u is</span> <span
  m="2140770">usually</span> <span m="2141140">pretty</span> <span
  m="2141380">large.</span> <span m="2142420">Let's say</span> <span
  m="2142710">it's</span> <span m="2143010">larger</span> <span
  m="2143370">than</span> <span m="2144110">m</span> <span
  m="2144260">squared.</span> <span m="2146010">It's</span> <span
  m="2146190">larger</span> <span m="2146810">than</span> <span
  m="2147490">the</span> <span m="2147570">square</span> <span
  m="2147830">of</span> <span m="2147900">my</span> <span
  m="2148050">hash</span> <span m="2148230">table</span> <span
  m="2148480">size.</span> <span m="2152600">But</span> <span m="2153435">let
  me</span> <span m="2153830">first</span> <span m="2155590">start</span> <span
  m="2155960">with</span> <span m="2156160">a</span> <span
  m="2156380">negative</span> <span m="2156970">result.</span> <span
  m="2165090">So</span> <span m="2165380">if</span> <span m="2167880">my</span>
  <span m="2168060">hash</span> <span m="2168330">function</span> <span
  m="2170950">is</span> <span m="2171170">deterministic,</span> <span
  m="2178580">then</span> <span m="2179950">there</span> <span
  m="2180210">always</span> <span m="2180690">exists</span> <span
  m="2181490">a</span> <span m="2181600">series</span> <span
  m="2181990">of</span> <span m="2182100">input</span> <span
  m="2183630">that</span> <span m="2184240">all</span> <span
  m="2184450">map</span> <span m="2184670">to</span> <span
  m="2184780">the</span> <span m="2184870">same</span> <span
  m="2185100">thing.</span> <span m="2191630">We</span> <span
  m="2191900">call</span> <span m="2191990">that</span> <span
  m="2192230">worst</span> <span m="2192540">case.</span> <span
  m="2198280">We</span> <span m="2198750">don't</span> <span
  m="2198860">like</span> <span m="2199050">the</span> <span
  m="2199140">worst</span> <span m="2199370">case.</span> <span
  m="2199720">Why?</span> <span m="2200330">Because</span> <span
  m="2200590">in</span> <span m="2200690">that</span> <span
  m="2200870">case,</span> <span m="2201080">the</span> <span
  m="2201150">hash</span> <span m="2201400">is</span> <span
  m="2201530">not</span> <span m="2201690">doing</span> <span
  m="2201900">anything.</span> <span m="2202320">We</span> <span
  m="2202620">still</span> <span m="2202860">have</span> <span
  m="2203070">all</span> <span m="2203490">of</span> <span
  m="2203600">the</span> <span m="2203660">items</span> <span
  m="2204040">in</span> <span m="2204130">the</span> <span
  m="2205000">same</span> <span m="2205240">list.</span></p><p><span
  m="2216420">Why</span> <span m="2216560">is</span> <span
  m="2216660">that</span> <span m="2216890">lemma</span> <span
  m="2217070">true?</span> <span m="2218220">Because</span> <span
  m="2218550">by</span> <span m="2218680">a</span> <span m="2218720">very</span>
  <span m="2218960">simple</span> <span m="2220580">pigeonhole</span> <span
  m="2221180">argument,</span> <span m="2223050">so</span> <span
  m="2223560">imagine</span> <span m="2224500">I</span> <span
  m="2224660">insert</span> <span m="2227130">all</span> <span
  m="2227460">of</span> <span m="2227600">the</span> <span
  m="2227940">keys</span> <span m="2228100">in</span> <span
  m="2228210">the</span> <span m="2228270">universe</span> <span
  m="2228730">into</span> <span m="2228950">my hash</span> <span
  m="2229260">table.</span> <span m="2229740">I</span> <span
  m="2229850">would</span> <span m="2229990">never</span> <span
  m="2230150">do</span> <span m="2230280">that</span> <span
  m="2230440">in</span> <span m="2230520">practice.</span> <span
  m="2230960">It's</span> <span m="2231060">just</span> <span
  m="2231270">a</span> <span m="2231350">thought</span> <span
  m="2231560">experiment.</span> <span m="2232590">So</span> <span
  m="2232850">by</span> <span m="2233020">a</span> <span
  m="2233100">simple</span> <span m="2233420">pigeonhole</span> <span
  m="2233700">argument,</span> <span m="2234760">if</span> <span
  m="2234990">u</span> <span m="2235220">is</span> <span
  m="2235360">greater</span> <span m="2235590">than</span> <span
  m="2235770">m</span> <span m="2235920">squared,</span> <span
  m="2236430">then</span> <span m="2237670">at</span> <span
  m="2237880">least</span> <span m="2238200">some</span> <span
  m="2238430">bin</span> <span m="2238780">will</span> <span
  m="2239010">contain</span> <span m="2239880">more</span> <span
  m="2240040">than</span> <span m="2240320">m</span> <span
  m="2240770">elements.</span> <span m="2243020">Well,</span> <span
  m="2243340">if</span> <span m="2243480">it</span> <span
  m="2243570">just</span> <span m="2243720">so</span> <span
  m="2243850">happens</span> <span m="2244390">that</span> <span
  m="2244780">my</span> <span m="2244980">inputs</span> <span
  m="2245390">are</span> <span m="2245570">these</span> <span
  m="2245920">m</span> <span m="2246160">keys,</span> <span
  m="2246910">then</span> <span m="2247120">my</span> <span m="2247240">hash
  will</span> <span m="2247680">hash</span> <span m="2248140">all</span> <span
  m="2248230">of</span> <span m="2248330">them</span> <span
  m="2248490">to</span> <span m="2248600">the</span> <span
  m="2248700">same</span> <span m="2248900">bin.</span> <span m="2250180">Make
  sense?</span> <span m="2252980">So</span> <span m="2253850">this</span> <span
  m="2254030">is</span> <span m="2254420">the</span> <span
  m="2254520">problem</span> <span m="2254820">we're</span> <span
  m="2254960">trying</span> <span m="2255160">to</span> <span
  m="2255240">solve.</span> <span m="2255490">We</span> <span
  m="2255620">don't</span> <span m="2255780">want</span> <span
  m="2255960">this</span> <span m="2256120">worst</span> <span
  m="2256390">case.</span> <span m="2257490">And</span> <span
  m="2257700">it</span> <span m="2257770">does</span> <span
  m="2257950">say</span> <span m="2258170">that</span> <span
  m="2258520">if</span> <span m="2258720">h</span> <span m="2258950">is</span>
  <span m="2259090">deterministic,</span> <span m="2260010">we</span> <span
  m="2260170">cannot</span> <span m="2260460">avoid</span> <span
  m="2260760">that.</span> <span m="2261580">There</span> <span
  m="2261700">always</span> <span m="2262040">exist</span> <span
  m="2262350">a</span> <span m="2262430">worst</span> <span
  m="2262680">case.</span> <span m="2263190">So</span> <span
  m="2263810">what's</span> <span m="2263990">the</span> <span
  m="2264100">solution?</span> <span m="2268050">Then</span> <span
  m="2268210">the</span> <span m="2268300">solution</span> <span
  m="2268860">is</span> <span m="2269080">to</span> <span
  m="2269260">randomize</span> <span m="2272230">h.</span></p><p><span
  m="2275960">However,</span> <span m="2277930">I</span> <span
  m="2278410">can't</span> <span m="2278720">really</span> <span
  m="2279000">randomize</span> <span m="2279500">h.</span> <span
  m="2281420">If</span> <span m="2283910">h</span> <span m="2284862">take</span>
  <span m="2285340">some</span> <span m="2285560">key,</span> <span
  m="2286880">if</span> <span m="2287290">my</span> <span
  m="2287450">hash</span> <span m="2287640">function</span> <span
  m="2287970">maps</span> <span m="2288190">a</span> <span
  m="2288280">key</span> <span m="2288630">into</span> <span
  m="2288970">a</span> <span m="2289040">certain</span> <span
  m="2289420">bin,</span> <span m="2290100">well,</span> <span
  m="2290740">the</span> <span m="2290850">next</span> <span
  m="2291090">time</span> <span m="2291380">I</span> <span
  m="2291470">call</span> <span m="2291680">this hash</span> <span
  m="2291980">function,</span> <span m="2292410">it</span> <span
  m="2292530">better</span> <span m="2292820">give</span> <span
  m="2293020">the</span> <span m="2293130">same</span> <span
  m="2293340">bin.</span> <span m="2293990">Otherwise</span> <span
  m="2294360">I</span> <span m="2294410">cannot</span> <span
  m="2294720">find</span> <span m="2294930">that</span> <span
  m="2296230">item.</span> <span m="2297900">So</span> <span
  m="2298680">h</span> <span m="2301010">needs</span> <span
  m="2301230">to</span> <span m="2301360">be</span> <span
  m="2301600">deterministic.</span> <span m="2307710">So</span> <span
  m="2307940">now</span> <span m="2308360">our</span> <span
  m="2308550">only</span> <span m="2309280">choice</span> <span
  m="2310320">is</span> <span m="2310550">to</span> <span
  m="2313420">pick</span> <span m="2313710">a</span> <span
  m="2313780">random</span> <span m="2314130">h.</span> <span
  m="2318070">Make</span> <span m="2318200">sense?</span> <span
  m="2318840">Every</span> <span m="2319150">hash</span> <span
  m="2319360">function</span> <span m="2319740">is</span> <span
  m="2319880">deterministic,</span> <span m="2320570">but</span> <span
  m="2320770">we</span> <span m="2320880">will</span> <span
  m="2321080">pick</span> <span m="2321950">a</span> <span
  m="2322090">random</span> <span m="2322440">one</span> <span
  m="2323030">from</span> <span m="2325152">a</span> <span
  m="2325650">family</span> <span m="2326150">of</span> <span
  m="2326260">hash</span> <span m="2326520">functions.</span> <span
  m="2331190">So</span> <span m="2331220">in</span> <span
  m="2331370">some</span> <span m="2331550">sense,</span> <span
  m="2332370">this</span> <span m="2332530">is</span> <span
  m="2332690">cheating.</span> <span m="2333320">Why?</span> <span
  m="2333950">Because</span> <span m="2334290">all</span> <span
  m="2334430">I'm</span> <span m="2334560">saying</span> <span
  m="2334940">is</span> <span m="2335450">I</span> <span m="2335590">will</span>
  <span m="2335790">not</span> <span m="2337040">choose</span> <span
  m="2337290">a</span> <span m="2337680">hash</span> <span
  m="2337880">function</span> <span m="2338210">beforehand.</span> <span
  m="2339030">I</span> <span m="2339140">will</span> <span
  m="2339330">wait</span> <span m="2339600">for</span> <span
  m="2341320">the</span> <span m="2341440">user</span> <span
  m="2341840">to</span> <span m="2342110">insert</span> <span
  m="2342540">inputs.</span> <span m="2345070">If</span> <span
  m="2345420">I</span> <span m="2345570">have</span> <span
  m="2345920">too</span> <span m="2346030">many</span> <span
  m="2346230">collisions,</span> <span m="2346860">I'll</span> <span
  m="2347260">choose</span> <span m="2347390">another</span> <span
  m="2347640">one.</span> <span m="2348380">If</span> <span m="2348530">I</span>
  <span m="2348610">have</span> <span m="2348770">too</span> <span
  m="2348880">many</span> <span m="2349080">collisions.</span> <span
  m="2349470">I'll choose</span> <span m="2349820">another</span> <span
  m="2350090">one.</span></p><p><span m="2353080">OK.</span> <span
  m="2353600">I</span> <span m="2353680">think</span> <span m="2353850">I</span>
  <span m="2353900">forgot</span> <span m="2354170">to</span> <span
  m="2354250">mention</span> <span m="2354510">one</span> <span
  m="2354680">thing</span> <span m="2354850">that's</span> <span
  m="2355010">important.</span> <span m="2355450">So</span> <span
  m="2356190">you</span> <span m="2356340">may</span> <span
  m="2356420">ask</span> <span m="2356690">why</span> <span
  m="2356870">do</span> <span m="2357010">I</span> <span
  m="2357070">care?</span> <span m="2357550">Why</span> <span
  m="2357600">do</span> <span m="2357710">I</span> <span m="2357780">care</span>
  <span m="2357970">about</span> <span m="2358150">that</span> <span
  m="2358730">worst</span> <span m="2359100">case?</span> <span
  m="2359670">What's</span> <span m="2359880">the</span> <span
  m="2359940">chance</span> <span m="2360220">of</span> <span
  m="2360330">it</span> <span m="2360430">happening</span> <span
  m="2360980">in</span> <span m="2361100">practice?</span> <span
  m="2363190">It's</span> <span m="2363710">very</span> <span
  m="2363780">low,</span> <span m="2364280">but</span> <span
  m="2365840">in</span> <span m="2366280">algorithms,</span> <span
  m="2367360">we</span> <span m="2367560">really</span> <span
  m="2367750">don't</span> <span m="2367930">like</span> <span
  m="2368270">making</span> <span m="2368630">assumptions</span> <span
  m="2369630">on</span> <span m="2369980">inputs.</span> <span
  m="2370800">Why?</span> <span m="2371140">Because</span> <span
  m="2371460">if</span> <span m="2371580">you</span> <span
  m="2371690">imagine</span> <span m="2372100">you're</span> <span
  m="2372340">running,</span> <span m="2372990">say,</span> <span m="2373300">a
  website,</span> <span m="2373720">a web server,</span> <span
  m="2374310">and</span> <span m="2375280">you</span> <span
  m="2375600">code</span> <span m="2375940">has</span> <span
  m="2376060">some</span> <span m="2376360">has table</span> <span
  m="2376710">in it.</span> <span m="2377910">So</span> <span
  m="2378180">if</span> <span m="2378320">your</span> <span
  m="2378500">competitor,</span> <span m="2379330">or</span> <span
  m="2379740">someone</span> <span m="2380020">who</span> <span
  m="2380300">hates</span> <span m="2380490">you,</span> <span
  m="2381370">wants</span> <span m="2381590">to</span> <span
  m="2381750">put</span> <span m="2381940">you</span> <span
  m="2382060">out</span> <span m="2382200">of</span> <span
  m="2382290">business,</span> <span m="2383250">and</span> <span
  m="2383640">if</span> <span m="2383800">he</span> <span
  m="2383920">knows</span> <span m="2384260">your</span> <span
  m="2384420">hash</span> <span m="2384620">function,</span> <span
  m="2385330">he</span> <span m="2385440">can</span> <span
  m="2385580">create</span> <span m="2385900">a</span> <span m="2386000">worst
  case</span> <span m="2386400">input.</span> <span m="2388090">That</span>
  <span m="2388320">will</span> <span m="2388440">make</span> <span
  m="2388640">your</span> <span m="2388730">website</span> <span
  m="2389310">infinitely</span> <span m="2389760">slow.</span></p><p><span
  m="2391100">So</span> <span m="2391490">what</span> <span m="2391690">we
  are</span> <span m="2391900">saying</span> <span m="2392180">here</span> <span
  m="2392500">is</span> <span m="2393060">I</span> <span
  m="2393540">don't</span> <span m="2393880">tell</span> <span
  m="2394100">him</span> <span m="2394340">what</span> <span
  m="2395030">hash</span> <span m="2395240">function</span> <span
  m="2395700">I'll use.</span> <span m="2396280">I'll</span> <span
  m="2396590">say</span> <span m="2396860">I</span> <span
  m="2396940">choose</span> <span m="2397160">one.</span> <span
  m="2397780">If</span> <span m="2397990">he</span> <span
  m="2398340">figures</span> <span m="2398680">out</span> <span
  m="2398890">the</span> <span m="2399720">wrong</span> <span
  m="2400080">input,</span> <span m="2400520">the</span> <span
  m="2400660">worst</span> <span m="2400860">case</span> <span
  m="2401040">input,</span> <span m="2401340">I'm</span> <span
  m="2401510">going</span> <span m="2401720">to</span> <span
  m="2402580">change</span> <span m="2402810">my hash</span> <span
  m="2403090">function</span> <span m="2403630">and</span> <span
  m="2403860">use</span> <span m="2404070">another</span> <span
  m="2404200">one.</span> <span m="2406350">Make</span> <span
  m="2406510">sense?</span></p><p><span m="2423740">Now</span> <span
  m="2424410">the</span> <span m="2424630">definition</span> <span
  m="2425220">of</span> <span m="2425320">universal</span> <span
  m="2425850">hash</span> <span m="2426050">function</span> <span
  m="2433050">is</span> <span m="2433290">that</span> <span
  m="2434420">if</span> <span m="2434620">I</span> <span m="2434730">pick</span>
  <span m="2434970">a</span> <span m="2435240">random</span> <span
  m="2435510">h</span> <span m="2437100">from</span> <span m="2437380">my</span>
  <span m="2437970">universal</span> <span m="2438450">hash</span> <span
  m="2438610">function</span> <span m="2438920">family,</span> <span
  m="2439960">the</span> <span m="2440080">probability</span> <span
  m="2441050">that</span> <span m="2442160">any</span> <span
  m="2442872">key</span> <span m="2443230">i</span> <span
  m="2444570">mapped</span> <span m="2444820">to</span> <span
  m="2444940">the</span> <span m="2447830">same</span> <span
  m="2448240">bin</span> <span m="2448610">as</span> <span
  m="2448890">any</span> <span m="2449130">key j</span> <span
  m="2449956">should</span> <span m="2450370">be</span> <span
  m="2450570">less</span> <span m="2451050">or</span> <span
  m="2451220">equal</span> <span m="2451520">than</span> <span
  m="2454170">1</span> <span m="2454380">over</span> <span m="2454560">m,</span>
  <span m="2454960">where</span> <span m="2455150">m</span> <span m="2455490">is
  my</span> <span m="2455620">hash</span> <span m="2455840">table.</span> <span
  m="2456530">This</span> <span m="2456690">is</span> <span
  m="2456840">really</span> <span m="2457060">the</span> <span
  m="2457160">best</span> <span m="2457380">you</span> <span
  m="2457480">can</span> <span m="2457630">get.</span> <span m="2457940">If
  the</span> <span m="2458220">hash</span> <span m="2458390">function</span>
  <span m="2458710">is</span> <span m="2458860">really</span> <span
  m="2459620">evenly</span> <span m="2459980">distributing</span> <span
  m="2460520">things,</span> <span m="2461440">you</span> <span
  m="2461530">should</span> <span m="2461720">get</span> <span
  m="2461880">this</span> <span m="2462030">property.</span></p><p><span
  m="2467970">So</span> <span m="2468300">we</span> <span
  m="2468420">have</span> <span m="2468610">seen</span> <span
  m="2469320">one</span> <span m="2469950">universal</span> <span
  m="2470390">hash</span> <span m="2470950">function</span> <span
  m="2471790">in</span> <span m="2471890">the</span> <span
  m="2471970">class.</span> <span m="2473700">I'll</span> <span
  m="2473930">just</span> <span m="2474400">go</span> <span
  m="2474510">over</span> <span m="2474730">the</span> <span
  m="2474860">other</span> <span m="2475000">example,</span> <span
  m="2476030">which</span> <span m="2476260">is</span> <span
  m="2477310">ak</span> <span m="2478270">plus</span> <span m="2478790">b</span>
  <span m="2480860">modulo</span> <span m="2481360">p,</span> <span
  m="2484810">and</span> <span m="2484990">then</span> <span
  m="2485210">modulo</span> <span m="2485540">m.</span> <span
  m="2487470">So</span> <span m="2488070">p</span> <span m="2488790">is</span>
  <span m="2489930">a</span> <span m="2490250">prime</span> <span
  m="2490520">number</span> <span m="2491470">that</span> <span
  m="2491710">is</span> <span m="2492390">greater</span> <span
  m="2492770">than</span> <span m="2492930">the</span> <span
  m="2493020">universe</span> <span m="2493340">size.</span> <span
  m="2496760">We'll</span> <span m="2496940">see</span> <span
  m="2497120">why</span> <span m="2497340">this</span> <span
  m="2497530">is</span> <span m="2497670">a</span> <span
  m="2497710">universal</span> <span m="2498210">hash</span> <span
  m="2498410">function.</span> <span m="2501730">So</span> <span
  m="2502220">to</span> <span m="2502330">do</span> <span
  m="2502460">that,</span> <span m="2502810">we</span> <span
  m="2502910">just</span> <span m="2503000">need</span> <span m="2503100">to
  analyze</span> <span m="2503650">the</span> <span m="2504150">collision</span>
  <span m="2504490">probability.</span> <span m="2505690">So</span> <span
  m="2505830">if</span> <span m="2506050">I</span> <span m="2506140">have</span>
  <span m="2506360">two</span> <span m="2506580">key,</span> <span
  m="2507440">that</span> <span m="2508470">k1</span> <span
  m="2508620">and</span> <span m="2508960">k2</span> <span m="2509350">that
  map</span> <span m="2509750">to the</span> <span m="2509870">same</span> <span
  m="2510090">bin,</span> <span m="2510800">that</span> <span
  m="2511050">means</span> <span m="2516700">they</span> <span
  m="2516960">must</span> <span m="2517320">have</span> <span
  m="2517880">this</span> <span m="2518110">property.</span> <span
  m="2519780">After</span> <span m="2520640">taking</span> <span
  m="2520970">the</span> <span m="2521020">mod</span> <span
  m="2521240">m,</span> <span m="2521990">their</span> <span
  m="2522180">difference</span> <span m="2522650">should</span> <span
  m="2522870">be</span> <span m="2523090">a</span> <span
  m="2523150">multiple</span> <span m="2523510">of</span> <span
  m="2523680">m.</span> <span m="2525600">Because</span> <span
  m="2526640">if</span> <span m="2526860">this</span> <span
  m="2527010">is</span> <span m="2527150">true</span> <span
  m="2527540">after</span> <span m="2527910">taking</span> <span
  m="2528260">the</span> <span m="2528400">modulo</span> <span
  m="2528880">m,</span> <span m="2529540">they</span> <span
  m="2529640">will</span> <span m="2529780">map</span> <span
  m="2530030">to</span> <span m="2530130">the</span> <span
  m="2530230">same</span> <span m="2530430">bin.</span> <span
  m="2532410">Make</span> <span m="2532550">sense?</span></p><p><span
  m="2534620">Now</span> <span m="2535080">I</span> <span m="2535180">can</span>
  <span m="2535370">quickly</span> <span m="2535970">write</span> <span
  m="2536180">it</span> <span m="2536300">as</span> <span m="2540190">a</span>
  <span m="2540410">times</span> <span m="2541130">the</span> <span
  m="2541290">difference</span> <span m="2541640">of</span> <span
  m="2541760">the</span> <span m="2541870">key</span> <span
  m="2542510">equals</span> <span m="2542850">a</span> <span
  m="2542910">multiple</span> <span m="2543270">of m,</span> <span
  m="2545030">mod</span> <span m="2545376">p.</span> <span
  m="2547920">Now,</span> <span m="2548370">k1</span> <span
  m="2548540">and</span> <span m="2549030">k2</span> <span
  m="2550100">are</span> <span m="2550320">not</span> <span
  m="2550540">equal,</span> <span m="2551420">so</span> <span
  m="2552070">they</span> <span m="2552200">are</span> <span
  m="2552310">nonzero.</span> <span m="2553620">And</span> <span
  m="2554310">in</span> <span m="2554460">this</span> <span
  m="2554650">group,</span> <span m="2555950">based</span> <span
  m="2556170">on</span> <span m="2556280">some</span> <span
  m="2556420">number</span> <span m="2556690">theory,</span> <span
  m="2556820">we</span> <span m="2557220">have</span> <span
  m="2557420">an</span> <span m="2557520">inverse</span> <span
  m="2557970">element</span> <span m="2558330">for</span> <span
  m="2558510">it.</span> <span m="2559050">So,</span> <span
  m="2560170">if</span> <span m="2561030">this</span> <span
  m="2561200">happens,</span> <span m="2561610">we'll</span> <span
  m="2561790">call</span> <span m="2561990">it</span> <span m="2562080">a</span>
  <span m="2562150">bad</span> <span m="2562450">a.</span> <span
  m="2563670">How</span> <span m="2563810">many</span> <span
  m="2564030">bad</span> <span m="2564260">a's</span> <span m="2564460">do
  I</span> <span m="2564840">have?</span> <span m="2567785">One</span> <span
  m="2568040">of</span> <span m="2568160">a</span> <span m="2568590">will</span>
  <span m="2568810">make</span> <span m="2569140">this</span> <span
  m="2570320">equation</span> <span m="2570770">holds</span> <span
  m="2571100">with</span> <span m="2571290">i</span> <span
  m="2571410">equals</span> <span m="2571640">1.</span> <span
  m="2572510">Another</span> <span m="2572860">a</span> <span
  m="2573360">make</span> <span m="2573560">the</span> <span
  m="2573670">equation</span> <span m="2573990">holds</span> <span
  m="2574200">with</span> <span m="2574370">i</span> <span
  m="2574930">equals</span> <span m="2575180">2.</span> <span
  m="2576090">But</span> <span m="2576340">how</span> <span
  m="2576500">many</span> <span m="2576850">such</span> <span
  m="2577130">a's</span> <span m="2577620">do</span> <span m="2577720">I</span>
  <span m="2577820">have?</span> <span m="2579120">At</span> <span
  m="2579330">most,</span> <span m="2580920">because</span> <span
  m="2581120">this</span> <span m="2581460">equation</span> <span
  m="2581860">can</span> <span m="2581990">hold</span> <span
  m="2582250">with</span> <span m="2582460">m,</span> <span
  m="2582903">2m,</span> <span m="2583790">3m,</span> <span m="2584950">all
  the</span> <span m="2585170">way</span> <span m="2585350">to</span> <span
  m="2587670">p</span> <span m="2587860">over</span> <span m="2588050">m</span>
  <span m="2588390">floored</span> <span m="2589186">m.</span> <span
  m="2591950">This</span> <span m="2592100">is</span> <span
  m="2592250">the</span> <span m="2592390">total</span> <span
  m="2592650">number</span> <span m="2592950">of</span> <span
  m="2593250">possible</span> <span m="2593800">ways</span> <span
  m="2594080">this</span> <span m="2594240">equation</span> <span
  m="2594660">can hold.</span></p><p><span m="2596270">So</span> <span
  m="2596740">how</span> <span m="2596880">many</span> <span
  m="2597760">bad</span> <span m="2597990">a's</span> <span
  m="2598180">do</span> <span m="2598350">I have?</span> <span
  m="2598790">I</span> <span m="2598830">have</span> <span m="2599650">p</span>
  <span m="2599810">over</span> <span m="2599990">m,</span> <span
  m="2603060">over</span> <span m="2605350">the</span> <span
  m="2605470">total</span> <span m="2605690">number</span> <span
  m="2605920">of</span> <span m="2606020">a's,</span> <span
  m="2606330">which</span> <span m="2606640">is p</span> <span
  m="2607060">minus</span> <span m="2607350">1.</span> <span
  m="2610330">Oh,</span> <span m="2610630">yeah,</span> <span
  m="2610830">I</span> <span m="2610870">forgot</span> <span
  m="2611160">to</span> <span m="2611220">mention</span> <span
  m="2611510">that.</span> <span m="2611730">So a</span> <span
  m="2613220">is</span> <span m="2616960">from</span> <span m="2617430">1</span>
  <span m="2617710">to</span> <span m="2617970">p</span> <span
  m="2618805">minus</span> <span m="2619290">one.</span> <span
  m="2624240">OK.</span> <span m="2624900">So</span> <span m="2625040">I</span>
  <span m="2625120">can</span> <span m="2625270">always</span> <span
  m="2625640">choose</span> <span m="2625890">my</span> <span
  m="2626040">p</span> <span m="2626320">to</span> <span m="2626600">be</span>
  <span m="2627350">not</span> <span m="2627930">a</span> <span
  m="2628040">multiple</span> <span m="2628400">of</span> <span
  m="2628540">m.</span> <span m="2629800">If</span> <span m="2629930">I</span>
  <span m="2630020">do</span> <span m="2630180">that,</span> <span
  m="2632010">this</span> <span m="2632300">floor--</span> <span
  m="2638300">so,</span> <span m="2639020">then</span> <span
  m="2639220">p</span> <span m="2639390">and</span> <span m="2639520">p</span>
  <span m="2639640">minus</span> <span m="2639930">1</span> <span
  m="2640600">do</span> <span m="2640700">not</span> <span
  m="2640920">cross</span> <span m="2641210">the</span> <span
  m="2641310">boundary</span> <span m="2641700">of</span> <span
  m="2641790">modulo</span> <span m="2642150">m.</span> <span
  m="2643070">Then</span> <span m="2643170">this</span> <span
  m="2643310">is</span> <span m="2643450">true,</span> <span
  m="2644280">and</span> <span m="2644440">this</span> <span
  m="2644610">is</span> <span m="2645050">less</span> <span
  m="2645250">than</span> <span m="2649100">1</span> <span
  m="2649250">over</span> <span m="2649400">m.</span> <span
  m="2651400">So</span> <span m="2651470">this</span> <span
  m="2651650">is</span> <span m="2651760">a</span> <span
  m="2651790">universal</span> <span m="2652300">hash</span> <span
  m="2654010">function</span> <span m="2654360">family.</span></p><p><span
  m="2660440">So</span> <span m="2660650">what's</span> <span
  m="2660870">the</span> <span m="2660940">randomness</span> <span
  m="2661230">here?</span> <span m="2661840">The</span> <span
  m="2661940">randomness</span> <span m="2662460">is</span> <span
  m="2662950">a.</span> <span m="2663530">I'll</span> <span
  m="2663720">pick</span> <span m="2663990">an</span> <span m="2664220">a</span>
  <span m="2664690">to</span> <span m="2664800">get</span> <span
  m="2665295">one</span> <span m="2665550">of</span> <span m="2665650">my</span>
  <span m="2665820">hash,</span> <span m="2666580">and</span> <span
  m="2666700">if</span> <span m="2666770">it</span> <span
  m="2666830">doesn't</span> <span m="2667030">work,</span> <span m="2667440">I
  pick</span> <span m="2667530">another</span> <span
  m="2667750">a.</span></p><p><span m="2671456">AUDIENCE: What is</span> <span
  m="2671922">b?</span> <span m="2672854">What is</span> <span
  m="2673320">b?</span></p><p><span m="2673790">LING REN: p</span> <span
  m="2674250">is</span> <span m="2674640">a</span> <span
  m="2674980">prime</span> <span m="2675240">number</span> <span
  m="2675580">I</span> <span m="2675910">choose--</span></p><p><span
  m="2677050">AUDIENCE: [INAUDIBLE]</span></p><p><span m="2678070">LING REN:
  b?</span></p><p><span m="2678310">AUDIENCE: Yeah.</span></p><p><span
  m="2679290">LING REN: Oh,</span> <span m="2679620">b.</span> <span
  m="2681470">I</span> <span m="2681590">think</span> <span
  m="2681750">it's</span> <span m="2681880">also</span> <span
  m="2682100">a</span> <span m="2682180">random</span> <span
  m="2682490">number.</span> <span m="2685550">Yeah,</span> <span
  m="2685880">so,</span> <span m="2686150">actually</span> <span
  m="2686630">it's</span> <span m="2686750">not</span> <span
  m="2686930">needed,</span> <span m="2687370">but</span> <span
  m="2687620">I</span> <span m="2687720">think</span> <span
  m="2687910">there's</span> <span m="2688100">some</span> <span
  m="2688280">deep</span> <span m="2688520">reason</span> <span
  m="2688920">that</span> <span m="2689100">they</span> <span
  m="2689220">keep</span> <span m="2689420">it</span> <span
  m="2689560">in</span> <span m="2689680">the</span> <span
  m="2690770">hash</span> <span m="2690950">function.</span> <span
  m="2691280">I'm</span> <span m="2691370">not</span> <span
  m="2691540">sure</span> <span m="2691760">why.</span></p><p><span
  m="2704380">Now</span> <span m="2704500">once</span> <span
  m="2704690">we</span> <span m="2704830">have</span> <span
  m="2705050">that,</span> <span m="2706310">once</span> <span
  m="2706540">we</span> <span m="2706660">have</span> <span
  m="2706800">universal</span> <span m="2707280">hash,</span> <span
  m="2709510">people</span> <span m="2709930">also</span> <span
  m="2710120">want</span> <span m="2710510">perfect</span> <span
  m="2710710">hashing,</span> <span m="2713990">which</span> <span
  m="2714190">means</span> <span m="2715630">I</span> <span
  m="2715780">want</span> <span m="2716910">absolutely</span> <span
  m="2717490">0</span> <span m="2718300">collision.</span> <span
  m="2721730">So</span> <span m="2721930">how</span> <span m="2722050">do</span>
  <span m="2722140">I</span> <span m="2722220">do</span> <span
  m="2722340">that?</span> <span m="2722820">Let</span> <span
  m="2722890">me</span> <span m="2723020">first</span> <span
  m="2723320">give</span> <span m="2723490">a</span> <span
  m="2727770">method</span> <span m="2728180">1.</span> <span
  m="2732570">I'll</span> <span m="2732700">just</span> <span
  m="2732920">use</span> <span m="2733130">any</span> <span
  m="2733280">universal</span> <span m="2733970">hash</span> <span
  m="2734190">function,</span> <span m="2736230">but</span> <span
  m="2736930">I</span> <span m="2737070">choose</span> <span
  m="2737320">my</span> <span m="2737480">m</span> <span m="2737790">to</span>
  <span m="2738100">be</span> <span m="2738260">n</span> <span
  m="2738490">squared.</span> <span m="2743940">I</span> <span
  m="2744080">claim</span> <span m="2744480">this</span> <span
  m="2744630">is</span> <span m="2744780">a</span> <span
  m="2744850">perfect</span> <span m="2745180">hash</span> <span
  m="2745340">function</span> <span m="2746020">with</span> <span
  m="2746230">certain</span> <span m="2746750">probability.</span> <span
  m="2748090">Why?</span> <span m="2748660">Because</span> <span
  m="2749200">I</span> <span m="2749320">want</span> <span m="2749500">to</span>
  <span m="2749910">calculate</span> <span m="2750960">probability</span> <span
  m="2751440">no</span> <span m="2751610">collision.</span> <span
  m="2763230">Yeah,</span> <span m="2763440">1</span> <span
  m="2763730">minus</span> <span m="2764100">probability</span> <span
  m="2765200">I</span> <span m="2765320">do</span> <span m="2765500">have</span>
  <span m="2765710">a</span> <span m="2765780">collision.</span> <span
  m="2769740">And</span> <span m="2769920">I</span> <span m="2769970">can</span>
  <span m="2770100">use</span> <span m="2770280">a</span> <span
  m="2770320">union</span> <span m="2770660">bound.</span> <span
  m="2772180">That's</span> <span m="2772380">the</span> <span
  m="2772490">probability</span> <span m="2773500">that</span> <span
  m="2776770">any</span> <span m="2777210">pair</span> <span
  m="2779510">has</span> <span m="2779760">a</span> <span
  m="2779830">collision.</span> <span m="2785570">Any</span> <span
  m="2785840">pair</span> <span m="2786210">of</span> <span
  m="2786830">hx</span> <span m="2788520">equals</span> <span
  m="2788890">hy.</span> <span m="2793540">How</span> <span
  m="2793630">many</span> <span m="2793860">pairs</span> <span m="2794140">do I
  have?</span></p><p><span m="2797852">AUDIENCE: N</span> <span
  m="2798316">choose 2.</span></p><p><span m="2799244">LING REN: Yeah.</span>
  <span m="2799710">n choose</span> <span m="2800080">2,</span> <span
  m="2800600">which is</span> <span m="2802726">this</span> <span
  m="2803200">number.</span> <span m="2808060">So</span> <span
  m="2808230">if</span> <span m="2808400">it's</span> <span m="2808530">a</span>
  <span m="2808560">universal</span> <span m="2809040">hash</span> <span
  m="2809210">function,</span> <span m="2810040">then</span> <span
  m="2810280">any</span> <span m="2810530">collision,</span> <span
  m="2811600">any</span> <span m="2811830">two</span> <span
  m="2812000">colliding,</span> <span m="2813040">the</span> <span
  m="2813140">probability</span> <span m="2813770">is</span> <span
  m="2814500">1</span> <span m="2814740">over</span> <span m="2814920">m.</span>
  <span m="2818560">So</span> <span m="2818740">I</span> <span
  m="2818870">choose</span> <span m="2819140">my</span> <span
  m="2819310">m</span> <span m="2819670">to</span> <span m="2819790">be</span>
  <span m="2819950">n</span> <span m="2820080">squared,</span> <span
  m="2820610">so</span> <span m="2820680">this</span> <span
  m="2821100">one</span> <span m="2821420">is</span> <span
  m="2821680">larger</span> <span m="2821980">than</span> <span
  m="2822170">1/2.</span> <span m="2825300">So</span> <span
  m="2825590">what</span> <span m="2825720">I'm</span> <span
  m="2825820">saying,</span> <span m="2827140">to get a</span> <span
  m="2827510">perfect</span> <span m="2827970">hash</span> <span
  m="2828180">function,</span> <span m="2828970">I'll</span> <span
  m="2829070">just</span> <span m="2829280">use</span> <span
  m="2829480">the</span> <span m="2829890">simplest</span> <span
  m="2830400">way.</span> <span m="2830640">I</span> <span
  m="2831010">select</span> <span m="2831370">the</span> <span
  m="2831430">universal</span> <span m="2832120">hash</span> <span
  m="2832310">function</span> <span m="2832730">with</span> <span
  m="2832960">m</span> <span m="2833180">equals</span> <span
  m="2833470">n</span> <span m="2833590">squared.</span> <span
  m="2834950">I</span> <span m="2835090">have</span> <span m="2835320">a</span>
  <span m="2835640">probability</span> <span m="2836170">more</span> <span
  m="2836360">than</span> <span m="2836500">1/2</span> <span
  m="2837020">to</span> <span m="2837150">succeed.</span> <span
  m="2838130">Or</span> <span m="2838320">if</span> <span m="2838450">I</span>
  <span m="2838590">don't</span> <span m="2838840">succeed,</span> <span
  m="2839490">I'll</span> <span m="2839600">choose</span> <span
  m="2839720">another</span> <span m="2839980">one</span> <span
  m="2840820">until</span> <span m="2841670">I</span> <span
  m="2841890">succeed.</span> <span m="2844350">So</span> <span
  m="2845200">this</span> <span m="2845410">is</span> <span m="2845530">a</span>
  <span m="2845570">randomized</span> <span m="2846030">algorithm,</span> <span
  m="2846540">and</span> <span m="2847150">we</span> <span
  m="2847280">can</span> <span m="2847440">make</span> <span
  m="2847630">it</span> <span m="2848440">a</span> <span
  m="2848660">Monte</span> <span m="2848940">Carlo</span> <span
  m="2849140">algorithm</span> <span m="2849330">or</span> <span
  m="2849560">Las</span> <span m="2849850">Vegas</span> <span
  m="2850030">algorithm.</span></p><p><span m="2850910">So</span> <span
  m="2851220">I</span> <span m="2851330">can</span> <span
  m="2851520">either</span> <span m="2851760">say</span> <span
  m="2853810">if</span> <span m="2853960">I</span> <span
  m="2854110">choose</span> <span m="2854500">alpha</span> <span m="2855170">log
  n</span> <span m="2855580">times,</span> <span m="2858830">then</span> <span
  m="2859080">what's</span> <span m="2859310">the</span> <span
  m="2859420">chance</span> <span m="2859860">that</span> <span
  m="2860190">none</span> <span m="2860460">of</span> <span
  m="2860580">my</span> <span m="2860760">choice</span> <span
  m="2861580">satisfies</span> <span m="2862240">perfect</span> <span
  m="2862580">hashing?</span> <span m="2865820">My</span> <span
  m="2865990">failure</span> <span m="2866310">probability</span> <span
  m="2866850">is</span> <span m="2867010">less</span> <span
  m="2867280">than</span> <span m="2868730">this.</span> <span
  m="2876210">My</span> <span m="2876350">each</span> <span
  m="2876610">chance</span> <span m="2877120">I have</span> <span
  m="2877320">a</span> <span m="2879270">half</span> <span
  m="2879730">success</span> <span m="2880160">rate,</span> <span
  m="2881000">and</span> <span m="2882210">I</span> <span m="2882340">try</span>
  <span m="2882520">this</span> <span m="2882690">many</span> <span
  m="2882900">times,</span> <span m="2883380">what's</span> <span
  m="2883600">the</span> <span m="2883650">chance</span> <span m="2884100">of
  all</span> <span m="2884290">of</span> <span m="2884410">them</span> <span
  m="2884650">failing?</span> <span m="2888310">This</span> <span
  m="2888460">is</span> <span m="2888590">1</span> <span m="2888820">over</span>
  <span m="2889070">n</span> <span m="2889220">raised to</span> <span
  m="2889320">alpha.</span> <span m="2895601">Of</span> <span
  m="2896030">course,</span> <span m="2896240">I</span> <span
  m="2896330">can</span> <span m="2896500">also</span> <span
  m="2896760">say,</span> <span m="2897430">I'll</span> <span
  m="2897720">keep</span> <span m="2897900">trying</span> <span
  m="2898310">until</span> <span m="2898600">I</span> <span
  m="2898680">succeed.</span> <span m="2899260">Then</span> <span
  m="2899690">I</span> <span m="2899850">have</span> <span m="2900170">a</span>
  <span m="2900840">100</span> <span m="2901210">percent</span> <span
  m="2901510">success</span> <span m="2901870">rate,</span> <span
  m="2902360">but</span> <span m="2902470">my</span> <span
  m="2902610">runtime</span> <span m="2903450">could</span> <span
  m="2903650">potentially</span> <span m="2904840">go</span> <span
  m="2905030">unbounded.</span> <span m="2906960">Make</span> <span
  m="2907130">sense?</span> <span m="2909180">OK.</span> <span
  m="2909890">This</span> <span m="2910310">sounds</span> <span
  m="2910590">like</span> <span m="2910790">a</span> <span
  m="2910860">perfect</span> <span m="2911230">solution.</span> <span
  m="2912700">The</span> <span m="2912880">only</span> <span
  m="2913050">problem</span> <span m="2913450">is</span> <span
  m="2913680">that</span> <span m="2914250">the</span> <span
  m="2914370">space</span> <span m="2914810">complexity</span> <span
  m="2916460">of</span> <span m="2916640">this</span> <span
  m="2916980">method</span> <span m="2918000">is</span> <span
  m="2918530">n</span> <span m="2918960">squared,</span> <span
  m="2921530">because</span> <span m="2921810">I</span> <span
  m="2921900">choose</span> <span m="2922140">my</span> <span
  m="2922300">m</span> <span m="2923080">hash</span> <span
  m="2923260">table</span> <span m="2923480">size</span> <span
  m="2923770">to</span> <span m="2923880">be</span> <span m="2924010">n</span>
  <span m="2924160">squared.</span> <span m="2925550">So</span> <span
  m="2925650">this</span> <span m="2925700">is</span> <span
  m="2925840">the</span> <span m="2925930">only</span> <span
  m="2926190">thing</span> <span m="2926570">we</span> <span
  m="2926730">don't</span> <span m="2926890">want</span> <span
  m="2929040">in</span> <span m="2929200">this</span> <span
  m="2929470">simple</span> <span m="2929730">method.</span></p><p><span
  m="2939370">Our</span> <span m="2939560">final</span> <span
  m="2939940">goal,</span> <span m="2943510">is</span> <span
  m="2943620">to</span> <span m="2943820">have</span> <span m="2944070">a</span>
  <span m="2944470">perfect</span> <span m="2944860">hash</span> <span
  m="2945040">function</span> <span m="2945760">that</span> <span
  m="2945970">has</span> <span m="2946330">space</span> <span m="2948620">O
  of</span> <span m="2948920">n,</span> <span m="2950540">and</span> <span
  m="2950750">also</span> <span m="2951360">runtime</span> <span
  m="2953600">some</span> <span m="2953800">polynomial</span> <span
  m="2954110">in</span> <span m="2954160">n,</span> <span m="2955910">and</span>
  <span m="2956160">failure</span> <span m="2956490">probability</span> <span
  m="2957160">arbitrarily</span> <span m="2957465">small.</span> <span
  m="2959230">And</span> <span m="2959350">the</span> <span
  m="2959430">idea</span> <span m="2959810">there</span> <span
  m="2960380">is</span> <span m="2961880">this</span> <span
  m="2962480">two-level</span> <span m="2962790">hashing.</span> <span
  m="2971180">So,</span> <span m="2972380">I</span> <span
  m="2972520">choose</span> <span m="2972760">h1</span> <span
  m="2973260">first</span> <span m="2973620">to</span> <span m="2973920">hash
  my</span> <span m="2974250">keys</span> <span m="2974980">into</span> <span
  m="2976770">bins.</span> <span m="2977470">And</span> <span
  m="2977650">for</span> <span m="2977790">each</span> <span
  m="2977990">bin,</span> <span m="2978410">say</span> <span
  m="2978660">I</span> <span m="2978760">get</span> <span m="2979190">l1</span>
  <span m="2979610">elements</span> <span m="2979980">here,</span> <span
  m="2980590">l2</span> <span m="2980800">elements</span> <span
  m="2981170">here,</span> <span m="2982260">so</span> <span
  m="2982410">on</span> <span m="2982550">and</span> <span m="2982650">so</span>
  <span m="2982710">forth.</span> <span m="2984280">I'll</span> <span
  m="2984500">choose</span> <span m="2985320">each</span> <span
  m="2985610">of</span> <span m="2985770">the</span> <span
  m="2986160">bins</span> <span m="2986560">to</span> <span m="2986680">be
  a</span> <span m="2987470">second</span> <span m="2987840">level</span> <span
  m="2989270">perfect</span> <span m="2989630">hashing.</span> <span
  m="2990630">So</span> <span m="2991980">we</span> <span m="2992090">can</span>
  <span m="2992240">use</span> <span m="2992430">the</span> <span
  m="2992520">method</span> <span m="2992820">one</span> <span
  m="2993190">to</span> <span m="2993460">choose</span> <span
  m="2993710">this</span> <span m="2993780">small</span> <span
  m="2994180">one.</span> <span m="2995290">If</span> <span m="2995420">I</span>
  <span m="2995550">choose</span> <span m="2996320">m1,</span> <span
  m="2997300">which</span> <span m="2997540">is</span> <span
  m="2997700">the</span> <span m="2997830">hash</span> <span
  m="2998070">table</span> <span m="2998330">size</span> <span
  m="2998580">of</span> <span m="2998700">this</span> <span
  m="2998880">guy,</span> <span m="2999580">to</span> <span
  m="2999710">be</span> <span m="3000120">l1</span> <span
  m="3000470">squared,</span> <span m="3001692">then</span> <span
  m="3002110">I</span> <span m="3002250">know</span> <span
  m="3002740">after</span> <span m="3003190">alpha</span> <span m="3003540">log
  n</span> <span m="3003910">trial,</span> <span m="3004560">this</span> <span
  m="3004750">one</span> <span m="3004970">should</span> <span
  m="3005180">be</span> <span m="3005350">a</span> <span
  m="3005420">perfect</span> <span m="3005740">hashing.</span> <span
  m="3007580">After</span> <span m="3008260">another</span> <span
  m="3008930">alpha</span> <span m="3009090">log</span> <span
  m="3009240">n</span> <span m="3009320">trial,</span> <span
  m="3009980">I</span> <span m="3010090">should</span> <span
  m="3010310">resolve</span> <span m="3010720">all</span> <span
  m="3010870">the</span> <span m="3010950">conflicts</span> <span
  m="3011490">in</span> <span m="3011640">l2</span> <span m="3012220">to</span>
  <span m="3012360">make</span> <span m="3012540">it</span> <span
  m="3012630">a</span> <span m="3012690">perfect</span> <span
  m="3012960">hashing.</span> <span m="3015206">Make</span> <span
  m="3015700">sense?</span></p><p><span m="3019160">So</span> <span
  m="3019450">after</span> <span m="3020660">n</span> <span m="3022480">log
  n</span> <span m="3022850">trials,</span> <span m="3025860">I</span> <span
  m="3025970">will</span> <span m="3026160">resolve</span> <span m="3026550">all
  the</span> <span m="3026900">conflicts</span> <span m="3027410">in</span>
  <span m="3027530">my</span> <span m="3027930">second</span> <span
  m="3028260">level</span> <span m="3028500">hashing.</span> <span
  m="3028840">Question?</span></p><p><span m="3029280">AUDIENCE: It was
  mentioned</span> <span m="3029740">in the lecture</span> <span
  m="3030200">that</span> <span m="3030660">this</span> <span
  m="3030850">only</span> <span m="3031060">works</span> <span m="3031540">if
  there</span> <span m="3031710">are</span> <span m="3031740">no</span> <span
  m="3032040">inserts</span> <span m="3032540">or deletes,</span> <span
  m="3033040">or</span> <span m="3033540">something like
  that?</span></p><p><span m="3038480">LING REN: Let</span> <span
  m="3038560">me</span> <span m="3038670">think</span> <span
  m="3038790">about</span> <span m="3038970">that</span> <span
  m="3039160">offline.</span> <span m="3039720">I'm</span> <span
  m="3039870">not</span> <span m="3040050">sure</span> <span
  m="3040170">about</span> <span m="3040330">that.</span> <span
  m="3043620">OK.</span> <span m="3043960">So</span> <span
  m="3044130">the</span> <span m="3044270">only</span> <span
  m="3044520">remaining</span> <span m="3044940">problem</span> <span
  m="3045860">is</span> <span m="3046940">we</span> <span
  m="3047150">need</span> <span m="3047280">to</span> <span
  m="3047380">figure</span> <span m="3047590">out</span> <span
  m="3048070">whether</span> <span m="3048410">we</span> <span
  m="3048630">achieve</span> <span m="3048980">this</span> <span
  m="3049160">space</span> <span m="3049410">O of</span> <span
  m="3049600">n.</span> <span m="3050270">What</span> <span
  m="3050440">is</span> <span m="3050550">this</span> <span
  m="3050750">space</span> <span m="3052010">complexity</span> <span
  m="3052460">of</span> <span m="3052520">this</span> <span
  m="3052720">algorithm?</span> <span m="3053210">It's</span> <span
  m="3053410">n</span> <span m="3054190">plus</span> <span m="3057460">l
  i</span> <span m="3057920">squared,</span> <span m="3058840">because</span>
  <span m="3060490">each</span> <span m="3060690">table</span> <span
  m="3060930">size</span> <span m="3061290">is</span> <span
  m="3061520">the</span> <span m="3061750">square</span> <span
  m="3064310">of</span> <span m="3064470">the elements</span> <span
  m="3064900">in</span> <span m="3065050">it.</span> <span
  m="3066330">And</span> <span m="3066730">finally,</span> <span
  m="3067250">we</span> <span m="3067550">have</span> <span
  m="3067810">that</span> <span m="3068840">Markov</span> <span
  m="3069260">inequality</span> <span m="3070070">or I</span> <span
  m="3070320">think</span> <span m="3070470">something</span> <span
  m="3070820">like</span> <span m="3071000">that,</span> <span
  m="3071590">to</span> <span m="3071710">prove</span> <span
  m="3072040">this</span> <span m="3072760">is</span> <span
  m="3072890">the</span> <span m="3073000">case</span> <span
  m="3073490">with--</span> <span m="3075760">so</span> <span
  m="3076200">my</span> <span m="3076430">space</span> <span
  m="3079018">is</span> <span m="3079500">O of</span> <span
  m="3079780">n,</span> <span m="3081240">also</span> <span
  m="3081580">with</span> <span m="3081730">the</span> <span
  m="3081840">probability</span> <span m="3083090">of</span> <span
  m="3083250">greater</span> <span m="3083560">than</span> <span
  m="3083740">1/2.</span> <span m="3085650">I</span> <span
  m="3085780">can</span> <span m="3085940">keep</span> <span
  m="3086100">going.</span> <span m="3087150">I'll</span> <span
  m="3087450">try</span> <span m="3089780">alpha</span> <span m="3089920">log
  n</span> <span m="3090270">times</span> <span m="3090720">on</span> <span
  m="3090980">my</span> <span m="3091160">first</span> <span
  m="3091480">level</span> <span m="3092020">hash</span> <span
  m="3092190">function,</span> <span m="3092960">until</span> <span
  m="3093850">my</span> <span m="3094000">space</span> <span
  m="3094310">is</span> <span m="3094450">O of n.</span> <span
  m="3095960">Once</span> <span m="3096630">I</span> <span
  m="3096670">get</span> <span m="3096830">to</span> <span
  m="3096920">that</span> <span m="3097120">point,</span> <span
  m="3097710">I'll</span> <span m="3097880">try</span> <span
  m="3098380">choosing</span> <span m="3098720">universal</span> <span
  m="3099180">hash</span> <span m="3099340">functions</span> <span
  m="3099730">for</span> <span m="3099880">my</span> <span
  m="3100080">smaller</span> <span m="3100440">tables,</span> <span
  m="3101230">until I</span> <span m="3101670">succeed.</span></p><p><span
  m="3103634">OK?</span> <span m="3111010">That's</span> <span
  m="3111270">it</span> <span m="3111690">for</span> <span
  m="3112170">hashing</span> <span m="3112480">and</span> <span
  m="3112790">DP.</span></p>
uid: 4e74a89850cd47fb0b8f7b7e0fc2bf6b
type: courses
layout: video
---
