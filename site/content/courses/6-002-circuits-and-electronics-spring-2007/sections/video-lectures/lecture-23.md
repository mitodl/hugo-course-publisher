---
about_this_resource_text: >-
  <p><strong>Topics covered:</strong> Energy, CMOS</p>
  <p><strong>Instructor:</strong> Prof. Anant Agarwal</p>
embedded_media:
  - id: thumb_lec23.jpg
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    technical_location: >-
      https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-002-circuits-and-electronics-spring-2007/video-lectures/lecture-23/thumb_lec23.jpg
    title: thumb_lec23.jpg
    type: null
    uid: 8f12be06fe95553f7322729823c9b55e
  - id: Video-YouTube-Stream
    media_location: JB2HgohNHYQ
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    title: Video-YouTube-Stream
    type: Video
    uid: b43e10f2c882b4d9412e6722885ffe20
  - id: Thumbnail-YouTube-JPG
    media_location: 'https://img.youtube.com/vi/JB2HgohNHYQ/default.jpg'
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    title: Thumbnail-YouTube-JPG
    type: Thumbnail
    uid: 35d1c5202b315ac9fbe4bc2a9271286f
  - id: Video-iTunesU-MP4
    media_location: 'https://itunes.apple.com/us/itunes-u/id341597464'
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    title: Video-iTunes U-MP4
    type: Video
    uid: f940fd8da76ce1c96798c2c2b2e44bca
  - id: Video-InternetArchive-MP4
    media_location: >-
      http://www.archive.org/download/MIT6.002S07/ocw-6.002-lec-mit-10250-04dec2003-220k.mp4
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    title: Video-Internet Archive-MP4
    type: Video
    uid: 82d3dfd0db0df9a8beb172411b4d0a00
  - id: Thumbnail-OCW-JPG
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    title: Thumbnail-OCW-JPG
    type: Thumbnail
    uid: b658aa11df8f9608e4df6e890ca23c3c
  - id: 3Play-3PlayYouTubeid-MP4
    media_location: JB2HgohNHYQ
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    title: 3Play-3Play YouTube id
    type: 3Play
    uid: be9625ec975e0f63ceee1fd4f85e8fbb
  - id: JB2HgohNHYQ.srt
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    technical_location: >-
      https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-002-circuits-and-electronics-spring-2007/video-lectures/lecture-23/JB2HgohNHYQ.srt
    title: 3play caption file
    type: null
    uid: 04b3b18f968c754132d670e1e2bfc052
  - id: JB2HgohNHYQ.pdf
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    technical_location: >-
      https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-002-circuits-and-electronics-spring-2007/video-lectures/lecture-23/JB2HgohNHYQ.pdf
    title: 3play pdf file
    type: null
    uid: e11f02e75143bd0b0c893086533e6643
  - id: Caption-3Play YouTube id-SRT
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    title: Caption-3Play YouTube id-SRT-English - US
    type: Caption
    uid: 5447df0c36cdd414ad1df1bd8539e94e
  - id: Transcript-3Play YouTube id-PDF
    parent_uid: eefb51ffea164547b60b310f1b8bdd11
    title: Transcript-3Play YouTube id-PDF-English - US
    type: Transcript
    uid: 874d99ce478c3a73025967e9b8348fc2
inline_embed_id: '8109634lecture23:energy,cmos18708005'
order_index: 405
parent_uid: 9b4a2ba7a556b2348b0c3f1bdd4fa8ab
related_resources_text: >-
  <p>Lecture Notes (<a target="_blank" title="Open in a new window."
  href="./resolveuid/e91dbb295f31c6d799483e77c6b35cbe">PDF</a>)<br />
  Demonstration: Energy and power in RC network (<a target="_blank" title="Open
  in a new window."
  href="./resolveuid/98560390d55ef52996905598bd0ed2e1">PDF</a>)<br />
  Demonstration: Energy and power in CMOS (<a target="_blank" title="Open in a
  new window." href="./resolveuid/e264f9172ec6471b0d7de55866653812">PDF</a>)</p>
short_url: lecture-23
technical_location: >-
  https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-002-circuits-and-electronics-spring-2007/video-lectures/lecture-23
title: 'Lecture 23: Energy, CMOS'
transcript: >-
  <p><span m='0'>All right, let's get moving. Good morning.</span> </p><p><span
  m='5000'>Let me take a quick poll. So, how many of you have</span> <span
  m='13000'>completed Lab 4. Completed Lab 4?</span> </p><p><span m='17000'>Wow,
  that's great. So, how many people have begun</span> <span m='24000'>Lab 4? OK,
  well that's good.</span> </p><p><span m='30000'>I won't ask the last question.
  OK so, well I hope you're</span> <span m='35000'>having fun with this lab. Lab
  4 was designed to be almost</span> <span m='40000'>like a mini-project. And,
  it sort of ties together a</span> <span m='44000'>lot of the content of the
  entire course.</span> </p><p><span m='48000'>And, it's not unlike the kind of
  systems that people design in</span> <span m='54000'>industry, in systems that
  go into a variety of devices like,</span> <span m='59000'>say, for example,
  digital CD players and stuff</span> <span m='63000'>like that. A lot of mixed
  signal stuff</span> <span m='70000'>goes in. OK, so today,</span> <span
  m='74000'>I'm going to continue with our discussion of energy and CMOS.</span>
  </p><p><span m='84000'>CMOS will be a new topic that I will introduce.</span>
  </p><p><span m='94000'>So, the last lecture, we spent a fair bit of
  time</span> <span m='97000'>talking about energy, and how to compute the
  energy</span> <span m='101000'>of our inverter. So, let me start from where
  I</span> <span m='104000'>left off, and I've given you a couple of extra pages
  of notes</span> <span m='108000'>today just to sort of tie it to the previous
  lecture.</span> </p><p><span m='112000'>Right now, I'm going to start off on
  page three.</span> </p><p><span m='117000'>So, what we saw last time was an
  inverter of this sort,</span> <span m='122000'>Vs, VIN, and we said, let's
  study the situation where</span> <span m='127000'>this inverter was driving a
  load capacitor, C.</span> </p><p><span m='131000'>Where did this load
  capacitor come from?</span> </p><p><span m='135000'>Well, this inverter could
  be driving one, or two,</span> <span m='139000'>or three, or four other larger
  gates, OK?</span> </p><p><span m='143000'>So, this C is lumped value of the
  gate capacitances of all of</span> <span m='149000'>those inverters. This may
  also include some</span> <span m='156000'>component due to wiring capacitance
  and stuff like that.</span> </p><p><span m='164000'>So, for an inverter like
  this, we showed in the last lecture</span> <span m='174000'>that the formula
  for the average power was,</span> <span m='182000'>so this was a static power
  independent of frequency,</span> <span m='187000'>and this was called dynamic
  power, and it had some bearing,</span> <span m='193000'>it's related to the
  frequency at which you clocked your</span> <span m='199000'>circuit. So, this
  was related to standby</span> <span m='203000'>power, and this to dynamic. So,
  what I also said is that I</span> <span m='210000'>gave you a bunch of numbers
  so you could compute the power</span> <span m='218000'>consumption of a chip
  that included 10^8 gates,</span> <span m='224000'>100 million gates, and at a
  frequency of 1 GHz,</span> <span m='230000'>and a bunch of other numbers. C
  was given to be 0.1</span> <span m='237000'>femtofarads. Femto is
  10^-15.</span> </p><p><span m='242000'>So, F was 10^9. VS was 5V, and for
  these</span> <span m='248000'>numbers, if you plonk them down in something
  like this,</span> <span m='256000'>for 10^8 gates on a chip, the average power
  would be 10^8</span> <span m='265000'>times these two. So, this would be five
  squared,</span> <span m='272000'>which is 25, divided by twice.</span>
  </p><p><span m='279000'>RL was given to be 10 kilo-ohms, so,</span> <span
  m='285000'>twice, 10^4. And here we had CVS^2.</span> </p><p><span
  m='292000'>So, C was 10^-16, 0.1 femtofarads.</span> </p><p><span
  m='300000'>Vs^2 was 25, and F was 10^9.</span> </p><p><span m='304000'>So, if
  you commence through the numbers here,</span> <span m='311000'>what you end up
  getting is something that looks like this,</span> <span m='320000'>10^8 times
  this guy here. This is 1.25mW plus this guy</span> <span m='329000'>ends up
  being 2.5 microwatts. So, this should come as a bit</span> <span m='339000'>of
  a shocker. If I take 1.25mW,</span> <span m='343000'>and multiply that out by
  10^8, this says that each gate</span> <span m='351000'>suffers a standby power
  loss of 1.25mW.</span> </p><p><span m='357000'>So times 10^8, I get
  125kW,</span> <span m='361000'>and this guy yields 250W. OK, the 250W is
  manageable.</span> </p><p><span m='367000'>It's still high, and just so you
  don't think</span> <span m='371000'>that this is unreasonable, when the
  Pentium 4 first came</span> <span m='374000'>out, it was consuming 170W of
  power.</span> </p><p><span m='377000'>OK, you should see the heat sinks on
  there.</span> </p><p><span m='380000'>There's actually a huge heat sink with a
  fan built into the</span> <span m='384000'>top of the heat sink. OK, today
  it's down to more</span> <span m='388000'>reasonable numbers like 100W and so
  on, but when it came out it</span> <span m='392000'>was in this range. So it's
  high but not</span> <span m='396000'>unreasonable. But this, of course,</span>
  <span m='399000'>is totally wacko. OK, imagine carrying a laptop</span> <span
  m='402000'>around, and the sucker is blowing 125kW.</span> </p><p><span
  m='405000'>That'll be fun. So, clearly there's something</span> <span
  m='409000'>wrong here. What this is saying is that</span> <span
  m='412000'>this gate here consumes 125kW, there are 10^8 of these on a</span>
  <span m='417000'>single chip. OK, so we clearly have to do</span> <span
  m='420000'>something about this, otherwise the semiconductor</span> <span
  m='424000'>industry would fail. So, anybody have any ideas?</span>
  </p><p><span m='430000'>What do you think you might do here?</span>
  </p><p><span m='434000'>What do you think you might do to this inverter to
  make this</span> <span m='441000'>look better, to bring it down? What can I
  do?</span> </p><p><span m='446000'>Anybody? Any ideas?</span> </p><p><span
  m='448000'>What do you think? Well, the problem is that if I</span> <span
  m='454000'>look at this 125kW, well, there's a VS term here</span> <span
  m='458000'>and an RL term here. So, I can increase RL.</span> </p><p><span
  m='461000'>OK, I can make RL four times or eight times as large.</span>
  </p><p><span m='466000'>That'll bring the power down somewhat.</span>
  </p><p><span m='469000'>Can anybody think of any problem with increasing
  RL?</span> </p><p><span m='473000'>If I make RL really, really large,</span>
  <span m='475000'>will I run into other problems? Yes?</span> </p><p><span
  m='480000'>Exactly, the slowdown of the inverter.</span> </p><p><span
  m='482000'>Remember, the rise time of the inverter depends on how
  quickly</span> <span m='487000'>I can charge this capacitor through RL.</span>
  </p><p><span m='490000'>So, if I make my RL really large, I will consume
  less</span> <span m='494000'>standby power from hundreds of kilowatts to
  merely tens of</span> <span m='499000'>kilowatts. But my gates will run as
  slow</span> <span m='502000'>as molasses. So, clearly that's not a</span>
  <span m='505000'>tradeoff I would like to make. So, I can reduce my voltage
  to</span> <span m='509000'>maybe a volt. But that just reduces it by a</span>
  <span m='514000'>factor of 25, VS squared.</span> </p><p><span m='517000'>So
  clearly, this is not going to work.</span> </p><p><span m='520000'>I have to
  somehow do something else, and that will be the topic</span> <span
  m='527000'>of today's lecture. Also, I will dwell for a moment</span> <span
  m='531000'>on this term. So, if you look at the spec</span> <span
  m='535000'>sheet for the IBM's ASIC processor that we handed out,</span> <span
  m='541000'>if you recall, we talked about power</span> <span
  m='544000'>dissipation of 0.006 microwatts per MHz per gate.</span>
  </p><p><span m='551000'>OK, now you see where this is coming from.</span>
  </p><p><span m='554000'>Per MHz, that's because it's a multiple of f,</span>
  <span m='557000'>the power. Second is that it's per gate,</span> <span
  m='561000'>so this is the power per gate. So, as I have more gates,</span>
  <span m='565000'>I just have that much more power dissipation.</span>
  </p><p><span m='570000'>It also says power supply voltage in the range of 0.7
  to</span> <span m='574000'>1.3 right next to the power expression.</span>
  </p><p><span m='576000'>So, you can see why they tell you all of that,</span>
  <span m='580000'>because both voltage, and the frequency,</span> <span
  m='583000'>and the number of gates come into the power of equation.</span>
  </p><p><span m='587000'>OK, this really simple expression here,</span> <span
  m='590000'>it's amazing how close this is to what people use for the</span>
  <span m='594000'>dynamic power in chips. OK, so as the next step,</span> <span
  m='599000'>what I'd like to do is, this guy, what do we do about</span> <span
  m='604000'>that? OK, so we've taught you to</span> <span m='607000'>build
  gates in a particular matter, but it's a non-starter.</span> </p><p><span
  m='613000'>So, how do we get rid of static power?</span> </p><p><span
  m='616000'>How do we get rid of static power?</span> </p><p><span
  m='619000'>OK, to do so, let's build up a little bit of</span> <span
  m='624000'>intuition. OK, so the intuition goes as</span> <span
  m='627000'>follows. So let's say I take my</span> <span m='631000'>inverter.
  Let me draw the circuit both on</span> <span m='633000'>the on state and in
  the off state.</span> </p><p><span m='650000'>So, when VIN is high, when VIN
  is high,</span> <span m='655000'>I get the MOSFET turning on and has a
  resistance,</span> <span m='662000'>RON, and Vo is the output voltage.</span>
  </p><p><span m='667000'>Similarly, when VIN is low, so when VIN was
  high,</span> <span m='674000'>Vo was low because RON is much less than
  RL.</span> </p><p><span m='680000'>So, this voltage was low, while here, when
  VIN is low,</span> <span m='687000'>the MOSFET is off, and so I have an open
  circuit</span> <span m='694000'>out here. And because of that open</span>
  <span m='699000'>circuit, the voltage here was going to be high because
  VS</span> <span m='703000'>would simply appear there. So let's tailor this and
  see if</span> <span m='707000'>we can build up some intuition as to what to
  do.</span> </p><p><span m='710000'>So, when VIN is low, I don't have any
  static power</span> <span m='713000'>being dissipated because I don't have a
  connection from VS to</span> <span m='717000'>ground. OK, the current,</span>
  <span m='719000'>i, is zero. And, VS simply appears at the</span> <span
  m='723000'>output. The reason this is so is have a</span> <span
  m='727000'>switch here. So when this is low,</span> <span m='729000'>the
  switch opens up and cuts the path from power to ground.</span> </p><p><span
  m='735000'>This is a nice situation. Here, when VIN was high,</span> <span
  m='739000'>there was no switch that turns off.</span> </p><p><span
  m='742000'>Rather, I get a connection from VS to ground.</span> </p><p><span
  m='746000'>OK, so think about this situation here.</span> </p><p><span
  m='750000'>The insight here is, just imagine if I could do the</span> <span
  m='754000'>following. Imagine if I could somehow</span> <span
  m='758000'>magically elevate RL to be a very, very, very large number,</span>
  <span m='762000'>if I could make this so high as to make the power really
  low</span> <span m='766000'>only in the situation when the input was
  high,</span> <span m='770000'>OK? So, imagine if I could do</span> <span
  m='771000'>something like this. Imagine I could open circuit</span> <span
  m='777000'>this guy, RON, so when VIN was high,</span> <span m='780000'>if I
  could, instead of having an RL here, what if somehow I</span> <span
  m='787000'>could make this RL become infinity?</span> </p><p><span
  m='791000'>OK, so in this case, output VO would be low.</span> </p><p><span
  m='795000'>OK, I get many benefits by doing this.</span> </p><p><span
  m='799000'>One benefit is that, look, I have opened this switch</span> <span
  m='805000'>here so I don't have any standby current.</span> </p><p><span
  m='809000'>OK, the standby current is zero.</span> </p><p><span m='815000'>The
  second benefit is that my output gets dragged down to</span> <span
  m='819000'>ground, OK? Out here, my output was VS</span> <span
  m='821000'>multiplied by RON divided by the sum of these two.</span>
  </p><p><span m='825000'>Out here, I have a direct connection to ground,</span>
  <span m='828000'>and nothing to the power supply, VS, and so therefore
  I</span> <span m='832000'>have a nice, solid low. So the question is
  that,</span> <span m='836000'>can I get this situation? OK, that is a key
  insight.</span> </p><p><span m='841000'>So, imagine that somehow, when this
  was high,</span> <span m='844000'>I could get this to open up, much like when
  this was low,</span> <span m='848000'>I got this to open up. OK, so think
  about it.</span> </p><p><span m='851000'>So, the intuition is that what I need
  instead of a resistor</span> <span m='855000'>here, what if I have something
  like the MOSFET that I have</span> <span m='859000'>here? So, I have a MOSFET
  here that</span> <span m='862000'>turned off when VIN was low. OK, what if I
  did the</span> <span m='865000'>complementary thing? What if I put in some
  kind of</span> <span m='870000'>MOSFET here that would turn off when VIN was
  high?</span> </p><p><span m='875000'>OK, so, much like the MOSFET turned off
  when VIN was low down</span> <span m='881000'>here, imagine if I could find a
  device that could turn off when</span> <span m='887000'>VIN was high? OK, this
  would be on,</span> <span m='891000'>but this would be off. So the behavior of
  this device</span> <span m='896000'>would have to be complementary to this
  device.</span> </p><p><span m='902000'>So, we need some sort of a switch to
  introduce this new,</span> <span m='907000'>little MOSFET device with slightly
  different properties,</span> <span m='912000'>let me quickly review for you
  the properties of the MOSFET</span> <span m='918000'>that we know about, so
  our N channel MOSFET,</span> <span m='922000'>also called the NFET, this is
  what we've been seeing</span> <span m='927000'>all this while, is drawn like
  this.</span> </p><p><span m='931000'>I have a gate; I have a drain;</span>
  <span m='934000'>I have a source. And this guy is on when VGS is</span> <span
  m='942000'>greater than or equal to VT, OK, and off when VGS is less</span>
  <span m='952000'>than VT. You saw this before,</span> <span m='957000'>OK,
  nothing new here. So, what I need is a device</span> <span m='964000'>that
  behaves in a complementary manner.</span> </p><p><span m='969000'>OK, so the
  device is a P channel MOSFET.</span> </p><p><span m='973000'>By the way, I
  must point out, till about 1983-84 until the</span> <span m='979000'>early
  '80s, that's exactly pretty much how chips were</span> <span
  m='984000'>designed, OK, using an NFET for the switch</span> <span
  m='989000'>looking down here, and a variety of different</span> <span
  m='994000'>kinds of devices to be used as resistors.</span> </p><p><span
  m='1000000'>OK, that's when technology began moving towards this new</span>
  <span m='1004000'>kind of technology I'm going to talk about, and that</span>
  <span m='1008000'>dramatically reducing the power consumed.</span>
  </p><p><span m='1011000'>And, the P channel MOSFET was created, and this guy's
  called</span> <span m='1015000'>the PFET. It's a complementary device</span>
  <span m='1018000'>that looks as follows. OK, the difference here is</span>
  <span m='1023000'>that, to show this is complementary,</span> <span
  m='1026000'>I'll put a little circle here. It has a gate.</span> </p><p><span
  m='1029000'>Just to make things a little clearer, flip the drain and</span>
  <span m='1034000'>source terminals, and this guy is on at a</span> <span
  m='1037000'>distinguished threshold voltage of this with the NFET
  device,</span> <span m='1042000'>let me put an N here to say that this is the
  VT for the N</span> <span m='1047000'>channel device. And for this guy,</span>
  <span m='1051000'>this guy came on when VGS was greater than some
  voltage.</span> </p><p><span m='1056000'>So, VTN could be, for example,</span>
  <span m='1058000'>one volt. So, VGS was more than one.</span> </p><p><span
  m='1062000'>This turned on. In this case,</span> <span m='1064000'>I wanted
  this to turn on when VGS is some value which is lower</span> <span
  m='1069000'>than, or much lower than, the source voltage.</span> </p><p><span
  m='1073000'>OK, so this guy turns on when the gate voltage is higher.</span>
  </p><p><span m='1080000'>This guy should turn on when the gate voltage
  is</span> <span m='1083000'>significantly lower than the source
  voltage,</span> <span m='1087000'>just the complementary behavior.</span>
  </p><p><span m='1090000'>OK, so when VGS is less than or equal to VTP.</span>
  </p><p><span m='1093000'>And in this case, the threshold voltage for
  the</span> <span m='1097000'>PMOS device, say, just as an example,</span>
  <span m='1100000'>maybe -1V. So this means that if the</span> <span
  m='1103000'>source is at, say, 5V, OK,</span> <span m='1105000'>then this
  device would turn on if the gate, for example,</span> <span m='1110000'>using
  that example was less than 4V.</span> </p><p><span m='1115000'>So, this is
  five. If the gate fell below 4V,</span> <span m='1119000'>this guy would turn
  on. In this situation,</span> <span m='1123000'>remember, if this was at zero,
  the gate would have to be</span> <span m='1129000'>greater than 1V to turn on.
  In this situation,</span> <span m='1133000'>the gate has to be less than 4V if
  the source was at five to</span> <span m='1139000'>turn on. And, it's
  off.</span> </p><p><span m='1143000'>OK, so this is a complementary device
  that I postulate that</span> <span m='1146000'>behaves in a complementary
  manner.</span> </p><p><span m='1148000'>So, the gate voltage rises, this guy
  turns on,</span> <span m='1151000'>and in this situation, when the gate
  voltage drops</span> <span m='1154000'>below the source voltage, this guy
  turns on.</span> </p><p><span m='1157000'>OK, so when there's a rising guy
  that turns on in this</span> <span m='1160000'>particular situation when it
  falls, the gate turns on and</span> <span m='1164000'>shows some resistance.
  In this case,</span> <span m='1166000'>the resistance would be RON. And to
  show that it's N</span> <span m='1169000'>channel, let me say N. And in this
  case,</span> <span m='1174000'>the resistance, when it turns on,</span> <span
  m='1179000'>would be RONp to represent P channel.</span> </p><p><span
  m='1184000'>OK, so now consider the following circuit for the</span> <span
  m='1191000'>inverter. So, instead of my resistor,</span> <span m='1196000'>I
  put a complementary device, OK, and that's it.</span> </p><p><span
  m='1205000'>So all I've done here is replace my resistor with a</span> <span
  m='1209000'>MOSFET that behaves complementary to the N channel</span> <span
  m='1214000'>MOSFET. So this is my gate,</span> <span m='1216000'>my drain.
  This is my source,</span> <span m='1219000'>my gate, my source, and my
  drain.</span> </p><p><span m='1222000'>OK, and this guy is called a pull up,
  and this guy is called</span> <span m='1227000'>a pull down. OK, and the
  reason is that this</span> <span m='1233000'>guy pulls the output to ground
  when it's turned on,</span> <span m='1237000'>while this guy, when switched
  on,</span> <span m='1241000'>will pull this node up to VS. So, I pull it down
  or pull it</span> <span m='1246000'>up based on when the VIN is high or
  low.</span> </p><p><span m='1250000'>So, let's look at the two
  situations.</span> </p><p><span m='1254000'>So, let's say, as an
  example,</span> <span m='1257000'>my VS is 5V, and let's say VIN in one</span>
  <span m='1260000'>situation being 5V, and another situation being</span> <span
  m='1265000'>equal to 0V. Let's draw the equivalent</span> <span
  m='1271000'>circuit in both these cases. So, when VIN is high,</span> <span
  m='1277000'>I have my usual circuit. When VIN is high,</span> <span
  m='1282000'>this MOSFET, as before, when VIN is 5V,</span> <span
  m='1287000'>the N channel MOSFET below is turned on, and so I have an
  RON</span> <span m='1295000'>resistance here. But remember,</span> <span
  m='1300000'>VIN is 5, and VS is 5V, then the voltage across the</span> <span
  m='1305000'>source and the gate of this P channel FET is now equal,</span>
  <span m='1311000'>five and five. OK, so this one would turn off.</span>
  </p><p><span m='1315000'>And that's the circuit that I get.</span>
  </p><p><span m='1320000'>The output is suitably low. In this situation,</span>
  <span m='1325000'>if VIN is zero, what happens in this situation?</span>
  </p><p><span m='1330000'>Here's my output. If VIN is 0V,</span> <span
  m='1333000'>the lower device turns off. This is zero.</span> </p><p><span
  m='1337000'>This is zero. This guy turns off,</span> <span m='1341000'>and
  that's the situation for the N channel MOSFET.</span> </p><p><span
  m='1346000'>How about this guy here? What happens here?</span> </p><p><span
  m='1353000'>This is at 5. So let me just,</span> <span m='1357000'>this is at
  5V. OK, and VIN is at 0V.</span> </p><p><span m='1361000'>OK, so therefore,
  the GS of this is -5V.</span> </p><p><span m='1367000'>If this is zero and
  this is five, G, source,</span> <span m='1372000'>and drain, GS is -5V, and
  -5V is significantly less</span> <span m='1379000'>than the threshold -1V in
  our example.</span> </p><p><span m='1386000'>So, this one will switch on. And
  if this one switches on,</span> <span m='1392000'>what I end up getting is
  RONp out there.</span> </p><p><span m='1397000'>So, when this one kicks in, it
  pulls the output high and VO</span> <span m='1404000'>goes high. So, all I've
  done is replaced</span> <span m='1408000'>my resistor with a complementary
  device, which switches off when</span> <span m='1416000'>the input is high,
  and switches on when the input</span> <span m='1421000'>is low. And the beauty
  of this is that</span> <span m='1426000'>at no point, assuming all the devices
  are ideal here,</span> <span m='1430000'>at no point do I have a short circuit
  between the output,</span> <span m='1435000'>do I have a current path from the
  output to the ground from</span> <span m='1439000'>the supply to ground, OK, I
  have this turned off or</span> <span m='1443000'>this turned off. So, this
  type of logic</span> <span m='1449000'>involving a PMOS transistor here, and
  the N channel</span> <span m='1458000'>transistor here is called CMOS logic
  for, OK,</span> <span m='1465000'>it's called complementary MOS logic.</span>
  </p><p><span m='1471000'>That's what CMOS comes from. OK, so I'm sure you've
  read in</span> <span m='1479000'>a number of places that most digital chips
  today use CMOS</span> <span m='1483000'>technology. It comes from
  complementary</span> <span m='1486000'>MOS, and complementary comes from the
  use of complementary</span> <span m='1491000'>transistors: N channel, P
  channel, turns on when high,</span> <span m='1495000'>turns off when high,
  turns off when low,</span> <span m='1498000'>turns on when low. OK, that's
  exactly</span> <span m='1501000'>complementary to each other. OK, so what
  you've seen here</span> <span m='1507000'>has been the workhorse of the
  digital industry for the past</span> <span m='1513000'>two decades, 20 years,
  CMOS logic.</span> </p><p><span m='1516000'>OK, and even the most advanced
  chip from Intel has an inverter</span> <span m='1521000'>that looks exactly
  like that. OK, if you count all the</span> <span m='1526000'>inverters in the
  universe today, I would say a significant</span> <span m='1532000'>fraction of
  those look exactly like that, no difference,</span> <span m='1537000'>just so
  simple. So, the key with something like</span> <span m='1542000'>that is there
  is no path from the power supply to the ground,</span> <span m='1547000'>and
  so by that model, I did not consume any standby</span> <span
  m='1551000'>power. OK, my standby power in that</span> <span
  m='1554000'>idealized model is zero. So, let's compute P.</span> </p><p><span
  m='1558000'>So, what is P dynamic? Let's use the method that we</span> <span
  m='1564000'>adopted in the last lecture, and draw the equivalent</span> <span
  m='1571000'>circuit, and compute the power. OK, so I'm going to model
  the</span> <span m='1578000'>following situation, and assume that I drive
  a</span> <span m='1584000'>capacitive load, C.</span> </p><p><span
  m='1586000'>OK, and as an input, as I did the last time,</span> <span
  m='1592000'>I'm going to assume I have some input voltage,</span> <span
  m='1598000'>VIN, that looks like this. The cycle time,</span> <span
  m='1605000'>T, and the frequency is 1/t, and let me assume that this is</span>
  <span m='1613000'>T1, and this is T2. OK, and I'm assuming that T1</span>
  <span m='1619000'>and T2 are both much larger than the respective time
  constants.</span> </p><p><span m='1629000'>OK, the time constants when, for
  discharging here,</span> <span m='1633000'>is C RONn, and here the relevant
  resistance is RONp.</span> </p><p><span m='1638000'>The charging time constant
  is RONp times C.</span> </p><p><span m='1643000'>OK, so T1 and T2 are assumed
  to be much greater than these two.</span> </p><p><span m='1650000'>So when you
  look at this, there's one other benefit</span> <span m='1654000'>besides the
  power benefit, OK, of using CMOS logic</span> <span m='1658000'>compared to
  using NMOS. OK, it not only cuts out my</span> <span m='1663000'>standby
  power, but there is another</span> <span m='1666000'>significant advantage
  which is almost equal to the power</span> <span m='1671000'>advantage of this
  kind of CMOS technology.</span> </p><p><span m='1674000'>Anybody have any
  ideas? What's the advantage?</span> </p><p><span m='1680000'>What does
  intuition tell you? Is CMOS going to be faster or</span> <span
  m='1685000'>slower than NMOS? Why?</span> </p><p><span m='1687000'>That's
  right. The key here is that the NMOS</span> <span m='1691000'>design I showed
  you earlier was relatively slow because it took</span> <span m='1696000'>me a
  while to charge up the load capacitor from RL.</span> </p><p><span
  m='1701000'>In this situation, RL will become really,</span> <span
  m='1704000'>really small; it's RONp.</span> </p><p><span m='1707000'>It's
  roughly the same magnitude as RONm.</span> </p><p><span m='1712000'>OK, if so
  both of these on resistances are more or less</span> <span m='1715000'>equal
  and small, then the rise time will be of</span> <span m='1719000'>the same
  order of magnitude as the fall time,</span> <span m='1722000'>which makes this
  much faster than the NMOS.</span> </p><p><span m='1725000'>In NMOS, my time
  constant was RLC, and RL was pretty large.</span> </p><p><span m='1729000'>In
  this case it's RONp C, and RONp can be made to be very</span> <span
  m='1733000'>small because when it's switched off, the resistance here
  is</span> <span m='1738000'>infinity. So, in this situation,</span> <span
  m='1742000'>if I assume T1 and T2 are much larger than the respective
  time</span> <span m='1747000'>constants, I can go ahead and draw my equivalent
  circuit.</span> </p><p><span m='1752000'>So, here's VS. So, for charging
  up,</span> <span m='1756000'>let's say this one is going to a one, or to a
  high.</span> </p><p><span m='1760000'>So, I have VS going through a resistor,
  RONp,</span> <span m='1764000'>to a capacitor, and this thing is a
  switch.</span> </p><p><span m='1770000'>So I have RONp, an ideal
  switch,</span> <span m='1774000'>going to a capacitor, C, this is my V out
  node,</span> <span m='1780000'>OK, so it's VS going through a resistance,
  RONp,</span> <span m='1786000'>an ideal switch, to a capacitor,</span> <span
  m='1790000'>C. That's a charging circuit.</span> </p><p><span m='1794000'>For
  discharging, I have C, discharging through</span> <span m='1800000'>an ideal
  switch with RONn. So, this situation,</span> <span m='1806000'>I have an ideal
  switch, RONn.</span> </p><p><span m='1812000'>OK, so that's the equivalent
  circuit for something like this.</span> </p><p><span m='1820000'>So, in this
  circuit, during T1, this guy's off,</span> <span m='1827000'>and this guy's
  on, on during T1,</span> <span m='1831000'>and off otherwise. This guy is on
  during T2,</span> <span m='1837000'>and off otherwise. OK, so just
  imagine,</span> <span m='1841000'>this guy switches on, this guy switches
  off,</span> <span m='1845000'>this guy switches on, this guy switches
  off,</span> <span m='1849000'>OK? And remember,</span> <span m='1850000'>this
  is exactly the circuit I had analyzed last time in the</span> <span
  m='1856000'>last lecture, and the result given by v</span> <span
  m='1859000'>double asterisk. And that result was simply</span> <span
  m='1863000'>average power being CVS^2f. That's the exact circuit we</span>
  <span m='1870000'>used to compute the dynamic power, CVS^2f.</span>
  </p><p><span m='1873000'>OK, so we're done. And how did this come
  about?</span> </p><p><span m='1877000'>This came about because the intuition
  here is that I'm</span> <span m='1881000'>charging up the capacitor fully, and
  then I'm discharging the</span> <span m='1886000'>capacitor through this other
  side, OK, and I'm consuming</span> <span m='1890000'>power, dissipating power,
  in these two resistances during</span> <span m='1895000'>charge up and during
  the discharge.</span> </p><p><span m='1899000'>Half the power gets consumed
  during charge up,</span> <span m='1903000'>and half during the discharge. So,
  I'd like to go back to</span> <span m='1909000'>doing a few numbers here, and
  taking a look at how,</span> <span m='1914000'>even with this expression, life
  can get pretty thorny as</span> <span m='1919000'>we go ahead into the next
  decade.</span> </p><p><span m='1924000'>OK, so for our previous example, we
  assumed that 10^8</span> <span m='1935000'>gates, F=1 GHz, C=0.1
  femtofarads,</span> <span m='1942000'>VS was 5V, and I don't need RL
  anymore.</span> </p><p><span m='1952000'>OK, why is it that I don't have any
  resistance component here?</span> </p><p><span m='1956000'>I don't have it
  here because the power consumed by this</span> <span m='1960000'>circuit is
  independent of those resistances, provided T1 and T2</span> <span
  m='1964000'>are long enough, are much longer than the two</span> <span
  m='1968000'>time constants, RONp C, and RONn C.</span> </p><p><span
  m='1970000'>OK, so I don't have RL in my equation anymore.</span> </p><p><span
  m='1973000'>I don't have any standby power. So, based on this
  calculation,</span> <span m='1980000'>the calculation I did up there showed
  that I had 2.5 microwatts</span> <span m='1988000'>per gate, and for 10^8
  gates I had 250W for a chip with 10^8</span> <span m='1996000'>gates. So, I'd
  like to dwell on this,</span> <span m='2001000'>if you can move over to page
  eight in your notes,</span> <span m='2007000'>here. Let me dwell on this for
  some</span> <span m='2011000'>time, and pontificate on a few things.</span>
  </p><p><span m='2018000'>First of all, this number,</span> <span
  m='2020000'>as I said before, is high, but not a disaster.</span> </p><p><span
  m='2023000'>OK, so you can't use this in laptops, but it's quite OK for
  a</span> <span m='2028000'>desktop or a server, and so on.</span> </p><p><span
  m='2031000'>If you just go and put your ear to a pedestal computer,</span>
  <span m='2035000'>you'll always hear it making a sound, and that sound is
  because</span> <span m='2040000'>of a big fan that's inside it. And, if you
  have a big enough</span> <span m='2047000'>fan, 250W is not such a big
  deal.</span> </p><p><span m='2050000'>But, this is certainly a real problem
  for mobile devices.</span> </p><p><span m='2057000'>For a laptop, this is
  unthinkable.</span> </p><p><span m='2060000'>OK, so we have to deal with
  this.</span> </p><p><span m='2064000'>The second issue is the following, that
  it's 250W for</span> <span m='2070000'>1GHz. Now, the fastest Pentium
  4s</span> <span m='2074000'>that money can by today are, what, how many
  GHz?</span> </p><p><span m='2079000'>What's the fastest Pentium 4 you can buy
  today?</span> </p><p><span m='2084000'>What's that? Does anybody have a
  4GHz</span> <span m='2087000'>Pentium 4 here? Oh, darn, you beat me.</span>
  </p><p><span m='2091000'>Anybody have a 3? 3GHz?</span> </p><p><span
  m='2093000'>A couple. So, I have a couple of 3GHz</span> <span
  m='2097000'>machines, and our lab has a whole ton of them.</span> </p><p><span
  m='2103000'>So, if Intel comes out with 4GHz machines today,</span> <span
  m='2106000'>they've been going up by about 1GHz roughly every year for
  the</span> <span m='2111000'>past couple of years. And, within three or
  four</span> <span m='2114000'>years, you're going to see chips,
  microprocessors that are</span> <span m='2119000'>in the 5-10GHz range, OK,
  assuming that all other</span> <span m='2122000'>things stay equal, which of
  course they're not,</span> <span m='2126000'>but just to give you some insight
  here,</span> <span m='2129000'>if I clock these guys and build circuits that
  are ten times</span> <span m='2133000'>faster, I very soon go up to 2.5kW,
  again as I said,</span> <span m='2137000'>all things being equal which they're
  not.</span> </p><p><span m='2142000'>But just to give you a sense, as I
  increase my frequency,</span> <span m='2146000'>so does the power consumed by
  the chip, OK?</span> </p><p><span m='2149000'>So, I really have to do
  something here.</span> </p><p><span m='2152000'>So, if I stare at this
  equation, CVS^2f,</span> <span m='2155000'>I want to increase f because people
  will buy computers if I</span> <span m='2159000'>have higher frequencies. And,
  Intel has managed to use</span> <span m='2163000'>its marketing campaigns to
  pretty much convince consumers</span> <span m='2167000'>that high frequencies
  are a good thing.</span> </p><p><span m='2172000'>OK, and whether they really
  mean anything or not,</span> <span m='2175000'>that's a different issue. So,
  we've got this huge power</span> <span m='2179000'>for assuming 5V, OK, so it
  turns out that</span> <span m='2182000'>microprocessors, as they come
  out,</span> <span m='2185000'>newer and newer versions run at lower and lower
  voltages.</span> </p><p><span m='2189000'>OK, they invent technologies that
  use lower and lower</span> <span m='2193000'>voltages, and go from VS 5V to,
  today, VS on the order of 1.5</span> <span m='2198000'>to 1V, somewhere in
  that range. So the moment you do that,</span> <span m='2204000'>you get a 25x
  reduction in power.</span> </p><p><span m='2207000'>OK, so in going from
  2.5kW, you would now come down to</span> <span m='2211000'>something on the
  order of 100W, which is, again,</span> <span m='2216000'>much more reasonable,
  again, all other things being</span> <span m='2220000'>equal. It turns out
  that the</span> <span m='2223000'>capacitance of devices also changes as you
  go to smaller and</span> <span m='2227000'>smaller devices. And, 100W is also
  pretty high,</span> <span m='2230000'>and still not good enough for mobile
  computers.</span> </p><p><span m='2233000'>So, there are many, many other
  tricks that people</span> <span m='2236000'>use to get even lower powers. One
  trick is to play games with</span> <span m='2240000'>the clock. OK, what you
  do is,</span> <span m='2242000'>let's say for example in some computation you
  are not going to</span> <span m='2246000'>be using your floating point
  unit.</span> </p><p><span m='2250000'>Or let's say I'm going to be using your
  integer adder unit.</span> </p><p><span m='2253000'>OK, so what you can do is
  you can turn off the clock to those</span> <span m='2257000'>devices so that
  those devices do not even switch when they're not</span> <span
  m='2261000'>working. OK, if I turn off the clock to</span> <span m='2263000'>a
  device, the device isn't even going to switch,</span> <span m='2266000'>it's
  just going to sit there in limbo without consuming any</span> <span
  m='2270000'>power. It's equivalent to turning off</span> <span
  m='2272000'>both transistors. If you turn off both the PMOS</span> <span
  m='2275000'>and NMOS somehow, OK, it's not consuming any</span> <span
  m='2278000'>power. And by doing that,</span> <span m='2281000'>you can further
  cut down the power.</span> </p><p><span m='2283000'>So, if you can idle some
  of your function units,</span> <span m='2286000'>it's called idling a function
  unit, idle a function unit for,</span> <span m='2290000'>let's say, half the
  time. OK, you would cut down power by</span> <span m='2294000'>another factor
  of two. We can idle,</span> <span m='2297000'>then, 75% of the time, come down
  to 25W.</span> </p><p><span m='2299000'>So, those are the classes of tricks
  that people play.</span> </p><p><span m='2303000'>I'm going to stop here and
  allow the underground guide</span> <span m='2306000'>folks to do the survey.
  But, suffice it to say that the</span> <span m='2310000'>power discussion that
  I've gone through with you is a very high</span> <span m='2314000'>level
  discussion as to the real thing.</span> </p><p><span m='2319000'>In real life,
  what actually happens is that</span> <span m='2321000'>there is a fair amount
  of standby power even for CMOS</span> <span m='2324000'>logic. It turns out
  that although I</span> <span m='2326000'>don't have a path from VS to ground
  for my two transistors,</span> <span m='2330000'>it turns out that there are
  many leakage currents.</span> </p><p><span m='2333000'>OK, currents leak
  through all kinds of places through the</span> <span m='2337000'>drain of the
  inverter, and so on and so forth.</span> </p><p><span m='2339000'>And so,
  there is some standby power.</span> </p><p><span m='2343000'>So, let me show
  you a quick demo while, I guess,</span> <span m='2346000'>the review handouts
  are going around.</span> </p><p><span m='2349000'>And this shows the
  temperature of my CMOS inverter,</span> <span m='2353000'>and as I increase
  the frequency, you can just watch</span> <span m='2357000'>the temperature go
  up, and hopefully we'll blow this</span> <span m='2361000'>transistor. So, I'm
  increasing the</span> <span m='2364000'>frequency as you can see on the side
  here, and higher frequency</span> <span m='2369000'>implies more power
  consumption, more temperature,</span> <span m='2373000'>OK, and hopefully you
  will see some smoke coming out of,</span> <span m='2377000'>OK, I think I blew
  the inverter.</span> </p><p><span m='2382000'>So, the output is gone. So, it's
  at 110 degrees there,</span> <span m='2386000'>and that blew it. Sometimes we
  see smoke come</span> <span m='2389000'>out, but I guess today is not one of
  our lucky days.</span> </p><p><span m='2394000'>OK, so let me stop here and
  have the underground guide folks</span> <span m='2398000'>go through the
  reviews.</span> </p>
uid: eefb51ffea164547b60b310f1b8bdd11
type: course
layout: video
---
