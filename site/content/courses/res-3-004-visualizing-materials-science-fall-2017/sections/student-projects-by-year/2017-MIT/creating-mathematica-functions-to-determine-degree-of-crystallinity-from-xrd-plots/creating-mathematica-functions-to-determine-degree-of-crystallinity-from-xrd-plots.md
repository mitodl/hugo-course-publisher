---
about_this_resource_text: ''
embedded_media:
  - id: Video-YouTube-Stream
    media_location: a2xqcqRYosg
    parent_uid: 40249ddf58da8a978b3a76cb1d160d5f
    title: Video-YouTube-Stream
    type: Video
    uid: 8436324e4e28a90cecb699c568e2496e
  - id: Thumbnail-YouTube-JPG
    media_location: 'https://img.youtube.com/vi/a2xqcqRYosg/default.jpg'
    parent_uid: 40249ddf58da8a978b3a76cb1d160d5f
    title: Thumbnail-YouTube-JPG
    type: Thumbnail
    uid: b5c2b2f35b7007707aaf4ffd3906eae6
  - id: 3Play-3PlayYouTubeid-MP4
    media_location: a2xqcqRYosg
    parent_uid: 40249ddf58da8a978b3a76cb1d160d5f
    title: 3Play-3Play YouTube id
    type: 3Play
    uid: f59db1b295db7d43b63714315ef23bc0
  - id: a2xqcqRYosg.srt
    parent_uid: 40249ddf58da8a978b3a76cb1d160d5f
    technical_location: >-
      https://ocw.mit.edu/resources/res-3-004-visualizing-materials-science-fall-2017/student-projects-by-year/2017-MIT/creating-mathematica-functions-to-determine-degree-of-crystallinity-from-xrd-plots/creating-mathematica-functions-to-determine-degree-of-crystallinity-from-xrd-plots/a2xqcqRYosg.srt
    title: 3play caption file
    type: null
    uid: 0bc0a4ebf83f19e3a6629b217412812c
  - id: a2xqcqRYosg.pdf
    parent_uid: 40249ddf58da8a978b3a76cb1d160d5f
    technical_location: >-
      https://ocw.mit.edu/resources/res-3-004-visualizing-materials-science-fall-2017/student-projects-by-year/2017-MIT/creating-mathematica-functions-to-determine-degree-of-crystallinity-from-xrd-plots/creating-mathematica-functions-to-determine-degree-of-crystallinity-from-xrd-plots/a2xqcqRYosg.pdf
    title: 3play pdf file
    type: null
    uid: 4a75aaf1e12f8b5126850d94084397b7
  - id: Caption-3Play YouTube id-SRT
    parent_uid: 40249ddf58da8a978b3a76cb1d160d5f
    title: Caption-3Play YouTube id-SRT-English - US
    type: Caption
    uid: eb2e2b3678b4959c4dc7a47547b6432d
  - id: Transcript-3Play YouTube id-PDF
    parent_uid: 40249ddf58da8a978b3a76cb1d160d5f
    title: Transcript-3Play YouTube id-PDF-English - US
    type: Transcript
    uid: c62edeb5e51bb4083a7c89971a2db84b
  - id: Video-InternetArchive-MP4
    media_location: >-
      https://archive.org/download/MITRES3-004F17/MITRES3_004F17_2017_anon1_300k.mp4
    parent_uid: 40249ddf58da8a978b3a76cb1d160d5f
    title: Video-Internet Archive-MP4
    type: Video
    uid: 2be9d4708b2ef74c5f2d3d5cc450e7b7
inline_embed_id: >-
  81644836creatingmathematicafunctionstodeterminedegreeofcrystallinityfromxrdplots59190394
order_index: 7
parent_uid: 1600834273a2b7751ff903cbb187d4df
related_resources_text: ''
short_url: >-
  creating-mathematica-functions-to-determine-degree-of-crystallinity-from-xrd-plots
technical_location: >-
  https://ocw.mit.edu/resources/res-3-004-visualizing-materials-science-fall-2017/student-projects-by-year/2017-MIT/creating-mathematica-functions-to-determine-degree-of-crystallinity-from-xrd-plots/creating-mathematica-functions-to-determine-degree-of-crystallinity-from-xrd-plots
title: >-
  Creating Mathematica Functions to Determine Degree of Crystallinity from XRD
  Plots
transcript: >-
  <p><span m='10180'>STUDENT:</span> <span m='10330'>Materials</span> <span
  m='10780'>are</span> <span m='10870'>often</span> <span
  m='11200'>classified</span> <span m='11950'>as</span> <span
  m='12160'>crystalline,</span> <span m='12830'>semi-crystalline,</span> <span
  m='13810'>or</span> <span m='13930'>amorphous.</span> <span
  m='14920'>Most</span> <span m='15160'>polymers</span> <span
  m='15670'>are</span> <span m='15760'>semi-crystalline.</span> <span
  m='17110'>This</span> <span m='17320'>means</span> <span m='17740'>a</span>
  <span m='17830'>fraction of</span> <span m='18310'>the</span> <span
  m='18370'>material</span> <span m='18790'>is</span> <span
  m='18910'>amorphous</span> <span m='19630'>and</span> <span
  m='19780'>lacks</span> <span m='20080'>order</span> <span m='20320'>in</span>
  <span m='20410'>arrangements</span> <span m='20950'>of</span> <span
  m='21010'>polymer</span> <span m='21370'>chains,</span> <span
  m='22240'>while</span> <span m='22390'>the</span> <span
  m='22480'>remainder</span> <span m='22930'>of</span> <span
  m='23020'>the</span> <span m='23080'>material</span> <span
  m='23590'>exhibits</span> <span m='24010'>parallel,</span> <span
  m='24700'>well-ordered</span> <span m='25270'>chains</span> <span
  m='25900'>that</span> <span m='26070'>define</span> <span
  m='26530'>crystalline</span> <span m='27160'>regions.</span> </p><p><span
  m='28540'>There</span> <span m='28720'>are</span> <span
  m='28810'>several</span> <span m='29170'>methods</span> <span
  m='29650'>for</span> <span m='29770'>determining</span> <span
  m='30400'>the</span> <span m='30520'>degree</span> <span m='30850'>of</span>
  <span m='30910'>crystallinity</span> <span m='31185'>in</span> <span
  m='31460'>a</span> <span m='31670'>polymer.</span> <span
  m='32880'>X-ray</span> <span m='33340'>diffraction</span> <span
  m='34030'>can</span> <span m='34210'>be</span> <span m='34300'>used</span>
  <span m='34480'>to</span> <span m='34540'>determine</span> <span
  m='35080'>degree</span> <span m='35380'>of</span> <span
  m='35450'>crystallinity,</span> <span m='36520'>because</span> <span
  m='36880'>intensity</span> <span m='37690'>of</span> <span
  m='37810'>X-ray</span> <span m='38110'>diffraction</span> <span
  m='38650'>reflection</span> <span m='39400'>is</span> <span
  m='39550'>proportional</span> <span m='40270'>to</span> <span
  m='40390'>the</span> <span m='40480'>material</span> <span
  m='40870'>density.</span> <span m='42120'>An</span> <span
  m='42310'>X-ray</span> <span m='42610'>diffraction</span> <span
  m='43150'>pattern</span> <span m='43750'>displays</span> <span
  m='44260'>both</span> <span m='44500'>sharp</span> <span
  m='45130'>Bragg's</span> <span m='45520'>peaks,</span> <span
  m='45970'>arising</span> <span m='46390'>from</span> <span
  m='46540'>the</span> <span m='46600'>crystalline</span> <span
  m='47140'>portion,</span> <span m='48160'>and</span> <span m='48280'>a</span>
  <span m='48340'>broad</span> <span m='48670'>diffraction</span> <span
  m='49240'>peak</span> <span m='49650'>caused</span> <span m='49900'>by</span>
  <span m='50050'>scattering</span> <span m='50710'>from</span> <span
  m='50890'>the</span> <span m='50980'>amorphous</span> <span
  m='51550'>portion</span> <span m='51880'>of</span> <span m='51940'>the</span>
  <span m='52000'>polymer.</span> <span m='53260'>The</span> <span
  m='53380'>degree</span> <span m='53710'>of</span> <span
  m='53800'>crystallinity</span> <span m='54610'>can</span> <span
  m='54760'>be</span> <span m='54850'>determined</span> <span
  m='55390'>using</span> <span m='55690'>this</span> <span
  m='55930'>formula,</span> <span m='56710'>where</span> <span
  m='56860'>the</span> <span m='56920'>total</span> <span
  m='57370'>integrated</span> <span m='57940'>intensities,</span> <span
  m='58840'>all</span> <span m='59020'>of</span> <span m='59110'>the</span>
  <span m='59200'>sharp</span> <span m='59560'>peaks,</span> <span
  m='60370'>are</span> <span m='60460'>divided</span> <span m='60970'>by</span>
  <span m='61090'>the</span> <span m='61210'>integrated</span> <span
  m='61810'>intensities</span> <span m='62530'>of</span> <span
  m='62770'>all</span> <span m='62980'>peaks,</span> <span
  m='63460'>including</span> <span m='64030'>that</span> <span
  m='64209'>of</span> <span m='64330'>the</span> <span
  m='64420'>amorphous</span> <span m='64920'>peak.</span> </p><p><span
  m='66100'>Many</span> <span m='66400'>laboratories</span> <span
  m='67150'>have</span> <span m='67390'>access</span> <span m='67810'>to</span>
  <span m='67980'>XRD</span> <span m='68770'>peak</span> <span
  m='69130'>fitting</span> <span m='69430'>software</span> <span
  m='70060'>that</span> <span m='70210'>can</span> <span m='70360'>be</span>
  <span m='70480'>used</span> <span m='70750'>to</span> <span
  m='70840'>calculate</span> <span m='71440'>degree</span> <span
  m='71800'>of</span> <span m='71890'>crystallinity.</span> <span
  m='73030'>But</span> <span m='73210'>this</span> <span
  m='73420'>software</span> <span m='73930'>can</span> <span
  m='74170'>often</span> <span m='74440'>be</span> <span
  m='74560'>expensive.</span> <span m='75760'>I</span> <span
  m='75910'>set</span> <span m='76180'>out</span> <span m='76420'>to</span>
  <span m='76570'>create</span> <span m='76840'>a</span> <span
  m='76870'>peak</span> <span m='77230'>fitting</span> <span
  m='77500'>software</span> <span m='78040'>to</span> <span
  m='78160'>calculate</span> <span m='78730'>degree</span> <span
  m='79090'>of</span> <span m='79180'>crystallinity</span> <span
  m='79930'>for</span> <span m='80110'>semi-crystalline</span> <span
  m='80950'>polymers</span> <span m='81760'>using</span> <span
  m='82120'>Mathematica.</span> </p><p><span m='83170'>The</span> <span
  m='83290'>basic</span> <span m='83650'>idea</span> <span m='83950'>for</span>
  <span m='84100'>this</span> <span m='84340'>program</span> <span
  m='84880'>is</span> <span m='85030'>that</span> <span m='85180'>the</span>
  <span m='85270'>user</span> <span m='85630'>will</span> <span
  m='85750'>define</span> <span m='86320'>a</span> <span m='86380'>series</span>
  <span m='86800'>of</span> <span m='86920'>Gaussian</span> <span
  m='87430'>peaks</span> <span m='88030'>using</span> <span
  m='88360'>this</span> <span m='88540'>equation.</span> <span
  m='89770'>The</span> <span m='89890'>width,</span> <span m='91240'>the</span>
  <span m='91330'>height,</span> <span m='92620'>and</span> <span
  m='92740'>the</span> <span m='92860'>exposition</span> <span
  m='93640'>of</span> <span m='93730'>these</span> <span m='93910'>peaks</span>
  <span m='94510'>can</span> <span m='94690'>be</span> <span
  m='94810'>manipulated.</span> </p><p><span m='97090'>This</span> <span
  m='97360'>code</span> <span m='97850'>allows</span> <span m='98140'>the</span>
  <span m='98260'>user</span> <span m='98680'>to</span> <span
  m='98860'>adjust</span> <span m='99160'>the</span> <span
  m='99280'>appearance</span> <span m='99970'>and</span> <span
  m='100060'>position</span> <span m='100660'>of</span> <span
  m='100780'>multiple</span> <span m='101170'>peaks,</span> <span
  m='101710'>and</span> <span m='101860'>match</span> <span m='102100'>it</span>
  <span m='102160'>to</span> <span m='102280'>an</span> <span
  m='102370'>existing</span> <span m='102970'>XRD</span> <span
  m='103480'>pattern.</span> <span m='104440'>First,</span> <span
  m='104950'>the</span> <span m='105070'>code</span> <span
  m='105440'>allows</span> <span m='105670'>the</span> <span
  m='105760'>user</span> <span m='106180'>to</span> <span
  m='106360'>adjust</span> <span m='106660'>the</span> <span
  m='106750'>position</span> <span m='107890'>and</span> <span
  m='108130'>the</span> <span m='108220'>scale</span> <span m='108820'>of</span>
  <span m='108940'>the</span> <span m='109190'>XRD</span> <span
  m='109570'>pattern.</span> <span m='110680'>The</span> <span
  m='110800'>user</span> <span m='111130'>is</span> <span m='111310'>then</span>
  <span m='111670'>able</span> <span m='111910'>to</span> <span
  m='112060'>adjust</span> <span m='112450'>the</span> <span
  m='112570'>positions</span> <span m='113170'>of</span> <span
  m='113260'>both</span> <span m='113470'>the</span> <span
  m='113560'>crystalline</span> <span m='114070'>peaks</span> <span
  m='114700'>and</span> <span m='114910'>amorphous</span> <span
  m='115330'>peaks.</span> </p><p><span m='120840'>Once</span> <span
  m='121080'>the</span> <span m='121200'>user</span> <span
  m='121500'>obtains</span> <span m='121860'>a</span> <span
  m='121920'>fit</span> <span m='122220'>that</span> <span
  m='122400'>they're</span> <span m='122550'>happy</span> <span
  m='122940'>with,</span> <span m='123330'>they</span> <span
  m='123420'>can</span> <span m='123570'>calculate</span> <span
  m='124050'>the</span> <span m='124170'>degree</span> <span
  m='124530'>of</span> <span m='124680'>crystallinity</span> <span
  m='125610'>by</span> <span m='125790'>determining</span> <span
  m='126450'>the</span> <span m='126600'>integrated</span> <span
  m='127170'>area</span> <span m='127590'>under</span> <span
  m='127830'>the</span> <span m='127950'>crystalline</span> <span
  m='128550'>peaks,</span> <span m='129479'>divided</span> <span
  m='129930'>by</span> <span m='130050'>the</span> <span
  m='130199'>integrated</span> <span m='130800'>area</span> <span
  m='131460'>under</span> <span m='131790'>all</span> <span m='132000'>of</span>
  <span m='132120'>the</span> <span m='132210'>peaks.</span> <span
  m='135090'>In</span> <span m='135210'>this</span> <span
  m='135420'>particular</span> <span m='135960'>polymer,</span> <span
  m='136830'>the</span> <span m='137510'>determined</span> <span
  m='137940'>degree</span> <span m='138240'>of</span> <span
  m='138370'>crystallinity</span> <span m='139140'>was</span> <span
  m='139320'>41%.</span> </p><p><span m='141420'>To</span> <span
  m='141570'>test</span> <span m='141870'>the</span> <span
  m='141990'>accuracy</span> <span m='142710'>of</span> <span
  m='142860'>my</span> <span m='143070'>code,</span> <span m='143720'>I</span>
  <span m='144050'>fit</span> <span m='144280'>XRD</span> <span
  m='144570'>patterns</span> <span m='145050'>for</span> <span
  m='145170'>polyethylene</span> <span m='145950'>varieties</span> <span
  m='146640'>with</span> <span m='146850'>known</span> <span
  m='147210'>values</span> <span m='147720'>for</span> <span
  m='147870'>degree</span> <span m='148170'>of</span> <span
  m='148260'>crystallinity.</span> <span m='149670'>The</span> <span
  m='149760'>polymers</span> <span m='150330'>for</span> <span
  m='150450'>which</span> <span m='150660'>I</span> <span
  m='150750'>chose</span> <span m='151110'>to</span> <span
  m='151200'>match</span> <span m='151780'>XRD</span> <span
  m='152130'>patterns</span> <span m='152820'>were</span> <span
  m='152940'>low</span> <span m='153180'>density</span> <span
  m='153630'>polyethylene,</span> <span m='154770'>high</span> <span
  m='155010'>density</span> <span m='155400'>polyethylene,</span> <span
  m='156330'>and</span> <span m='156540'>ultra</span> <span
  m='156840'>high</span> <span m='157050'>molecular</span> <span
  m='157590'>weight</span> <span m='157800'>polyethylene.</span> <span
  m='159390'>The</span> <span m='159510'>expected</span> <span
  m='160050'>value</span> <span m='160440'>for</span> <span
  m='160620'>degree</span> <span m='160950'>of</span> <span
  m='161010'>crystallinity</span> <span m='161850'>for</span> <span
  m='162030'>low</span> <span m='162240'>density</span> <span
  m='162690'>polyethylene</span> <span m='163650'>is</span> <span
  m='163800'>44%</span> <span m='164370'>to</span> <span m='164460'>51%</span>
  <span m='165330'>crystallinity.</span> <span m='166620'>The</span> <span
  m='166710'>value</span> <span m='167040'>obtained</span> <span
  m='167580'>using</span> <span m='167850'>Mathematica</span> <span
  m='168390'>peak</span> <span m='168660'>fitting</span> <span
  m='169110'>was</span> <span m='169260'>46%</span> <span
  m='170160'>crystallinity,</span> <span m='171210'>so</span> <span
  m='171360'>this</span> <span m='171570'>is</span> <span
  m='171690'>within</span> <span m='171990'>the</span> <span
  m='172080'>accepted</span> <span m='172560'>range.</span> </p><p><span
  m='173580'>Similarly,</span> <span m='174390'>the</span> <span
  m='174510'>expected</span> <span m='175050'>value</span> <span
  m='175560'>for</span> <span m='175680'>degree</span> <span
  m='175980'>of</span> <span m='176100'>crystallinity</span> <span
  m='176820'>for</span> <span m='177000'>high</span> <span
  m='177270'>density</span> <span m='177660'>polyethylene</span> <span
  m='178740'>is</span> <span m='178920'>48%</span> <span m='179520'>to</span>
  <span m='179640'>69%</span> <span m='180610'>crystallinity.</span> <span
  m='181740'>And</span> <span m='181950'>Mathematica</span> <span
  m='182460'>peak</span> <span m='182760'>fitting</span> <span
  m='183150'>obtained</span> <span m='183500'>a</span> <span
  m='183540'>value</span> <span m='183930'>of</span> <span m='184020'>56%</span>
  <span m='185040'>crystallinity.</span> </p><p><span m='186450'>Finally,</span>
  <span m='187110'>ultra</span> <span m='187440'>high</span> <span
  m='187680'>molecular</span> <span m='188190'>weight</span> <span
  m='188370'>polyethylene</span> <span m='189300'>has</span> <span
  m='189510'>an</span> <span m='189570'>expected</span> <span
  m='190200'>value</span> <span m='190620'>of</span> <span m='190740'>75%</span>
  <span m='191490'>to</span> <span m='191610'>77%</span> <span
  m='192990'>crystallinity.</span> <span m='194520'>Mathematica</span> <span
  m='195210'>peak</span> <span m='195510'>fitting</span> <span
  m='195990'>showed</span> <span m='196260'>a</span> <span
  m='196320'>value</span> <span m='196650'>of</span> <span m='196770'>76%</span>
  <span m='197850'>crystallinity.</span> </p><p><span m='199340'>In</span> <span
  m='199500'>all</span> <span m='199740'>three</span> <span
  m='199920'>polymer</span> <span m='200370'>case</span> <span
  m='200640'>studies,</span> <span m='201360'>this</span> <span
  m='201600'>code</span> <span m='201960'>obtained</span> <span
  m='202290'>a</span> <span m='202320'>degree</span> <span m='202710'>of</span>
  <span m='202830'>crystallinity</span> <span m='203480'>value</span> <span
  m='203940'>within</span> <span m='204360'>the</span> <span
  m='204450'>acceptable</span> <span m='205020'>range,</span> <span
  m='206160'>indicating</span> <span m='206850'>manual</span> <span
  m='207270'>Mathematica</span> <span m='207840'>peak</span> <span
  m='208110'>fitting</span> <span m='208440'>of</span> <span
  m='208610'>XRD</span> <span m='209070'>plots</span> <span m='209460'>is</span>
  <span m='209610'>a</span> <span m='209670'>reasonable</span> <span
  m='210150'>way</span> <span m='210420'>to</span> <span
  m='210540'>determine</span> <span m='210990'>a</span> <span
  m='211050'>material's</span> <span m='211620'>degree</span> <span
  m='212070'>of</span> <span m='212190'>crystallinity.</span> </p><p><span
  m='214380'>The</span> <span m='214500'>code</span> <span m='214770'>I</span>
  <span m='214830'>just</span> <span m='215040'>described</span> <span
  m='215700'>showed</span> <span m='215970'>a</span> <span m='216030'>way</span>
  <span m='216210'>to</span> <span m='216420'>import</span> <span
  m='216810'>an</span> <span m='216960'>XRD</span> <span
  m='217440'>pattern</span> <span m='217860'>as</span> <span
  m='218040'>an</span> <span m='218160'>image</span> <span m='218670'>and</span>
  <span m='218820'>manually</span> <span m='219330'>fit</span> <span
  m='219540'>the</span> <span m='219660'>peaks</span> <span m='220050'>to</span>
  <span m='220170'>calculate</span> <span m='220710'>degree</span> <span
  m='221010'>of</span> <span m='221070'>crystallinity.</span> <span
  m='221270'>However,</span> <span m='222900'>I</span> <span
  m='223020'>can</span> <span m='223170'>do</span> <span m='223290'>a</span>
  <span m='223350'>better</span> <span m='223650'>job</span> <span
  m='223980'>of</span> <span m='224070'>determining</span> <span
  m='224640'>degree</span> <span m='224910'>of</span> <span
  m='224980'>crystallinity</span> <span m='226080'>if</span> <span
  m='226230'>I</span> <span m='226320'>let</span> <span m='226500'>the</span>
  <span m='226650'>user's</span> <span m='227100'>peak</span> <span
  m='227530'>selections</span> <span m='228240'>be</span> <span
  m='228450'>a</span> <span m='228540'>starting</span> <span
  m='229110'>guess,</span> <span m='229620'>and</span> <span
  m='229740'>let</span> <span m='229890'>Mathematica</span> <span
  m='230520'>find</span> <span m='230790'>the</span> <span
  m='230880'>best</span> <span m='231270'>set</span> <span m='231570'>of</span>
  <span m='231690'>Gaussian</span> <span m='232110'>curves</span> <span
  m='232620'>to</span> <span m='232740'>fit</span> <span m='232980'>the</span>
  <span m='233070'>data.</span> </p><p><span m='234420'>One</span> <span
  m='234570'>of</span> <span m='234630'>the</span> <span
  m='234720'>challenges</span> <span m='235380'>with</span> <span
  m='235560'>this</span> <span m='235800'>method</span> <span
  m='236250'>is</span> <span m='236460'>I</span> <span m='236520'>have</span>
  <span m='236760'>to</span> <span m='236850'>take</span> <span
  m='237090'>data</span> <span m='237450'>that's</span> <span
  m='237690'>currently</span> <span m='238110'>saved</span> <span
  m='238620'>as</span> <span m='238800'>a</span> <span m='238830'>JPG</span>
  <span m='239400'>image</span> <span m='240210'>and</span> <span
  m='240360'>convert</span> <span m='240460'>it</span> <span
  m='240780'>into</span> <span m='240990'>something</span> <span
  m='241380'>Mathematica</span> <span m='242010'>can</span> <span
  m='242190'>use</span> <span m='242460'>to</span> <span m='242580'>find</span>
  <span m='242860'>a</span> <span m='242910'>best</span> <span
  m='243270'>fit.</span> <span m='244120'>So</span> <span m='244170'>the</span>
  <span m='244260'>way</span> <span m='244460'>I</span> <span
  m='244530'>do</span> <span m='244710'>this</span> <span m='245100'>is</span>
  <span m='245340'>I</span> <span m='245520'>import</span> <span
  m='245880'>my</span> <span m='246030'>JPG</span> <span m='246510'>image</span>
  <span m='246810'>here.</span> <span m='247860'>And</span> <span
  m='247980'>then</span> <span m='248100'>I</span> <span m='248190'>use</span>
  <span m='248490'>that,</span> <span m='248970'>and</span> <span
  m='249180'>I</span> <span m='249270'>convert</span> <span m='249690'>it</span>
  <span m='249810'>to</span> <span m='249960'>be</span> <span
  m='250200'>either</span> <span m='250590'>black</span> <span
  m='251070'>or</span> <span m='251160'>white.</span> <span
  m='251880'>Then</span> <span m='252030'>I'm</span> <span
  m='252180'>able</span> <span m='252390'>to</span> <span
  m='252480'>determine</span> <span m='253170'>the</span> <span
  m='253320'>locations</span> <span m='254010'>of</span> <span
  m='254100'>the</span> <span m='254160'>black</span> <span
  m='254430'>pixels</span> <span m='256019'>and</span> <span
  m='256290'>isolate</span> <span m='256740'>them.</span> </p><p><span
  m='257500'>However,</span> <span m='257790'>my</span> <span
  m='257940'>lines</span> <span m='258240'>really</span> <span
  m='258480'>thick,</span> <span m='258910'>which</span> <span
  m='258990'>means</span> <span m='259200'>that</span> <span
  m='259320'>at</span> <span m='259410'>each</span> <span m='259740'>x</span>
  <span m='260085'>position,</span> <span m='260430'>I</span> <span
  m='260490'>have</span> <span m='260579'>multiple</span> <span
  m='260970'>y</span> <span m='261209'>positions.</span> <span
  m='262520'>So</span> <span m='262740'>then</span> <span m='262870'>I'm</span>
  <span m='263040'>able</span> <span m='263250'>to</span> <span
  m='263370'>use</span> <span m='263610'>the</span> <span
  m='263730'>following</span> <span m='264300'>code</span> <span
  m='264960'>to</span> <span m='265110'>choose</span> <span
  m='265410'>whether</span> <span m='265680'>I</span> <span
  m='265740'>want</span> <span m='265950'>to</span> <span m='266070'>have</span>
  <span m='266400'>the</span> <span m='266550'>mean</span> <span
  m='267000'>y</span> <span m='267210'>position</span> <span
  m='267630'>at</span> <span m='267720'>each</span> <span m='268170'>x</span>
  <span m='268440'>value,</span> <span m='269040'>or</span> <span
  m='269310'>one</span> <span m='269490'>of</span> <span m='269550'>the</span>
  <span m='269640'>highest</span> <span m='270090'>y</span> <span
  m='270270'>positions</span> <span m='270780'>at</span> <span
  m='270870'>each</span> <span m='271110'>x</span> <span
  m='271350'>value.</span> <span m='272310'>After</span> <span
  m='272550'>my</span> <span m='272700'>data</span> <span m='272970'>is</span>
  <span m='273090'>in</span> <span m='273180'>this</span> <span
  m='273480'>form,</span> <span m='273990'>I'm</span> <span
  m='274170'>able</span> <span m='274350'>to</span> <span m='274470'>use</span>
  <span m='274830'>it</span> <span m='275130'>for</span> <span
  m='275700'>future</span> <span m='276120'>curve-fitting</span> <span
  m='276750'>applications.</span> </p><p><span m='278190'>So</span> <span
  m='278400'>after</span> <span m='278700'>I</span> <span m='278760'>have</span>
  <span m='279090'>data,</span> <span m='279690'>I'm</span> <span
  m='279870'>able</span> <span m='280110'>to</span> <span
  m='280200'>write</span> <span m='280380'>code</span> <span
  m='280770'>that</span> <span m='280920'>allows</span> <span
  m='281310'>the</span> <span m='281460'>user</span> <span m='281940'>to</span>
  <span m='282150'>input</span> <span m='282600'>guesses</span> <span
  m='283170'>for</span> <span m='283320'>where</span> <span
  m='283500'>they</span> <span m='283620'>think</span> <span
  m='283950'>the</span> <span m='284070'>peaks</span> <span
  m='284550'>should</span> <span m='284880'>be</span> <span
  m='285060'>located.</span> <span m='286140'>And</span> <span
  m='286290'>then</span> <span m='286440'>Mathematica</span> <span
  m='287370'>uses</span> <span m='287700'>a</span> <span
  m='287760'>function</span> <span m='288210'>called</span> <span
  m='288570'>Find</span> <span m='289020'>Fit,</span> <span
  m='289800'>that's</span> <span m='290010'>going</span> <span
  m='290190'>to</span> <span m='290280'>find</span> <span m='290580'>the</span>
  <span m='290670'>best</span> <span m='291090'>approximation</span> <span
  m='292050'>for</span> <span m='292290'>my</span> <span m='292500'>data</span>
  <span m='292980'>given</span> <span m='293400'>the</span> <span
  m='293520'>guesses</span> <span m='294330'>and</span> <span
  m='294870'>the</span> <span m='294990'>model</span> <span m='295410'>I</span>
  <span m='295500'>give</span> <span m='295680'>it</span> <span
  m='295740'>to</span> <span m='295860'>work</span> <span
  m='296100'>with.</span> <span m='296370'>So</span> <span
  m='296550'>this</span> <span m='296790'>model</span> <span
  m='297420'>is</span> <span m='297900'>a</span> <span m='298050'>model</span>
  <span m='298350'>that</span> <span m='298500'>includes</span> <span
  m='298860'>three</span> <span m='299100'>different</span> <span
  m='299430'>Gaussian</span> <span m='299880'>peaks.</span> </p><p><span
  m='301320'>So</span> <span m='301530'>the</span> <span m='301620'>full</span>
  <span m='301830'>code</span> <span m='302160'>is</span> <span
  m='302310'>available</span> <span m='302760'>to</span> <span
  m='302910'>you</span> <span m='303000'>in</span> <span m='303090'>my</span>
  <span m='303210'>notebook.</span> <span m='303900'>But</span> <span
  m='304080'>here's</span> <span m='304380'>the</span> <span
  m='304500'>final</span> <span m='304860'>product.</span> <span
  m='305970'>Like</span> <span m='306210'>in</span> <span m='306300'>the</span>
  <span m='306390'>previous</span> <span m='306870'>curve-fitting</span> <span
  m='307410'>program</span> <span m='307770'>I</span> <span
  m='307860'>showed</span> <span m='308250'>you,</span> <span
  m='308430'>you're</span> <span m='308610'>able</span> <span
  m='308910'>to</span> <span m='309060'>adjust</span> <span
  m='309540'>the</span> <span m='309690'>positions</span> <span
  m='310650'>and</span> <span m='310860'>shapes</span> <span
  m='311490'>of</span> <span m='311610'>the</span> <span
  m='311760'>crystalline</span> <span m='312270'>peaks</span> <span
  m='312870'>and</span> <span m='313020'>the</span> <span
  m='313140'>amorphous</span> <span m='313650'>peaks</span> <span
  m='314460'>as</span> <span m='314640'>follows.</span> <span
  m='318570'>Once</span> <span m='318810'>you</span> <span
  m='318900'>think</span> <span m='319110'>you</span> <span
  m='319180'>have</span> <span m='319290'>a</span> <span m='319320'>fit</span>
  <span m='319620'>that's</span> <span m='319830'>fairly</span> <span
  m='320220'>reasonable,</span> <span m='320870'>you</span> <span
  m='320970'>can</span> <span m='321120'>click</span> <span
  m='321420'>Find</span> <span m='321820'>Nearest</span> <span
  m='322050'>Solution,</span> <span m='323250'>and</span> <span
  m='323370'>Mathematica</span> <span m='323940'>is</span> <span
  m='324030'>going</span> <span m='324210'>to</span> <span
  m='324300'>help</span> <span m='324660'>you</span> <span
  m='324780'>find</span> <span m='325050'>the</span> <span
  m='325140'>best</span> <span m='325590'>fit</span> <span m='325830'>for</span>
  <span m='326010'>this</span> <span m='326280'>data.</span> <span
  m='327270'>Then,</span> <span m='327480'>using</span> <span
  m='327870'>these</span> <span m='328110'>Mathematica</span> <span
  m='328740'>found</span> <span m='329040'>values,</span> <span
  m='329640'>you</span> <span m='329760'>can</span> <span
  m='329910'>calculate</span> <span m='331050'>degree</span> <span
  m='331380'>of</span> <span m='331440'>crystallinity</span> <span
  m='332220'>for</span> <span m='332370'>the</span> <span
  m='332460'>curve.</span> </p><p><span m='334720'>So</span> <span
  m='334920'>in</span> <span m='335070'>conclusion,</span> <span
  m='335790'>degree</span> <span m='336180'>of</span> <span
  m='336270'>crystallinity</span> <span m='337080'>can</span> <span
  m='337260'>be</span> <span m='337350'>determined</span> <span
  m='337800'>from</span> <span m='338040'>XRD</span> <span
  m='338340'>patterns.</span> <span m='339270'>And</span> <span
  m='339390'>today</span> <span m='339690'>I</span> <span
  m='339780'>demonstrated</span> <span m='340440'>two</span> <span
  m='340740'>possible</span> <span m='341220'>ways</span> <span
  m='341520'>of</span> <span m='341640'>doing</span> <span
  m='341910'>this</span> <span m='342120'>in</span> <span
  m='342180'>Mathematica.</span> <span m='343470'>There's</span> <span
  m='343680'>a</span> <span m='343740'>fair</span> <span
  m='343950'>amount</span> <span m='344160'>of</span> <span
  m='344220'>background</span> <span m='344730'>code</span> <span
  m='345030'>that</span> <span m='345150'>goes</span> <span
  m='345390'>into</span> <span m='345540'>the</span> <span
  m='345660'>outputs</span> <span m='346140'>you</span> <span
  m='346230'>saw</span> <span m='346490'>today.</span> <span
  m='347100'>And</span> <span m='347250'>all</span> <span m='347400'>this</span>
  <span m='347610'>code</span> <span m='347790'>is</span> <span
  m='347910'>available</span> <span m='348330'>to</span> <span
  m='348480'>you</span> <span m='348750'>in</span> <span m='348840'>my</span>
  <span m='348990'>Mathematica</span> <span m='349500'>notebook.</span> <span
  m='350550'>Hopefully</span> <span m='351030'>you'll</span> <span
  m='351180'>find</span> <span m='351390'>it</span> <span m='351480'>very</span>
  <span m='351750'>easy</span> <span m='351990'>to</span> <span
  m='352080'>modify</span> <span m='352650'>to</span> <span
  m='352800'>meet</span> <span m='352950'>your</span> <span
  m='353070'>unique</span> <span m='353550'>application</span> <span
  m='354090'>needs.</span> </p>
uid: 40249ddf58da8a978b3a76cb1d160d5f
type: courses
layout: video
---
